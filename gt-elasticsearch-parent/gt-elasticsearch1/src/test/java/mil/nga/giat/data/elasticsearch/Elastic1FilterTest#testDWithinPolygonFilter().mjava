    @Test
    public void testDWithinPolygonFilter() throws CQLException {
        DWithin filter = (DWithin) ECQL.toFilter("DWITHIN(\"geo_point\", POLYGON((0 0, 0 1, 1 1, 1 0, 0 0)), 1.0, meters)");
        GeoDistanceFilterBuilder expected = FilterBuilders.geoDistanceFilter("geo_point").lat(0.5).lon(0.5).distance(1., DistanceUnit.METERS);

        builder.visit(filter, null);
        assertTrue(builder.createFilterCapabilities().fullySupports(filter));
        assertTrue(builder.getFilterBuilder().toString().equals(expected.toString()));       
    }

