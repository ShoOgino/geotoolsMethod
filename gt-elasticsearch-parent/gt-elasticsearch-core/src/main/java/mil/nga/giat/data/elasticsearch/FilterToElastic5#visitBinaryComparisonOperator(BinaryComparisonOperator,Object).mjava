    protected void visitBinaryComparisonOperator(BinaryComparisonOperator filter, Object extraData) {
        super.visitBinaryComparisonOperator(filter, extraData);

        if (type.equals("=")) {
            filterBuilder = QueryBuilders.termQuery(key, field);
        } else if (type.equals("!=")) {
            filterBuilder = QueryBuilders.boolQuery().mustNot(QueryBuilders.termQuery(key, field));
        } else if (type.equals(">")) {
            filterBuilder = QueryBuilders.rangeQuery(key).gt(field);
        } else if (type.equals(">=")) {
            filterBuilder = QueryBuilders.rangeQuery(key).gte(field);
        } else if (type.equals("<")) {
            filterBuilder = QueryBuilders.rangeQuery(key).lt(field);
        } else if (type.equals("<=")) {
            filterBuilder = QueryBuilders.rangeQuery(key).lte(field);
        }

        if (nested) {
            filterBuilder = QueryBuilders.nestedQuery(path,filterBuilder, ScoreMode.None);
        }
    }

