    /**
     * Performs the encoding.
     * If SQL View parameters are provided in the query hints, they will be used
     * to define and/or update the {@link FilteredQueryBuilder}.
     *
     * @param query the Query to be encoded.
     *
     * @throws FilterToElasticException If there were io problems.
     */
    public void encode(Query query) throws FilterToElasticException {
        encode(query.getFilter());
        addViewParams(query);
    }

