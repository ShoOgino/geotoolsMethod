    @Test
    public void testElasticCompat5() {
        ElasticCompat compat = new ElasticCompat5();
        assertTrue(compat.newFilterToElastic() instanceof FilterToElastic5);
        assertEquals("value", compat.createSettings("key","value").get("key"));
        GeoPoint point = compat.decodeGeohash(compat.encodeGeohash(1, 2, 10));
        assertEquals(2, point.getLat(), 1e-4);
        assertEquals(1, point.getLon(), 1e-4);
        assertEquals(86461000, compat.parseDateTime("1970-01-02 00:01:01", "yyyy-mm-dd HH:mm:ss").getTime());
        assertFalse(compat.isAnalyzed(new HashMap<>()));
        assertFalse(compat.isAnalyzed(ImmutableMap.of("type", "keyword")));
        assertFalse(compat.isAnalyzed(ImmutableMap.of("type", ImmutableMap.of("type", "keyword"))));
        assertFalse(compat.isAnalyzed(ImmutableMap.of("type", "not_valid")));
        assertTrue(compat.isAnalyzed(ImmutableMap.of("type", "text")));
    }

