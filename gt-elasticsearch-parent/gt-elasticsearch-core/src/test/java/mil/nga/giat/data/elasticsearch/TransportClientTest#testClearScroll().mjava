    @Test
    public void testClearScroll() throws InterruptedException, ExecutionException {
        ClearScrollRequestBuilder mockBuilder = mock(ClearScrollRequestBuilder.class);
        when(mockClient.prepareClearScroll()).thenReturn(mockBuilder);
        when(mockBuilder.execute()).thenReturn(mockSearchResponseFuture);
        when(mockSearchResponseFuture.get()).thenReturn(mock(ClearScrollResponse.class));
        mockElasticClient.clearScroll(new HashSet<>());
        verify(mockBuilder, never()).execute();
        mockElasticClient.clearScroll(ImmutableSet.of("id1"));
        verify(mockBuilder).execute();
        mockElasticClient.clearScroll(ImmutableSet.of("id1","id2"));
        verify(mockBuilder, times(2)).execute();
    }

