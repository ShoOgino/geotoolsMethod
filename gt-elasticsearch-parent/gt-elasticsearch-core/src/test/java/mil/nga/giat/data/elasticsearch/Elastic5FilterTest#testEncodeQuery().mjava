    @Test
    public void testEncodeQuery() {
        Query query = new Query();
        query.setFilter(Filter.INCLUDE);
        builder.encode(query);
        assertEquals(QueryBuilders.matchAllQuery().toString(), builder.getQueryBuilder().toString());
        assertEquals(QueryBuilders.matchAllQuery(), builder.getNativeQueryBuilder());
        assertNull(builder.getAggregations());
        assertTrue(builder.getFullySupported());
    }

