    public void transform(final double[] srcPts, int srcOff, double[] dstPts, int dstOff, int numPts)
       {
        // TODO Auto-generated method stub
        //transformToGrid(srcPts, srcOff, srcPts, srcOff, numPts, false);
        try {
			double[] helperPts = new double[srcPts.length];

			
			    if (worldToGrid != null) {
			        worldToGrid.transform(srcPts, srcOff, helperPts, srcOff, numPts);
			    }
      

			
				super.transform(helperPts, srcOff, dstPts, dstOff, numPts);
			

			
			    if (worldToGrid != null) {
			        worldToGrid.inverse().transform(dstPts, dstOff, dstPts, dstOff, numPts);
			    }
		} catch (NoninvertibleTransformException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (TransformException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
    }

