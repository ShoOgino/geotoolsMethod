    /**
     * Returns a URL from the string representation. If the string has no
     * path, the default path preference is added.
     *
     * @param str a string representation of a URL
     * @return a URL created from the string representation
     * @throws MalformedURLException if the URL cannot be created
     */
    private static URL makeURL(final String str) throws MalformedURLException {
        //has '/' or '\' or ':', so probably full path to file
        if ((str.indexOf('\\') >= 0) || (str.indexOf('/') >= 0) || (str.indexOf(':') >= 0)) {
            return makeURLfromString(str);
        } else {
            // just a file name , prepend base location
            final Preferences prefs = Preferences.userNodeForPackage(WarpGridTransform2D.class);
            final String baseLocation = prefs.get("GRID_LOCATION", "");

            return makeURLfromString(baseLocation + "/" + str);
        }
    }

