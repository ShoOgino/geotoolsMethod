    /**
     * Computes target grid.
     * @return computed target grid.
     */
    protected float[] computeWarpGrid(GridParameters gridParams) throws FactoryException {
        float[] source = generateSourcePoints(gridParams);

      
      try {
		rsBuilder.getMathTransform().transform(source, 0, source, 0, (source.length + 1) / 2);
	} catch (TransformException e) {
		  throw new FactoryException(Errors.format(ErrorKeys.CANT_TRANSFORM_VALID_POINTS), e);			       			
	} 
       

        return source;
    }   

