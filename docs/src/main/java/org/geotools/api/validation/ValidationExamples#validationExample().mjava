    private void validationExample() throws Exception {
        SimpleFeatureCollection roadFeatures = null;
        SimpleFeatureCollection riverFeatures = null;

        // validationExample start
        MemoryDataStore store;
        store = new MemoryDataStore();
        store.addFeatures(roadFeatures);
        store.addFeatures(riverFeatures);

        //
        // SETUP
        //
        ValidationProcessor processor = new ValidationProcessor();

        // normally you load definition from file
        // Here we are doing it by hand
        IsValidGeometryValidation geom = new IsValidGeometryValidation();
        geom.setName("IsValidGeometry");
        geom.setDescription("IsValid geomtry check");
        geom.setTypeRef("*"); // works on any feature type
        processor.addValidation(geom);

        //
        // TESTING
        //

        // Create a ValidationResults callback object to receive
        // any warnings or errors
        //
        // Normally you implement this as a callback to your application;
        // here we will use a default implementation here that adds results to a list
        DefaultFeatureResults results = new DefaultFeatureResults();

        // test a featureCollection
        processor.runFeatureTests("dataStoreId", roadFeatures, results);

        // and check the results
        System.out.println("Found " + results.error.size() + " failires");
        // validationExample end
    }

