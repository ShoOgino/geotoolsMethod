public void dump() throws Exception {
    // start dumper
    ShapefileDumper dumper = new ShapefileDumper(new File("./target/demo"));
    // optiona, set a target charset (ISO-8859-1 is the default)
    dumper.setCharset(Charset.forName("ISO-8859-15"));
    // split when shp or dbf reaches 100MB
    int maxSize = 100 * 1024 * 1024;
    dumper.setMaxDbfSize(maxSize);
    dumper.setMaxDbfSize(maxSize);
    // actually dump data
    SimpleFeatureCollection fc = getFeatureCollection();
    dumper.dump(fc);
    // end dumper
}

