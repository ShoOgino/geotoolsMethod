    /**
     * Crop the coverage to the given envelope
     * @param gridCoverage coverage to crp
     * @param envelope envelope to crop it to
     * @return the cropped coverage
     */
    //docs start cropping
    private GridCoverage2D cropCoverage(GridCoverage2D gridCoverage, Envelope envelope) {
        CoverageProcessor processor =  CoverageProcessor.getInstance();

        //An example of manually creating the operation and parameters we want
        final ParameterValueGroup param = processor.getOperation("CoverageCrop").getParameters();
        param.parameter("Source").setValue(gridCoverage);
        param.parameter("Envelope").setValue(envelope);

        return (GridCoverage2D) processor.doOperation(param);
    }
    //docs end cropping

