    // helper methods
    <T> T eval(Object feature, int index, Class<T> type) {
        Expression expr = params.get(index);
        Object value = expr.evaluate(feature, type);
        return type.cast(value);
    }

