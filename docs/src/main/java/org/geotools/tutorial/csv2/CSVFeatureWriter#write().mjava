    // write start
    public void write() throws IOException {
        if (this.currentFeature == null) {
            return; // current feature has been deleted
        }
        for (Property property : currentFeature.getProperties()) {
            Object value = property.getValue();
            if (value == null) {
                this.csvWriter.write("");
            } else if (value instanceof Point) {
                Point point = (Point) value;
                if(latlon && latIndex <= lngIndex) {
	                this.csvWriter.write(Double.toString(point.getX()));
	                this.csvWriter.write(Double.toString(point.getY()));
                } else {
                	this.csvWriter.write(Double.toString(point.getY()));
	                this.csvWriter.write(Double.toString(point.getX()));
                }
            } else {
                String txt = value.toString();
                this.csvWriter.write(txt);
            }
        }
        this.csvWriter.endRecord();
        nextRow++;
        this.currentFeature = null; // indicate that it has been written
    }
    // write end

