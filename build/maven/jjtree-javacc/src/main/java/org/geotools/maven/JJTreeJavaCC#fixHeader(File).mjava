    /**
     * Takes a file generated from javacc, and changes the first line so that it does not contain
     * escape characters on windows (the filename may contain things like \ u which are invalid
     * escape chars)
     *
     * @param sourceFile the file to process.
     * @throws IOException if the file can't be read or the resutl can't be writen.
     */
    private void fixHeader(final File sourceFile) throws IOException {
        BufferedReader reader = null;
        BufferedWriter writer = null;
        File fixedFile = new File(sourceFile.getParentFile(), sourceFile.getName() + ".fix");
        try {
            reader = new BufferedReader(new FileReader(sourceFile));
            writer = new BufferedWriter(new FileWriter(fixedFile));
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.startsWith("/*@bgen(jjtree) Generated By:JJTree:")
                        || line.startsWith("/* Generated By:JJTree:")) {
                    line = line.replace('\\', '/');
                }
                writer.write(line);
                writer.newLine();
            }
        } finally {
            if (reader != null) reader.close();
            if (writer != null) writer.close();
        }
        sourceFile.delete();
        fixedFile.renameTo(sourceFile);
    }

