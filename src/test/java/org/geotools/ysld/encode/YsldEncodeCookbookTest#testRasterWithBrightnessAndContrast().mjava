    @Test
    public void testRasterWithBrightnessAndContrast() throws Exception {
        //    <UserStyle>
        //      <Title>SLD Cook Book: Brightness and contrast</Title>
        //      <FeatureTypeStyle>
        //        <Rule>
        //          <RasterSymbolizer>
        //            <ContrastEnhancement>
        //              <Normalize />
        //              <GammaValue>0.5</GammaValue>
        //            </ContrastEnhancement>
        //            <ColorMap>
        //              <ColorMapEntry color="#008000" quantity="70" />
        //              <ColorMapEntry color="#663333" quantity="256" />
        //            </ColorMap>
        //          </RasterSymbolizer>
        //        </Rule>
        //      </FeatureTypeStyle>
        //    </UserStyle>

        YamlMap obj = encode("raster", "brightness-and-contrast.sld");
        YamlMap raster = obj.seq("feature-styles").map(0).seq("rules").map(0).seq("symbolizers").map(0).map("raster");

        assertEquals("normalize", raster.map("contrast-enhancement").str("mode"));
        assertEquals(0.5, raster.map("contrast-enhancement").doub("gamma"), 0.1);
        assertThat(raster.map("color-map").seq("entries"),
                yHasItem(0, yTuple(fakeString(equalTo("#008000")), lexEqualTo(""), numEqualTo(70), lexEqualTo("")))
                );
        assertThat(raster.map("color-map").seq("entries"),
                yHasItem(1, yTuple(fakeString(equalTo("#663333")), lexEqualTo(""), numEqualTo(256), lexEqualTo("")))
                );
    }

