    /**
     * Parses an expression from its string representation.
     */
    static Expression expression(String value, Factory factory) {
        try {
            Expression expr = ECQL.toExpression(value, factory.filter);
            if (expr instanceof PropertyName && !ATTRIBUTE_PATTERN.matcher(value).matches()) {
                // treat as literal
                return factory.filter.literal(((PropertyName) expr).getPropertyName());
            }
            return expr;
        } catch (CQLException e) {
            //TODO: log this?
            return factory.filter.literal(value);
            //throw new ParseException("Bad expression: "+value, evt, e);
        }
    }

