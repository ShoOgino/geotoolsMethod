    /**
     * Parses a color from string representation.
     */
    static Expression color(String value, Factory factory) {
        Color color = null;
        Matcher m = HEX_PATTERN.matcher(value);
        if (m.matches()) {
            color = parseColorAsHex(m);
        }
        if (color == null) {
            m = RGB_PATTERN.matcher(value);
            if (m.matches()) {
                color = parseColorAsRGB(m);
            }
        }


        return color != null ? factory.filter.literal(color) : expression(value, factory);
    }

