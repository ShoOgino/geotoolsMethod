    @Override
    protected DataSource createDataSource(Map params, SQLDialect dialect) throws IOException {
        SQLiteConfig config = setupSQLiteConfig(params);

        // use native "pool", which is actually not pooling anything (that's fast and
        // has less scalability overhead)
        SQLiteConnectionPoolDataSource ds = new SQLiteConnectionPoolDataSource(config);
        ds.setUrl(getJDBCUrl(params));

        return ds;
    }

