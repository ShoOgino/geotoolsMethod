    /**
     * Lists all metadata entries present in the GeoPackage
     *
     * @throws SQLException
     */
    List<GeoPkgMetadata> getMetadatas() throws SQLException {
        try (Connection cx = getConnection()) {

            if (!isRegistered(cx)) {
                return null;
            }
            String sql = format("SELECT * FROM %s", METADATA);
            try (PreparedStatement ps = cx.prepareStatement(sql);
                    ResultSet rs = ps.executeQuery()) {
                List<GeoPkgMetadata> metadata = new ArrayList<>();
                while (rs.next()) {
                    metadata.add(mapMetadata(rs));
                }
                return metadata;
            }
        }
    }

