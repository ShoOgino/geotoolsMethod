    /**
     * Returns true if the extension has at least one registration in the geopkg_extensions table.
     * If not registered, the GeoPackage does not really have this extension, but the class could be
     * used to create one (this behavior is extension specific and delegated to sub-classes).
     */
    public boolean isRegistered() throws IOException {
        try {
            try (Connection cx = geoPackage.connPool.getConnection()) {
                String sql =
                        format(
                                "SELECT * " + " FROM %s" + " WHERE extension_name = ? LIMIT 1",
                                GeoPackage.EXTENSIONS);

                try (PreparedStatement ps = cx.prepareStatement(sql)) {
                    ps.setString(1, name);
                    try (ResultSet rs = ps.executeQuery()) {
                        return rs.next();
                    }
                }
            }
        } catch (SQLException e) {
            throw new IOException(e);
        }
    }

