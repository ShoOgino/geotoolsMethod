    @Test
    public void testReadEnums() throws Exception {
        // write some features
        writeEnumeratedFeatures();

        // read them back, check they are properly mapped
        FilterFactory ff = dataStore.getFilterFactory();
        SimpleFeatureSource source = dataStore.getFeatureSource(tname("ft2"));
        Query q = new Query();
        q.setSortBy(ff.sort(aname("enumProperty"), SortOrder.ASCENDING));
        List<SimpleFeature> features = DataUtilities.list(source.getFeatures(q));
        assertEquals(4, features.size());
        assertNull(features.get(0).getAttribute("enumProperty"));
        assertEquals("one", features.get(1).getAttribute("enumProperty"));
        assertEquals("two", features.get(2).getAttribute("enumProperty"));
        assertEquals("three", features.get(3).getAttribute("enumProperty"));
    }

