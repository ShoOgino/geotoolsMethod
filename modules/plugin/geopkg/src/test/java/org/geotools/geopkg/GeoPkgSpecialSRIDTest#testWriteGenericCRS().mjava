    @Test
    public void testWriteGenericCRS() throws Exception {
        SimpleFeatureTypeBuilder tb = new SimpleFeatureTypeBuilder();
        tb.add("id", Integer.class);
        tb.add("geom", LineString.class, GENERIC_2D);
        tb.add("name", String.class);
        tb.setName("road");
        SimpleFeatureType roadType = tb.buildFeatureType();
        GeometryFactory gf = new GeometryFactory();
        SimpleFeature[] roadFeatures = new SimpleFeature[3];
        roadFeatures[0] =
                SimpleFeatureBuilder.build(
                        roadType,
                        new Object[] {
                            Integer.valueOf(1), line(gf, new int[] {1, 1, 2, 2, 4, 2, 5, 1}), "r1",
                        },
                        "road.rd1");

        Map<String, File> params = Collections.singletonMap("database", GENERIC_CRS_GPKG);
        JDBCDataStore store = new GeoPkgDataStoreFactory().createDataStore(params);
        try {
            store.createSchema(roadType);
            SimpleFeatureStore road = (SimpleFeatureStore) store.getFeatureSource("road");
            road.addFeatures(DataUtilities.collection(roadFeatures));

            // check -1
            assertEquals(GENERIC_2D, store.getSchema("road").getCoordinateReferenceSystem());
        } finally {
            if (store != null) store.dispose();
        }
    }

