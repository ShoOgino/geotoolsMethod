    private static void deleteTable(final ISessionPool connPool, final String tableName,
            final boolean ignoreFailure) throws IOException, UnavailableConnectionException {

        final Command<Void> deleteCmd = new Command<Void>() {

            @Override
            public Void execute(ISession session, SeConnection connection) throws SeException,
                    IOException {
                // try {
                // layer.delete();
                // } catch (NoSuchElementException e) {
                // // nothing to do
                // } catch (SeException e) {
                // // LOGGER.log(Level.WARNING, "while deleteing layer " +
                // tableName + " got '" +
                // // e.getSeError().getErrDesc() + "'");
                // }
                SeTable table = new SeTable(connection, tableName);
                try {
                    table.delete();
                } catch (SeException ignorable) {
                    // table did not already exist? or was locked...
                    if (!ignoreFailure) {
                        throw new ArcSdeException(ignorable);
                    }
                }
                return null;
            }
        };

        final ISession session = connPool.getSession();
        try {
            session.issue(deleteCmd);
        } finally {
            session.dispose();
        }
    }

