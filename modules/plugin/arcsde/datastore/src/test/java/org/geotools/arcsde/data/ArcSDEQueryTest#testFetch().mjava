    @Test
    public void testFetch() throws IOException {
        ArcSDEQuery queryAll = getQueryAll();
        try {
            queryAll.fetch();
            fail("fetch without calling execute");
        } catch (IllegalStateException e) {
            // ok
        }

        queryAll.execute();
        assertNotNull(queryAll.fetch());

        queryAll.close();
        try {
            queryAll.fetch();
            fail("fetch after close!");
        } catch (IllegalStateException e) {
            // ok
        }

        queryAll.session.dispose();
    }

