    /**
     * This method tests the feature reader by opening various simultaneous FeatureReaders using the
     * 3 test tables.
     *
     * <p>I found experimentally that until 24 simultaneous streams can be opened by a single
     * connection. Each featurereader has an ArcSDE stream opened until its <code>close()</code>
     * method is called or hasNext() returns flase, wich automatically closes the stream. If more
     * than 24 simultaneous streams are tryied to be opened upon a single SeConnection, an exception
     * is thrown by de Java ArcSDE API saying that a "NETWORK I/O OPERATION FAILED"
     */
    @Test
    public void testGetFeatureReader() throws IOException {
        final String typeName = testData.getTempTableName();

        FeatureReader<SimpleFeatureType, SimpleFeature> reader = getReader(typeName);

        assertNotNull(reader);
        int count = 0;
        try {
            while (testNext(reader)) {
                ++count;
            }
        } finally {
            reader.close();
        }

        assertEquals(8, count);
    }

