    /**
     * @see FeatureSource#getCount(Query)
     */
    protected int getCount(final Query namedQuery, final ISession session) throws IOException {
        final int count;
        final String typeName = typeInfo.getFeatureTypeName();
        final ArcSdeVersionHandler versionHandler = dataStore.getVersionHandler(typeName,
                transaction);
        count = ArcSDEQuery.calculateResultCount(session, typeInfo, namedQuery, versionHandler);
        return count;
    }

