    private static ImageTypeSpecifier createOneBitColorMappedImageSpec(
            int sampleImageWidth, int sampleImageHeight, byte noDataValue) {

        assert noDataValue == 2;

        final int FALSE = ColorUtilities.getIntFromColor(255, 255, 255, 255);
        final int TRUE = ColorUtilities.getIntFromColor(0, 0, 0, 255);
        final int NODATA = ColorUtilities.getIntFromColor(255, 255, 255, 0);

        final int mapSize = 3;
        int[] cmap = new int[mapSize];
        cmap[0] = FALSE;
        cmap[1] = TRUE;
        cmap[2] = NODATA;

        int transparentPixel = noDataValue;
        IndexColorModel colorModel =
                new IndexColorModel(
                        8, mapSize, cmap, 0, false, transparentPixel, DataBuffer.TYPE_BYTE);

        SampleModel sampleModel =
                colorModel.createCompatibleSampleModel(sampleImageWidth, sampleImageHeight);
        ImageTypeSpecifier its = new ImageTypeSpecifier(colorModel, sampleModel);
        return its;
    }

