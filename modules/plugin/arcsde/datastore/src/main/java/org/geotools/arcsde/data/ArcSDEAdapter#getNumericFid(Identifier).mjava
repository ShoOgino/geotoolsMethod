    /**
     * Returns the numeric identifier of a FeatureId, given by the full qualified name of the
     * featureclass prepended to the ArcSDE feature id. ej: SDE.SDE.SOME_LAYER.1
     *
     * @param id a geotools FeatureID
     * @return an ArcSDE feature ID
     * @throws IllegalArgumentException If the given string is not properly formatted
     *     [anystring].[long value]
     */
    public static long getNumericFid(Identifier id) throws IllegalArgumentException {
        if (!(id instanceof FeatureId))
            throw new IllegalArgumentException(
                    "Only FeatureIds are supported when encoding id filters to SDE.  Not "
                            + id.getClass());

        final String fid = ((FeatureId) id).getID();
        return getNumericFid(fid);
    }

