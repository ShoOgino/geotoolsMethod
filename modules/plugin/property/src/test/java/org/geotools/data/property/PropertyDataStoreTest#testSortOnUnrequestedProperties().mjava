    @Test
    public void testSortOnUnrequestedProperties() throws Exception {
        ContentFeatureSource fs = store.getFeatureSource("road");
        Query q = new Query("road");
        q.setPropertyNames("name");
        q.setSortBy(ff.sort("id", SortOrder.DESCENDING));

        ContentFeatureCollection fc = fs.getFeatures(q);
        String[] expectedNames = {"", "justin", "dave", "brent", "jody"};
        try (SimpleFeatureIterator fi = fc.features()) {
            int i = 0;
            while (fi.hasNext()) {
                SimpleFeature feature = fi.next();
                String name = (String) feature.getAttribute("name");
                String expectedName = expectedNames[i];
                Assert.assertEquals(expectedName, name);
                i++;
            }
        }
    }

