    @Test
    public void testUpdate3DLine() throws Exception {
        // write out new feature
        SimpleFeatureStore fs = (SimpleFeatureStore) store.getFeatureSource("full3d");
        fs.modifyFeatures("geom",
                new WKTReader()
                        .read("LINESTRING(94330 471816 30, 194319 471814 30)"),
                newIdFilter("full3d.ls"));

        // read back and check
        SimpleFeature point = getOneFeature("full3d.ls");
        final LineString geom = (LineString) point.getDefaultGeometry();
        assertEquals(3, CoordinateSequences.coordinateDimension(geom));
        assertEquals(30, geom.getCoordinate().getOrdinate(2), 0d);
    }

