    @Test
    public void testWriterChangeIgnoreAppend() throws Exception {
        Query query = new Query("road");
        PropertyFeatureStore featureStore = (PropertyFeatureStore) store.getFeatureSource("road");
        try (PropertyFeatureWriter writer =
                (PropertyFeatureWriter) featureStore.getWriterInternal(query, 0x01 << 0)) {

            writer.next();
            writer.next();
            writer.next();
            writer.next();
            writer.next();
            Assert.assertFalse(writer.hasNext());
            SimpleFeature f = writer.next();
            Assert.assertNotNull(f);
            f.setAttribute(0, Integer.valueOf(-1));
            f.setAttribute(1, "new");
        }
        Assert.assertEquals(5, count("road"));
    }

