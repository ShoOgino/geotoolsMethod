        /**
         * @param domainExtent
         * @param globalDomainExtent
         * @param name
         * @param type
         * @param adaptee TODO missing support for Range TODO missing support for String domains
         * @throws IOException
         */
        UnidataAdditionalDomain(CoordinateVariable<?> adaptee) throws IOException {
            this.adaptee = adaptee;
            name = adaptee.getName();

            // type
            Class<?> type = adaptee.getType();
            if (Date.class.isAssignableFrom(type)) {
                this.type = DomainType.DATE;

                // global domain
                globalDomainExtent.add(
                        new DateRange((Date) adaptee.getMinimum(), (Date) adaptee.getMaximum()));
            } else if (Number.class.isAssignableFrom(type)) {
                this.type = DomainType.NUMBER;

                // global domain
                globalDomainExtent.add(
                        new NumberRange<Double>(
                                Double.class,
                                ((Number) adaptee.getMinimum()).doubleValue(),
                                ((Number) adaptee.getMaximum()).doubleValue()));
            } else {
                throw new UnsupportedOperationException(
                        "Unsupported CoordinateVariable:" + adaptee.toString());
            }

            // domain
            domainExtent.addAll(adaptee.read());
        }

