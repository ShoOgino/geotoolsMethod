    /**
     * Returns the service registry. The registry will be created the first time this method is invoked.
     */
    private static FactoryRegistry getServiceRegistry() {
        assert Thread.holdsLock(CoordinateHandlerFinder.class);
        if (registry == null) {
            registry = new FactoryCreator(
                    Arrays.asList(new Class<?>[] { CoordinateHandlerSpi.class }));
        }
        return registry;
    }

