    @Override
    public boolean canDecodeInput(Object source) throws IOException {
        URI input = null;
        if (source instanceof URI) {
            input = (URI) source;
        } else if (source instanceof File) {
            input = ((File) source).toURI();
        } else if (source instanceof FileImageInputStreamExtImpl) {
            input = ((FileImageInputStreamExtImpl) source).getFile().toURI();
            if (LOGGER.isLoggable(Level.FINE)) {
                LOGGER.fine("Found a valid FileImageInputStream");
            }
        } else if (source instanceof URIImageInputStream) {
            input = ((URIImageInputStream) source).getUri();
        }

        if (input != null) {
            return NetCDFUtilities.getFormat(input) != FileFormat.NONE;
        } else {
            return false;
        }
    }

