    /**
     * Helper method that simply reads a bank of data from a data buffer.
     */
    private int[] readBank(DataBuffer dataBuffer, int bank) {
        int[] data = new int[dataBuffer.getSize()];
        for (int i = 0; i < dataBuffer.getSize(); i++) {
            data[i] = dataBuffer.getElem(bank, i);
        }
        return data;
    }

