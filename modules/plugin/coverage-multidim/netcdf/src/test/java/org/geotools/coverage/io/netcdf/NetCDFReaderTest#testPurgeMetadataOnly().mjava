    @Test
    public void testPurgeMetadataOnly() throws Exception {
        String directoryName = "purgeMetadataOnly";
        PurgeSetupHelper purgeSetupHelper = new PurgeSetupHelper(directoryName).invoke();

        // now remove only the metadata
        NetCDFReader reader = purgeSetupHelper.reader;
        reader.delete(false);
        reader.dispose();

        // check we indeed removed the metadata only
        assertFalse("Metadata dir should have been removed", purgeSetupHelper.metadataDirectory.get().exists());
        assertTrue("Data file should still be there", purgeSetupHelper.dataFile.get().exists());
    }

