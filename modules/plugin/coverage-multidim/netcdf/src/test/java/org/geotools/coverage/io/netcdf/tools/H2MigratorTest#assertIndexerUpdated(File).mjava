    public void assertIndexerUpdated(File testDir) throws JAXBException {
        // check the indexer has been modified and the aux datastore file is there
        File auxDataStoreFile = new File(testDir, H2Migrator.NETCDF_DATASTORE_PROPERTIES);
        assertTrue(auxDataStoreFile.exists());
        File indexerFile = new File(testDir, "indexer.xml");
        assertTrue(indexerFile.exists());
        final Indexer indexer = Utils.unmarshal(indexerFile);
        final Optional<String> auxDataStore =
                indexer.getParameters()
                        .getParameter()
                        .stream()
                        .filter(p -> Utils.Prop.AUXILIARY_DATASTORE_FILE.equals(p.getName()))
                        .map(p -> p.getValue())
                        .findFirst();
        assertTrue(auxDataStore.isPresent());
        assertEquals(H2Migrator.NETCDF_DATASTORE_PROPERTIES, auxDataStore.get());
    }

