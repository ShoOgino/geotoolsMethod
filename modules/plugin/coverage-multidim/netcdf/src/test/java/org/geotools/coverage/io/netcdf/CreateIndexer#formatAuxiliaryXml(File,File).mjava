    private static void formatAuxiliaryXml(File auxiliaryFile, File finalAuxFile) throws FileNotFoundException, TransformerException {
        Transformer transformer = TransformerFactory.newInstance().newTransformer();
        transformer.setOutputProperty(OutputKeys.INDENT, "yes");
        transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "2");

        //initialize StreamResult with File object to save to file
        StreamResult result = new StreamResult(new StringWriter());
        InputStream is = null;
        PrintWriter out = null;
        try {
            is = new FileInputStream(auxiliaryFile);

            transformer.transform(new StreamSource(is), result);
            String xmlString = result.getWriter().toString();

            out = new PrintWriter(finalAuxFile);
            out.println(xmlString);
            out.flush();
    
        } finally {
            if (is != null) {
                try {
                    is.close();
                } catch (Exception e) {
                    // does nothing
                }
            }
            if (out != null) {
                try {
                    out.close();
                } catch (Exception e) {
                    // does nothing
                }
            }
        }
        
    }

