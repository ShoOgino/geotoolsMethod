    @Test
    public void testUTMDatasetSpatialRef() throws Exception {
        final File file = TestData.file(this, "utm_spatial_ref.nc");
        NetCDFReader reader = null;
        try {
            reader = new NetCDFReader(file, null);
            String[] coverages = reader.getGridCoverageNames();
            CoordinateReferenceSystem crs = reader.getCoordinateReferenceSystem(coverages[0]);
            assertTrue(crs instanceof ProjectedCRS);
            ProjectedCRS projectedCRS = ((ProjectedCRS) crs);
            GeographicCRS baseCRS = projectedCRS.getBaseCRS();

            // Dealing with SPATIAL_REF Attribute
            assertTrue(CRS.equalsIgnoreMetadata(baseCRS, DefaultGeographicCRS.WGS84));
            Projection projection = projectedCRS.getConversionFromBase();
            MathTransform transform = projection.getMathTransform();
            assertTrue(transform instanceof TransverseMercator);
            MathTransform sourceToTargetTransform = CRS.findMathTransform(crs, UTM32611);
            assertTrue(sourceToTargetTransform.isIdentity());
        } finally {
            if (reader != null) {
                try {
                    reader.dispose();
                } catch (Throwable t) {
                    // Does nothing
                }
            }
        }
    }

