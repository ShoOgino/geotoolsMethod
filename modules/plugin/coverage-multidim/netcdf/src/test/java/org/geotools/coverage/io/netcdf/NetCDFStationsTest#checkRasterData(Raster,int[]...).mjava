    /**
     * Helper method that simply checks that the raster contains the expected data. The number of bands
     * should match the number of expected banks in the provided order.
     */
    private void checkRasterData(Raster data, int[]... expected) {

        // we should have a number of bands equal to the number of banks abd equal to number of expected results
        assertThat(data.getNumBands(), is(expected.length));
        assertThat(data.getDataBuffer().getNumBanks(), is(expected.length));

        // let's check if the banks values match the expected values
        for (int i = 0; i < expected.length; i++) {
            int[] bank = readBank(data.getDataBuffer(), i);
            checkArrayContainsArray(bank, expected[i]);
        }
    }

