    @Test
    public void testNetCdfMosaicSingleVariableFiles()
            throws IOException, NoSuchFieldException, SecurityException, IllegalArgumentException,
                    IllegalAccessException {
        File ncMosaic = TestData.file(this, "imagemosaic");
        File mosaic = new File(TestData.file(this, "."), "ncmosaic");
        if (mosaic.exists()) {
            FileUtils.deleteDirectory(mosaic);
        }
        assertTrue(mosaic.mkdirs());
        FileUtils.copyDirectory(ncMosaic, mosaic);
        File auxiliaryFile = new File(mosaic, "O3-NO2.xml");
        String auxiliaryFilePath = auxiliaryFile.getAbsolutePath();
        Hints hints = new Hints(Utils.AUXILIARY_FILES_PATH, auxiliaryFilePath);
        ImageMosaicFormat format = new ImageMosaicFormat();
        ImageMosaicReader reader = null;
        GridCoverage2D coverage = null;
        try {
            reader = format.getReader(mosaic, hints);
            coverage = reader.read("O3", null);
            reader.dispose();
            reader = format.getReader(mosaic, hints);
            coverage = reader.read("NO2", null);
            assertNotNull(coverage);
        } finally {
            if (coverage != null) {
                ImageUtilities.disposePlanarImageChain((PlanarImage) coverage.getRenderedImage());
                coverage.dispose(true);
            }
            reader.dispose();
        }
    }

