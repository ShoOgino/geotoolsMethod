    @Test    
    public void test() throws Exception {

        File file = TestData.file(this, "fivedim.nc");
        
        //first create reader to build index
        new NetCDFFormat().getReader(file);
        
        NetCDFAuxiliaryStoreFactory fac = new NetCDFAuxiliaryStoreFactory();        
        Map<String, Serializable> params = new HashMap<>();
        params.put(NetCDFAuxiliaryStoreFactory.FILE_PARAM.getName(), file);
        
        assertTrue(fac.canProcess(params));
        
        DataStore store = fac.createDataStore(params);
        
        assertNotNull(store);
        
        assertArrayEquals(new String[] {"D"},store.getTypeNames());
        
        SimpleFeatureType type = store.getSchema("D");
        
        assertNotNull(type);
        
        assertEquals(5, type.getAttributeCount());
        
        assertEquals("the_geom", type.getAttributeDescriptors().get(0).getName().getLocalPart());
        assertEquals("imageindex", type.getAttributeDescriptors().get(1).getName().getLocalPart());
        assertEquals("time", type.getAttributeDescriptors().get(2).getName().getLocalPart());
        assertEquals("z", type.getAttributeDescriptors().get(3).getName().getLocalPart());
        assertEquals("runtime", type.getAttributeDescriptors().get(4).getName().getLocalPart());
    }

