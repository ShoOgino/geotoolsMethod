    @Test
    public void testWeirdGribFileCanBeOpened() throws FileNotFoundException, IOException {
        final String referenceDir = "testGrib";
        final File workDir = new File(TestData.file(this, "."), referenceDir);
        if (!workDir.mkdir()) {
            FileUtils.deleteDirectory(workDir);
            assertTrue("Unable to create workdir:" + workDir, workDir.mkdir());
        }
        final File zipFile = new File(workDir, "weird.zip");
        FileUtils.copyFile(TestData.file(this, "weird.zip"), zipFile);

        TestData.unzipFile(this, referenceDir + "/weird.zip");
        // This file is a valid GRIB file but it has wrong magic number and
        // it doesn't have a recognized grib extension
        final File file = new File(workDir, "weird.model");
        NetCDFImageReaderSpi spi = new NetCDFImageReaderSpi();
        assertTrue(spi.canDecodeInput(file));
    }

