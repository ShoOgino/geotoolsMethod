        public void paint(Graphics2D g, int width, int height, int x, int y) {
            // saves the old transform;
            AffineTransform oldTransform = g.getTransform();
            try {
                if (oldTransform == null) oldTransform = new AffineTransform();

                AffineTransform transform = new AffineTransform(oldTransform);

                // adds scaling to the transform so that we respect the declared size
                transform.translate(x, y);
                transform.scale(width / bounds.getWidth(), height / bounds.getHeight());
                g.setTransform(transform);
                node.paint(g);
            } finally {
                g.setTransform(oldTransform);
            }
        }

