    /**
     * Retrieves a Batik {@link GraphicsNode} for a given SVG.
     *
     * @param svgLocation an URL that specifies the SVG.
     * @return the corresponding GraphicsNode.
     * @throws IOException
     * @throws URISyntaxException
     */
    GraphicsNode getGraphicNode(Document doc) {
        // instantiates objects needed for building the node
        UserAgent userAgent = new UserAgentAdapter();
        DocumentLoader loader = new DocumentLoader(userAgent);
        BridgeContext ctx = new BridgeContext(userAgent, loader);
        ctx.setDynamic(true);

        // creates node builder and builds node
        GVTBuilder builder = new GVTBuilder();
        return builder.build(ctx, doc);
    }

