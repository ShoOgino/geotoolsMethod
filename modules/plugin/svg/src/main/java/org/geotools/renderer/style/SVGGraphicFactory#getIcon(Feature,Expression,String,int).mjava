    public Icon getIcon(Feature feature, Expression url, String format, int size) throws Exception {
        // check we do support the declared format
        if (format == null || !formats.contains(format.toLowerCase()))
            return null;

        // grab the url
        URL svgfile = url.evaluate(feature, URL.class);
        if (svgfile == null)
            throw new IllegalArgumentException(
                    "The specified expression could not be turned into an URL");

        // turn the svg into a document and cache results
        RenderableSVG svg = glyphCache.get(svgfile);
        if(svg == null) {
            String parser = XMLResourceDescriptor.getXMLParserClassName();
            SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);
            Document doc = f.createDocument(svgfile.toString());
            svg = new RenderableSVG(doc);
            glyphCache.put(svgfile, svg);
        }

        return new SVGIcon(svg, size);
    }

