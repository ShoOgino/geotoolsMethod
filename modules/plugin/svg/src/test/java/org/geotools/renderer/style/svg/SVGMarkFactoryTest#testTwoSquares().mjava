    @Test
    public void testTwoSquares() throws Exception {
        SVGMarkFactory mf = new SVGMarkFactory();
        URL url = StreamingRenderer.class.getResource("test-data/twoSquares.svg");
        assertNotNull(url);
        // first call, non cached path
        Shape shape = mf.getShape(null, ff.literal(url), null);
        assertNotNull(shape);
        GeneralPath gp = new GeneralPath(new Rectangle2D.Double(0, 0, 0.5, 0.5));
        gp.append(new Rectangle2D.Double(0.5, 0.5, 0.5, 0.5), false);
        Shape expected = new TransformedShape(gp, new AffineTransform(1, 0, 0, -1, -0.5, 0.5));
        assertEquals(expected, shape);

        // second call, hopefully using the cached path
        shape = mf.getShape(null, ff.literal(url), null);
        assertNotNull(shape);
        assertEquals(expected, shape);
    }

