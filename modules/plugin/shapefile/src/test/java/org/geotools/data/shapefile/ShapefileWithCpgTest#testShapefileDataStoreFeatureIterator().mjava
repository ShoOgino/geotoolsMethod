    @Test
    public void testShapefileDataStoreFeatureIterator() throws Exception {
        URL url = TestData.url(this, RUSSIAN);
        ShapefileDataStore dataStore = new ShapefileDataStore(url);
        dataStore.setTryCPGFile(true);
        try {
            String typeName = dataStore.getTypeNames()[0];
            FeatureSource<SimpleFeatureType, SimpleFeature> source =
                    dataStore.getFeatureSource(typeName);

            try (FeatureIterator<SimpleFeature> features =
                    source.getFeatures(Filter.INCLUDE).features()) {

                assertTrue(features.hasNext());
                SimpleFeature feature = features.next();
                assertThat(feature.getAttribute("TEXT"), is(equalTo("Кириллица"))); // "Cyrillic"
            }
        } finally {
            dataStore.dispose();
        }
    }

