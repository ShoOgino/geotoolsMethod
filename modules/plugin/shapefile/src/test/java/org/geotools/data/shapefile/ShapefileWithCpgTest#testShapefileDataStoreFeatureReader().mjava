    @Test
    public void testShapefileDataStoreFeatureReader() throws Exception {
        URL url = TestData.url(this, RUSSIAN);
        ShapefileDataStore dataStore = new ShapefileDataStore(url);
        dataStore.setTryCPGFile(true);
        try {
            Query q = new Query(dataStore.getTypeNames()[0]);
            try (FeatureReader<SimpleFeatureType, SimpleFeature> reader =
                    dataStore.getFeatureReader(q, Transaction.AUTO_COMMIT)) {

                assertTrue(reader.hasNext());
                SimpleFeature feature = reader.next();
                assertThat(feature.getAttribute("TEXT"), is(equalTo("Кириллица")));
            }
        } finally {
            dataStore.dispose();
        }
    }

