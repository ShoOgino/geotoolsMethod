    @Test
    public void testReadZPolygonWithOptionalM() throws ShapefileException, IOException {
        // test Polygon with type ArcZ and optional M is parsed
        URL url = TestData.url(ShapefileDataStore.class, "mzvalues/polygonz.shp");
        ShapefileDataStore store = new ShapefileDataStore(url);
        SimpleFeature feature = DataUtilities.first(store.getFeatureSource().getFeatures());
        MultiPolygon geom = (MultiPolygon) feature.getDefaultGeometry();
        Coordinate coordinate = geom.getCoordinates()[0];

        assertEquals("wrong x", 665d, coordinate.getX(), 0.001);
        assertEquals("wrong y", 294d, coordinate.getY(), 0.001);
        assertEquals("wrong z", 1d, coordinate.getZ(), 0.00001);
        store.dispose();
    }

