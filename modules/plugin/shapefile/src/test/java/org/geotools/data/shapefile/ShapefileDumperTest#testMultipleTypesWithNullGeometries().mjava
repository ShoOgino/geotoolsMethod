    @Test
    public void testMultipleTypesWithNullGeometries() throws Exception {
        // features with null geometries  will be wrote to AllTypesWithNull_NULL file
        testMultipleTypes(ALL_TYPES_WITH_NULL, ALL_TYPES_WITH_NULL);
        // check that NULL geometries where wrote to the correct file
        SimpleFeatureCollection nullGeometries = getFeaturesFromShapefile(ALL_TYPES_WITH_NULL + "_NULL");
        assertEquals(2, nullGeometries.size());
        checkTypeStructure(nullGeometries.getSchema(), Point.class, "name");
        assertCst(ALL_TYPES_WITH_NULL + "_NULL", "ISO-8859-1");
        // check that name attribute was correctly handled
        getFeaturesSortedById(nullGeometries).forEach(feature -> {
            assertThat(feature.getAttribute("name"), notNullValue());
            assertThat(feature.getAttribute("name"), CoreMatchers.anyOf(is("f007"), is("f008")));
            assertThat(feature.getAttribute("geom"), nullValue());
        });
    }

