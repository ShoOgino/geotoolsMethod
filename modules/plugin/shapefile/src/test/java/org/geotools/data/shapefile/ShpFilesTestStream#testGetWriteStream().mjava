    @Test
    public void testGetWriteStream() throws IOException {

        ShpFileType[] types = ShpFileType.values();
        for (ShpFileType shpFileType : types) {

            try (OutputStream out = files.getOutputStream(shpFileType, this)) {
                assertEquals(1, files.numberOfLocks());
                out.write((byte) 2);
            } finally {
                assertEquals(0, files.numberOfLocks());
            }
        }
    }

