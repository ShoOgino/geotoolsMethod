    private void performSpatialQuery(ShapefileDataStore ds) throws IOException {
        SimpleFeatureSource featureSource = ds.getFeatureSource();
        SimpleFeatureType schema = featureSource.getSchema();
        Query query = new Query(schema.getTypeName());
        FilterFactory2 ff = CommonFactoryFinder.getFilterFactory2(null);
        String geomName = schema.getGeometryDescriptor().getName().getLocalPart();
        ReferencedEnvelope bounds = featureSource.getBounds();
        // before it was working with / 2, that is, point bbox, now it does not, accuracy issue
        // maybe? Winding?
        bounds.expandBy(-bounds.getWidth() / 2.1, -bounds.getHeight() / 2.1);
        query.setFilter(ff.bbox(ff.property(geomName), bounds));
        SimpleFeatureCollection features = featureSource.getFeatures(query);
        try (SimpleFeatureIterator iterator = features.features()) {
            iterator.next();
        }
    }

