    @Test
    public void testNullGeometry() throws Exception {
        SimpleFeatureCollection fc = getFeaturesFromProperties(NULLGEOM);
        ShapefileDumper dumper = new ShapefileDumper(dumperFolder);
        dumper.dump(fc);

        SimpleFeatureCollection actual = getFeaturesFromShapefile(NULLGEOM);
        assertEquals(2, actual.size());
        checkTypeStructure(actual.getSchema(), MultiPolygon.class, "FID", "NAME");
        assertCst(NULLGEOM, "ISO-8859-1");

        // check features attributes
        List<SimpleFeature> features = getFeaturesSortedById(fc);
        // check the first feature with a geometry
        assertThat(features.get(0).getAttribute("FID"), notNullValue());
        assertThat(features.get(0).getAttribute("FID"), is("117"));
        assertThat(features.get(0).getAttribute("NAME"), is("Ashton"));
        assertThat(features.get(0).getAttribute("the_geom"), notNullValue());
        // check the second feature with no geometry
        assertThat(features.get(1).getAttribute("FID"), notNullValue());
        assertThat(features.get(1).getAttribute("FID"), is("118"));
        assertThat(features.get(1).getAttribute("NAME"), is("Goose Island"));
        assertThat(features.get(1).getAttribute("the_geom"), nullValue());
    }

