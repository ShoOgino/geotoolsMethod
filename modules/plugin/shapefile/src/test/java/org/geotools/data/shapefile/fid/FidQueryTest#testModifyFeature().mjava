    @Test
    public void testModifyFeature() throws Exception {
        SimpleFeature feature = this.fids.values().iterator().next();
        int newId = 237594123;

        FilterFactory2 ff = CommonFactoryFinder.getFilterFactory2(null);

        Id createFidFilter = ff.id(Collections.singleton(ff.featureId(feature.getID())));

        featureStore.modifyFeatures(new NameImpl("ID"), Integer.valueOf(newId), createFidFilter);

        SimpleFeatureIterator features = featureStore.getFeatures(createFidFilter).features();
        try {
            assertFalse(feature.equals(features.next()));
        } finally {
            if (features != null) {
                features.close();
            }
        }
        feature.setAttribute("ID", Integer.valueOf(newId));
        this.assertFidsMatch();
    }

