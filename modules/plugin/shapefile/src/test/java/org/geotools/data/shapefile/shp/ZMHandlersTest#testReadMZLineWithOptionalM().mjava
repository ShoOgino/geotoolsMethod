    @Test
    public void testReadMZLineWithOptionalM() throws ShapefileException, IOException {
        // test line with type ArcTypeZ and optional M is parsed
        URL url = TestData.url(ShapefileDataStore.class, "mzvalues/mzlines.shp");
        ShapefileDataStore store = new ShapefileDataStore(url);
        SimpleFeature feature = DataUtilities.first(store.getFeatureSource().getFeatures());
        MultiLineString geom = (MultiLineString) feature.getDefaultGeometry();
        Coordinate coordinate = geom.getCoordinates()[0];

        assertEquals("wrong x", 589.4648, coordinate.getX(), 0.001);
        assertEquals("wrong y", 909.9963, coordinate.getY(), 0.001);
        assertEquals("wrong z", 20, coordinate.getZ(), 0.00001);
        assertEquals("wrong m", 10, coordinate.getM(), 0.00001);
    }

