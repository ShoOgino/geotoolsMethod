    /**
     * Builds an inverted version of the given map. Inversion means that key->value becomes
     * value->key
     *
     * @param map
     * @return
     */
    static Map<String, String> invertMappings(Map<String, String> map) {
        Map<String, String> result = new HashMap<String, String>();
        for (String key : map.keySet()) result.put(map.get(key), key);
        return result;
    }

