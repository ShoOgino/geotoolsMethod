    /** Generates the FID index file for the shpFiles */
    public static void generate(ShpFiles shpFiles) throws IOException {
        LOGGER.fine("Generating fids for " + shpFiles.get(SHP));

        StorageFile file = shpFiles.getStorageFile(FIX);

        try (IndexFile indexFile = new IndexFile(shpFiles, false);
                IndexedFidWriter writer = new IndexedFidWriter(shpFiles, file)) {
            for (int i = 0, j = indexFile.getRecordCount(); i < j; i++) {
                writer.next();
            }
        } finally {
            file.replaceOriginal();
        }
    }

