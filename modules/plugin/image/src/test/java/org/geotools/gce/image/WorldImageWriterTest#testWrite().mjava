    /**
     * This method simply read all the respecting a predefined pattern inside the testData directory
     * and then it tries to read, write and re-read them back. All the possible errors are caught.
     */
    @Test
    public void testWrite()
            throws MalformedURLException, IOException, IllegalArgumentException, FactoryException,
                    TransformException, ParseException {

        // checking test data directory for all kind of inputs
        final File test_data_dir = TestData.file(this, null);
        File output;
        final String[] fileList = test_data_dir.list(new MyFileFilter());
        for (String format : supportedFormat) {
            final StringBuffer buff = new StringBuffer("Format is ").append(format).append("\n");
            for (String filePath : fileList) {
                buff.append(" Testing ability to write ").append(filePath);
                // url
                final URL url = TestData.getResource(this, filePath);
                assertNotNull(url);
                output = this.write(url, format);
                buff.append(" as url ").append(filePath).append(output.getName());

                // getting file
                final File file = TestData.file(this, filePath);
                assertNotNull(file);
                // starting write test
                output = this.write(file, format);
                buff.append(" and file ").append(filePath).append(output.getName() + "\n");
            }
            logger.info(buff.toString());
        }
    }

