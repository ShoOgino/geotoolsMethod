    private Map<String, Serializable> getMapFromPropetryLocation(String location)
            throws IOException {

        URL url = getURLForLocation(location);

        // for convenience, handle shape files in a short way
        if (location.endsWith(".shp") || location.endsWith(".SHP")) return getMapForShapeFile(url);

        Map<String, Serializable> result = new HashMap<>();

        Properties properties = new Properties();
        try (InputStream in = url.openStream()) {
            properties.load(in);
            for (Object key : properties.keySet()) {
                result.put((String) key, (Serializable) properties.get(key));
            }
        }
        return result;
    }

