    /**
     * Reads the data range by reading the map.
     *
     * @return the data range.
     * @throws IOException
     */
    public double[] getRangeFromMapScan() throws IOException {
        /*
         * if the range file doesn't exist, the only way is to scan the whole map.
         */
        GrassCoverageReader coverageReader = new GrassCoverageReader(getCELL());
        coverageReader.setParams(PixelInCell.CELL_CENTER, null, false, false, null);
        coverageReader.read(null);
        double[] dataRange = coverageReader.getRange();

        // write the range to disk
        OutputStream cell_miscRangeStream = new FileOutputStream(getCELLMISC_RANGE());
        cell_miscRangeStream.write(double2bytearray(dataRange[0]));
        cell_miscRangeStream.write(double2bytearray(dataRange[1]));
        cell_miscRangeStream.close();
        return dataRange;
    }

