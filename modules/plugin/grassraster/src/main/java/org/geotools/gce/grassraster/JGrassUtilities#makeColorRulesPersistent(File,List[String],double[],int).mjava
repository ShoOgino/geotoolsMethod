    public static void makeColorRulesPersistent(
            File colrFile, List<String> rules, double[] minMax, int alpha) throws IOException {
        if (!colrFile.getParentFile().exists()) {
            colrFile.getParentFile().mkdir();
        }
        try (BufferedWriter bw = new BufferedWriter(new FileWriter(colrFile))) {
            if (rules.size() == 0) {
                throw new IllegalArgumentException("The list of colorrules can't be empty.");
            }
            String header = "% " + minMax[0] + "   " + minMax[1] + "   " + alpha;
            bw.write(header + "\n");
            for (String r : rules) {
                bw.write(r + "\n");
            }
        }
    }

