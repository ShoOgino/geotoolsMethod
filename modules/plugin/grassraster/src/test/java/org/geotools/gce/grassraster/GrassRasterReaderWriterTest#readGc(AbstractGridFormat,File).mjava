    private GridCoverage2D readGc(AbstractGridFormat format, File fileToRead) throws IOException {
        GridCoverageReader reader = format.getReader(fileToRead);
        GridCoverage2D gc = ((GridCoverage2D) reader.read(null));
        Assert.assertNotNull(gc);

        checkMatrixEqual(gc.getRenderedImage(), mapData, 0);

        Envelope envelope = gc.getEnvelope();
        DirectPosition lowerCorner = envelope.getLowerCorner();
        double[] westSouth = lowerCorner.getCoordinate();
        DirectPosition upperCorner = envelope.getUpperCorner();
        double[] eastNorth = upperCorner.getCoordinate();

        GridGeometry2D gridGeometry = gc.getGridGeometry();
        GridEnvelope2D gridRange = gridGeometry.getGridRange2D();
        int height = gridRange.height;
        int width = gridRange.width;

        Assert.assertEquals(w, westSouth[0], 0d);
        Assert.assertEquals(s, westSouth[1], 0d);
        Assert.assertEquals(e, eastNorth[0], 0d);
        Assert.assertEquals(n, eastNorth[1], 0d);
        Assert.assertEquals(8, height);
        Assert.assertEquals(10, width);
        return gc;
    }

