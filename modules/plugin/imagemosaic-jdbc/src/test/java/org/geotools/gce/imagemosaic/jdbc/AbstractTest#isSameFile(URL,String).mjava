    /**
     * Test if files are the same by comparing their canonical name.
     *
     * @param file1
     * @param file2
     * @return true if files have the same canonical name
     * @throws Exception
     */
    public static boolean isSameFile(URL file1, String file2) throws Exception {
        return URLs.urlToFile(file1).getCanonicalPath().equals(new File(file2).getCanonicalPath());
    }

