    public void loadFeatures(DBCollection coll, FeatureCollection<?, ?> collection) {
        MongoGeometryBuilder gBuilder = new MongoGeometryBuilder();

        try (FeatureIterator<?> iterator = collection.features()) {
            while (iterator.hasNext()) {
                Feature f = iterator.next();
                Set<Property> pSet = new LinkedHashSet<>(f.getProperties());
                BasicDBObjectBuilder bdoBuilder = BasicDBObjectBuilder.start();

                GeometryAttribute gAttr = f.getDefaultGeometryProperty();
                bdoBuilder.add("type", "feature");
                bdoBuilder.add("geometry", gBuilder.toObject((Geometry) gAttr.getValue()));
                pSet.remove(gAttr);

                bdoBuilder.push("properties");
                for (Property p : pSet) {
                    if (!(p instanceof GeometryAttribute)) {
                        bdoBuilder.add(p.getName().getLocalPart(), p.getValue());
                    }
                }
                bdoBuilder.pop();
                coll.insert(bdoBuilder.get());
                coll.createIndex(new BasicDBObject("geometry", "2dsphere"));
            }
        }
    }

