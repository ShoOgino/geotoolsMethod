    public void testIntersectsWithJsonSelectFunction() throws Exception {

        Intersects intersects = getIntersectsFilter("jsonSelect");

        SimpleFeatureSource source = dataStore.getFeatureSource("ft1");
        Query q = new Query("ft1", intersects);
        FeatureReader reader = dataStore.getFeatureReader(q, null);
        // check type if the filter isn't fully supported we would have got
        // a FilteringFeatureReader
        assertTrue(reader instanceof MongoFeatureReader);
        SimpleFeatureCollection features = source.getFeatures(q);
        assertEquals(2, features.size());
    }

