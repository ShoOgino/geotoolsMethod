    @Test
    public void testRoundTripConversion()
            throws FileNotFoundException, IOException, FactoryException {

        SimpleFeatureType original = buildDummyFeatureType("dummy");

        BasicDBObject dbo = FeatureTypeDBObject.convert(original);

        // make sure we're dealing with proper BSON/JSON by round-tripping it
        // through serialization...
        String json = dbo.toJson();

        dbo = BasicDBObject.parse(json);

        SimpleFeatureType result = FeatureTypeDBObject.convert(dbo);

        compareFeatureTypes(original, result, false);
    }

