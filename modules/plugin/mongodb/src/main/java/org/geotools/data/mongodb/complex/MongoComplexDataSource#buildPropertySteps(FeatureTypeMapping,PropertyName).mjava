    /** Builds the property steps list, i.e. split the XML path into parcels. */
    private XPathUtil.StepList buildPropertySteps(
            FeatureTypeMapping featureTypeMapping, PropertyName propertyName) {
        // get the correct namespace context, first we try the property name namespaces
        NamespaceSupport nameSpaces = propertyName.getNamespaceContext();
        if (nameSpaces == null) {
            // let's fallback on the feature type namespaces
            nameSpaces = featureTypeMapping.getNamespaces();
        }
        // build the property XML path steps list
        return XPath.steps(
                featureTypeMapping.getTargetFeature(), propertyName.getPropertyName(), nameSpaces);
    }

