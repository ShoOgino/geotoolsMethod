    @Test
    public void testService() throws NoSuchAuthorityCodeException, FactoryException {
        if (!testingEnabled()) {
            return;
        }

        GridFormatFinder.scanForPlugins();

        Iterator<GridFormatFactorySpi> list = GridFormatFinder.getAvailableFormats().iterator();
        boolean found = false;
        GridFormatFactorySpi fac = null;

        while (list.hasNext()) {
            fac = list.next();

            if (fac instanceof VRTFormatFactory) {
                found = true;

                break;
            }
        }

        Assert.assertTrue("VRTFormatFactory not registered", found);
        Assert.assertTrue("VRTFormatFactory not available", fac.isAvailable());
        Assert.assertNotNull(new VRTFormatFactory().createFormat());
    }

