    /**
     * Set the main parameters of this coverage request, getting basic information from the reader.
     *
     * @param reader a {@link BaseGridCoverage2DReader} from where to get basic coverage properties
     *     as well as basic parameters to be used by the incoming read operations.
     */
    private void setBaseParameters(final BaseGridCoverage2DReader reader) {
        input = reader.getInputFile();
        this.coverageEnvelope = reader.getOriginalEnvelope().clone();
        this.coverageRasterArea = ((GridEnvelope2D) reader.getOriginalGridRange());
        this.coverageCRS = reader.getCoordinateReferenceSystem();
        this.coverageName = reader.getCoverageName();
        this.coverageGridToWorld2D = (MathTransform2D) reader.getRaster2Model();
        this.coverageFullResolution = reader.getHighestRes();
        this.hints = reader.getHints().clone();
        this.multiLevelRoi = reader.getMultiLevelRoi();
        if (layout != null) {
            this.hints.add(new RenderingHints(JAI.KEY_IMAGE_LAYOUT, layout));
        }
    }

