    private static void write(CoordinateSequence cs, int dimension, ByteBuffer buffer) {
        int numPoints = cs.size();
        buffer.putInt(numPoints);
        for (int i = 0; i < numPoints; ++i) {
            for (int j = 0; j < dimension; ++j) {
                buffer.putDouble(cs.getOrdinate(i, j));
            }
        }
    }

