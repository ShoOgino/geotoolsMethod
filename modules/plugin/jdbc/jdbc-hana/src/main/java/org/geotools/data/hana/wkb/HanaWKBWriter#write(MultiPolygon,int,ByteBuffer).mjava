    private static void write(MultiPolygon multiPolygon, int dimension, ByteBuffer buffer) {
        writeHeader(GeometryType.MULTIPOLYGON, dimension, buffer);
        int numPolygons = multiPolygon.getNumGeometries();
        buffer.putInt(numPolygons);
        for (int i = 0; i < numPolygons; ++i) {
            write((Polygon) multiPolygon.getGeometryN(i), dimension, buffer);
        }
    }

