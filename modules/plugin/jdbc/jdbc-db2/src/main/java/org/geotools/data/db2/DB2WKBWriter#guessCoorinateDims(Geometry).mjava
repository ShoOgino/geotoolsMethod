    /**
     * returns the coordinate dimension for a geometry
     * @param Geometry g
     * @return if there is one z value != NaN, then 3 else 2
     */
    public static final int guessCoorinateDims(Geometry g) {
        int dims = 2;
        final Coordinate[] cs = g.getCoordinates();
        for (int t = cs.length - 1; t >= 0; t--) {
            if (!(Double.isNaN(cs[t].z))) {
                dims = 3;
                break;
            }
        }
        return dims;
    }

