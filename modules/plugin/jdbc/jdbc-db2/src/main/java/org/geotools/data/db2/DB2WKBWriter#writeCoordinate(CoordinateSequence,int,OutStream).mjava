    private void writeCoordinate(CoordinateSequence seq, int index, OutStream os)
            throws IOException {
        ByteOrderValues.putDouble(seq.getX(index), buf, byteOrder);
        os.write(buf, 8);
        ByteOrderValues.putDouble(seq.getY(index), buf, byteOrder);
        os.write(buf, 8);

        // only write 3rd dim if caller has requested it for this writer
        if (outputDimension >= 3) {
            // if 3rd dim is requested, only access and write it if the CS provides is
            double ordVal = Coordinate.NULL_ORDINATE;
            if (seq.getDimension() >= 3) ordVal = seq.getOrdinate(index, 2);
            ByteOrderValues.putDouble(ordVal, buf, byteOrder);
            os.write(buf, 8);
        }
    }

