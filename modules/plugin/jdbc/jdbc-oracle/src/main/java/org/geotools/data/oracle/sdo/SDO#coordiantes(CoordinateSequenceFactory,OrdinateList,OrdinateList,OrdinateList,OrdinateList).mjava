    /**
     * bugfix 20121231-BK: added: TODO org.geotools.geometry.jts.CoordinateSequenceFactory does not
     * support 4 dimensions! Construct CoordinateSequence with LRS measures.
     *
     * <p>To produce three dimension Coordinates pass in <code>null</code> for z
     *
     * @param f {@link CoordinateSequenceFactory}
     * @param x x-ordinates
     * @param y y-ordinates
     * @param z z-ordinates, <code>null</code> for 2D
     * @param m m-ordinates
     * @return {@link CoordinateSequence}
     */
    public static CoordinateSequence coordiantes(
            CoordinateSequenceFactory f,
            OrdinateList x,
            OrdinateList y,
            OrdinateList z,
            OrdinateList m) {
        final int LENGTH = x.size();
        // TODO org.geotools.geometry.jts.LiteCoordinateSequenceFactory does not support 4
        // dimensions!
        // CoordinateSequence cs = f.create(LENGTH, z == null ? 3: 4);
        CoordinateSequence cs = JTS.createCS(f, LENGTH, z == null ? 2 : 3);

        if (z != null) {
            for (int i = 0; i < LENGTH; i++) {
                cs.setOrdinate(i, 0, x.getDouble(i));
                cs.setOrdinate(i, 1, y.getDouble(i));
                cs.setOrdinate(i, 2, z.getDouble(i));
                // cs.setOrdinate(i, 3, m.getDouble(i));
            }
        } else {
            for (int i = 0; i < LENGTH; i++) {
                cs.setOrdinate(i, 0, x.getDouble(i));
                cs.setOrdinate(i, 1, y.getDouble(i));
                // cs.setOrdinate(i, 2, m.getDouble(i));
            }
        }

        return cs;
    }

