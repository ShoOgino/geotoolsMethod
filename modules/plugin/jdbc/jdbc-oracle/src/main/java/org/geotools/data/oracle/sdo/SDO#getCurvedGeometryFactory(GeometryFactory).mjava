    /**
     * Casts the provided geometry factory to a curved one if possible, or wraps it into one with
     * infinite tolerance (the linearization will happen using the default base segments number set
     * in {@link CircularArc}
     */
    private static CurvedGeometryFactory getCurvedGeometryFactory(GeometryFactory gf) {
        CurvedGeometryFactory curvedFactory;
        if (gf instanceof CurvedGeometryFactory) {
            curvedFactory = (CurvedGeometryFactory) gf;
        } else {
            curvedFactory = new CurvedGeometryFactory(gf, Double.MAX_VALUE);
        }
        return curvedFactory;
    }

