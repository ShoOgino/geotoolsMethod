    private static int getCurvilinearElementsCount(LineString ls) {
        if (ls instanceof CompoundCurvedGeometry<?>) {
            CompoundCurvedGeometry<?> curved = (CompoundCurvedGeometry<?>) ls;
            // take into account the elemInfo describing the compound
            return curved.getComponents().size() + 1;
        } else {
            return 1;
        }
    }

