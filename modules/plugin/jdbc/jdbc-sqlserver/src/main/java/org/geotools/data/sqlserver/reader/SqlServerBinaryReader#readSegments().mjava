    private void readSegments() throws IOException {
        if (binary.getVersion() > 1) {
            if (binary.hasSegments()) {
                int numberOfSegments = dis.readInt();
                Segment[] segments = new Segment[numberOfSegments];
                for (int i = 0; i < numberOfSegments; i++) {
                    segments[i] = Segment.findSegment(dis.readByte());
                }
                binary.setSegments(segments);
            }
        }
    }

