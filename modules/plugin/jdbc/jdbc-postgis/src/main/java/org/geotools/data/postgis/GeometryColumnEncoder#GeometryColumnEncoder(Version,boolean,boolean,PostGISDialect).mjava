    GeometryColumnEncoder(
            Version version,
            boolean stSimplifyEnabled,
            boolean encodeBase64,
            PostGISDialect dialect) {
        // version should not be null in normal usage, as it's set when SQLDialect
        // initializeConnection is called, however, let's cover all the bases and consider
        // possible usage outside JDBCDataStore (or unforeseens usages inside of it)
        this.atLeast2_2_0 = version != null && version.compareTo(PostGISDialect.V_2_2_0) >= 0;
        this.stSimplifyEnabled = stSimplifyEnabled;
        this.encodeBase64 = encodeBase64;
        this.dialect = dialect;
    }

