    @SuppressWarnings("PMD.CloseResource") // tmp it a copy of out, that's managed elsewhere
    protected void writeBinaryExpression(Expression e, Object context) throws IOException {
        Writer tmp = out;
        try {
            out = new StringWriter();
            out.write("(");
            e.accept(delegate, null);
            out.write(")");
            if (context instanceof Class) {
                tmp.write(cast(out.toString(), (Class) context));
            } else {
                tmp.write(out.toString());
            }
        } finally {
            out = tmp;
        }
    }

