    public Object visit(PropertyIsEqualTo filter, Object extraData) {
        helper.out = out;
        FilterFunction_pgNearest nearest = helper.getNearestFilter(filter);
        FilterFunction_arrayAnyMatch any = helper.getArrayAnyMatch(filter);
        if (nearest != null) {
            return helper.visit(
                    nearest,
                    extraData,
                    new FilterToSqlHelper.NearestHelperContext(
                            dialect,
                            (a, b) -> {
                                try {
                                    ((PostGISPSDialect) dialect)
                                            .encodeGeometryValue(
                                                    a,
                                                    helper.getFeatureTypeGeometryDimension(),
                                                    helper.getFeatureTypeGeometrySRID(),
                                                    b);
                                } catch (IOException e) {
                                    throw new RuntimeException(e);
                                }
                            }));
        } else if (any != null) {
            return helper.visit(any, extraData);
        } else {
            return super.visit(filter, extraData);
        }
    }

