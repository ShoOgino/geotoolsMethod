    /**
     * When using prepared statements we need the AttributeDescritor's stored native type name to
     * set array values in the PreparedStatement
     *
     * @param thisExpression
     * @param otherExpression
     * @param context
     * @return
     */
    private Object getArrayComparisonContext(
            Expression thisExpression, Expression otherExpression, Class context) {
        if (delegate instanceof PreparedFilterToSQL
                && thisExpression instanceof Literal
                && otherExpression instanceof PropertyName) {
            // grab the info from the other side of the comparison
            AttributeDescriptor ad =
                    otherExpression.evaluate(delegate.getFeatureType(), AttributeDescriptor.class);
            if (ad != null) {
                return ad;
            }
        }
        // all good, no extra info actually needed
        return context;
    }

