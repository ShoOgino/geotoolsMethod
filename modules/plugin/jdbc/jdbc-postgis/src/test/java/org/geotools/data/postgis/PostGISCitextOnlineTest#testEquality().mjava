    public void testEquality() throws IOException {
        SimpleFeatureSource fs = dataStore.getFeatureSource(tname("users"));
        FilterFactory ff = dataStore.getFilterFactory();
        Filter filter = ff.equal(ff.property(aname("nick")), ff.literal("LARRY"), true);
        int count = fs.getCount(new Query(tname("users"), filter));
        // we had a case insensitive comparison due to the type, regardless of what we asked in the
        // filter
        assertEquals(1, count);
    }

