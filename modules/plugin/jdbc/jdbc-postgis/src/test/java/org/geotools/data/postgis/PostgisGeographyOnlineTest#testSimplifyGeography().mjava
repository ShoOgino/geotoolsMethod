    public void testSimplifyGeography() throws Exception {
        // try to simplify geometry, but ST_Simplify is not defined for geometry
        Query query = new Query(tname("geoline"));
        query.getHints().add(new RenderingHints(Hints.GEOMETRY_SIMPLIFICATION, 2.0));
        // used to go boom here
        ContentFeatureSource fs = dataStore.getFeatureSource(tname("geoline"));
        SimpleFeatureCollection features = fs.getFeatures(query);
        // check the geometry is what we expect (but make it so that if in the future we can
        // simplify
        // over geography, the test still passes
        SimpleFeature sf = DataUtilities.first(features);
        LineString ls = (LineString) sf.getDefaultGeometry();
        assertEquals(0d, ls.getStartPoint().getX());
        assertEquals(0d, ls.getStartPoint().getY());
        assertEquals(4d, ls.getEndPoint().getX());
        assertEquals(4d, ls.getEndPoint().getY());
    }

