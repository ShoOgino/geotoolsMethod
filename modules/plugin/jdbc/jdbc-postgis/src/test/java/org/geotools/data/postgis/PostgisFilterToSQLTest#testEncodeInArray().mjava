    @Test
    public void testEncodeInArray() throws Exception {
        filterToSql.setFeatureType(testSchema);
        PropertyIsEqualTo expr =
                ff.equals(
                        ff.function("inArray", ff.literal("5"), ff.property("testArray")),
                        ff.literal(true));

        filterToSql.encode(expr);
        String sql = writer.toString().toLowerCase();
        assertEquals("where 5=any(testarray)", sql);
    }

