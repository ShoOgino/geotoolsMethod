    @Test
    public void testMapGetFunctionOnHstore() throws IOException {
        // Simply test that the MapGet Filter Function will also work against returned
        // HSTORE objects which, at the end, are basically maps.
        ContentFeatureSource fs = dataStore.getFeatureSource(tname("hstoretest"));
        FilterFactory ff = CommonFactoryFinder.getFilterFactory2();

        Function f = ff.function("mapGet", ff.property("mapping"), ff.literal("key2"));
        PropertyIsEqualTo filter = ff.equals(f, ff.literal("value2"));
        Query q = new Query(tname("hstoretest"), filter);
        SimpleFeature result = DataUtilities.first(fs.getFeatures(q));
        assertNotNull(result);
        assertEquals("doublepair", result.getAttribute("name").toString());
    }

