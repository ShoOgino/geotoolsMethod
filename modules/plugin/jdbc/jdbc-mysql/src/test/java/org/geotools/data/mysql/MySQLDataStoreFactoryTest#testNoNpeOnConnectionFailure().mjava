    /**
     * check fix of possible NPE issue during MySQLVersion56 check (pull request #2033)
     *
     * @throws Exception
     */
    public void testNoNpeOnConnectionFailure() throws Exception {
        // create a dummy JDBC store
        JDBCDataStore store = new JDBCDataStore();
        store.setSQLDialect(new MySQLDialectBasic(store));

        // Connection creation should fail since store does not
        // actually exist. Test ensures that no NPE is thrown
        // from final block of method
        try {
            factory.isMySqlVersion56(store);
        } catch (NullPointerException e) {
            fail("an exception occured during checking of MySQL version " + e);
        }
    }

