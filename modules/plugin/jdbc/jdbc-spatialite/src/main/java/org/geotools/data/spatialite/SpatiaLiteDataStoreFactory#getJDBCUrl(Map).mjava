    @Override
    protected String getJDBCUrl(Map params) throws IOException {
        String db = (String) DATABASE.lookUp(params);
        String location = db;
        if (baseDirectory != null) {
            //prepend base directory unless it is an absolute path
            if (!new File(location).isAbsolute()) {
                location = baseDirectory.getAbsolutePath() + File.separator + db;    
            }
        }
        return "jdbc:sqlite:" + location;
    }

