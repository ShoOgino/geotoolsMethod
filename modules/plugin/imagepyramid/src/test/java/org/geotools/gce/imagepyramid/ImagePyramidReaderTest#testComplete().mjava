    @Test
    public void testComplete()
            throws IOException, MismatchedDimensionException, NoSuchAuthorityCodeException {

        //
        // Get the resource.
        //
        final URL testFile = TestData.getResource(this, "goodpyramid/" + TEST_FILE);
        assertNotNull(testFile);

        //
        // Get a reader
        //
        final ImagePyramidReader reader =
                new ImagePyramidReader(
                        testFile, new Hints(Hints.FORCE_LONGITUDE_FIRST_AXIS_ORDER, Boolean.FALSE));
        assertNotNull(reader);

        //
        // alpha on output
        //
        final ParameterValue<Color> transp =
                ImageMosaicFormat.INPUT_TRANSPARENT_COLOR.createValue();
        transp.setValue(Color.black);

        //
        // Show the coverage
        //
        GridCoverage2D coverage = reader.read(new GeneralParameterValue[] {transp});
        assertNotNull(coverage);
        assertTrue(
                "coverage dimensions different from what we expected",
                coverage.getGridGeometry().getGridRange().getSpan(0) == 250
                        && coverage.getGridGeometry().getGridRange().getSpan(1) == 250);
        if (TestData.isInteractiveTest()) coverage.show("testComplete");
        else PlanarImage.wrapRenderedImage(coverage.getRenderedImage()).getTiles();
    }

