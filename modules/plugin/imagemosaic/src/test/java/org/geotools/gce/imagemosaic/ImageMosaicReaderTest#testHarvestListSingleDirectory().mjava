    @Test
    public void testHarvestListSingleDirectory() throws Exception {
        File source = URLs.urlToFile(timeURL);
        File testDataDir = TestData.file(this, ".");
        File directory1 = new File(testDataDir, "harvest1");
        File directory2 = new File(testDataDir, "harvest2");
        if (directory1.exists()) {
            FileUtils.deleteDirectory(directory1);
        }
        FileUtils.copyDirectory(source, directory1);
        if (directory2.exists()) {
            FileUtils.deleteDirectory(directory2);
        }
        directory2.mkdirs();
        // move all files besides month 2 and 5 to the second directory
        for (File file :
                FileUtils.listFiles(
                        directory1, new RegexFileFilter("world\\.20040[^25].*\\.tiff"), null)) {
            File renamed = new File(directory2, file.getName());
            assertTrue(file.renameTo(renamed));
        }
        // remove all mosaic related files
        for (File file :
                FileUtils.listFiles(directory1, new RegexFileFilter("time_geotiff.*"), null)) {
            assertTrue(file.delete());
        }

        // Create a List of Files containing only the directory to harvest and check if the Reader
        // reads it as a Directory
        List<File> files = new ArrayList<File>();
        files.add(directory2);

        // ok, let's create a mosaic with the two original granules
        URL harvestSingleURL = fileToUrl(directory1);
        final AbstractGridFormat format = TestUtils.getFormat(harvestSingleURL);
        ImageMosaicReader reader = getReader(harvestSingleURL, format);
        GranuleCatalog originalCatalog = reader.granuleCatalog;
        try {
            assertMultipleFileHarvest(files, reader, originalCatalog);
        } finally {
            reader.dispose();
        }
    }

