    @Test
    public void createFromExistingDataAccessWithComplex() throws Exception {
        createFromExistingDataAccess(
                (ds, name) -> {
                    try {
                        SimpleFeatureType schema = ds.getSchema(name);
                        FeatureType featureType = buildComplexTypeFromSimple(schema);
                        return new TestDataAccessWithComplex(name, featureType, ds);
                    } catch (IOException e) {
                        throw new RuntimeException(e);
                    }
                });
    }

