    /**
     * Tests the {@link ImageMosaicReader}
     *
     * @param title
     * @param threshold
     * @throws Exception
     */
    private GridCoverage2D imageMosaicSimpleParamsTest(
            final URL testURL,
            final Color inputTransparent,
            final Color outputTransparent,
            final String title,
            final boolean blend)
            throws Exception {

        // Get the resources as needed.
        Assert.assertNotNull(testURL);
        final AbstractGridFormat format = TestUtils.getFormat(testURL);
        final ImageMosaicReader reader = TestUtils.getReader(testURL, format);

        // limit yourself to reading just a bit of it
        final ParameterValue<Color> inTransp =
                AbstractGridFormat.INPUT_TRANSPARENT_COLOR.createValue();
        inTransp.setValue(inputTransparent);
        final ParameterValue<Color> outTransp =
                ImageMosaicFormat.OUTPUT_TRANSPARENT_COLOR.createValue();
        outTransp.setValue(outputTransparent);
        final ParameterValue<Boolean> blendPV = ImageMosaicFormat.FADING.createValue();
        blendPV.setValue(blend);

        // Test the output coverage
        return TestUtils.checkCoverage(
                reader, new GeneralParameterValue[] {inTransp, blendPV, outTransp}, title);
    }

