    private void assertBandEqual(RenderedImage image, int band, RenderedImage expected) {
        ImageWorker iw = new ImageWorker(image);
        iw.retainBands(new int[] {band});
        iw.subtract(expected);
        double[] maximums = iw.getMaximums();
        assertArrayEquals(new double[] {0}, maximums, 0d);
    }

