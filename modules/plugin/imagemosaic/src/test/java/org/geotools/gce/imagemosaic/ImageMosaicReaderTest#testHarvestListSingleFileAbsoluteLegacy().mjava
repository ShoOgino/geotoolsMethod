    @Test
    public void testHarvestListSingleFileAbsoluteLegacy() throws Exception {
        // setup a case with absolute paths based on "directory1"
        Function<File, String> expectedLocation1 =
                d -> new File(d, "world.200402.3x5400x2700.tiff").getAbsolutePath();
        Function<File, String> expectedLocation2 =
                d -> {
                    File pf = d.getParentFile();
                    return new File(pf, "singleHarvest2/world.200405.3x5400x2700.tiff")
                            .getAbsolutePath();
                };
        Consumer<File> mosaicDirSetup =
                (dir) -> {
                    File indexer = new File(dir, "indexer.properties");
                    try {
                        String indexerContents = FileUtils.readFileToString(indexer, "UTF-8");
                        indexerContents += "AbsolutePath=true\n";
                        FileUtils.writeStringToFile(indexer, indexerContents, "UTF-8");
                    } catch (IOException e) {
                        throw new RuntimeException(e);
                    }
                };

        checkSingleFileHarvest(mosaicDirSetup, expectedLocation1, expectedLocation2);
    }

