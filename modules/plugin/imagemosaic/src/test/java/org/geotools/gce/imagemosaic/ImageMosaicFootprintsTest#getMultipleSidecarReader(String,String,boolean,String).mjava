    private ImageMosaicReader getMultipleSidecarReader(
            String testFolder,
            String loaderClassName,
            boolean overviewsInRasterSpace,
            String overviewsSuffixFormat)
            throws IOException {
        TemporaryFolder folder = new TemporaryFolder();
        folder.create();
        File multiWkbs = folder.getRoot();
        FileUtils.copyDirectory(TestData.file(this, testFolder), multiWkbs);
        Properties p = new Properties();
        p.put(
                MultiLevelROIProviderFactory.SOURCE_PROPERTY,
                MultiLevelROIProviderFactory.TYPE_MULTIPLE_SIDECAR);
        p.put(
                MultiLevelROIGeometryOverviewsProvider.OVERVIEWS_SUFFIX_FORMAT_KEY,
                overviewsSuffixFormat);
        p.put(
                MultiLevelROIGeometryOverviewsProvider.OVERVIEWS_ROI_IN_RASTER_SPACE_KEY,
                Boolean.toString(overviewsInRasterSpace));
        if (loaderClassName != null) {
            p.put(MultiLevelROIGeometryOverviewsProvider.FOOTPRINT_LOADER_SPI, loaderClassName);
        }
        try (FileOutputStream fos =
                new FileOutputStream(new File(multiWkbs, "footprints.properties"))) {
            p.store(fos, null);
        }

        ImageMosaicFormat format = new ImageMosaicFormat();
        return format.getReader(multiWkbs);
    }

