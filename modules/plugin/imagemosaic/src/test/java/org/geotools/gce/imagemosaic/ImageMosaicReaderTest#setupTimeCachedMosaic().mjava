    private File setupTimeCachedMosaic()
            throws FileNotFoundException, IOException, NoSuchAuthorityCodeException,
                    FactoryException {
        // copy the test data
        File source = URLs.urlToFile(timeURL);
        File testDataDir = TestData.file(this, ".");
        File timeCached = new File(testDataDir, "timeCached");
        if (timeCached.exists()) {
            FileUtils.deleteDirectory(timeCached);
        }
        FileUtils.copyDirectory(source, timeCached);
        Arrays.stream(
                        timeCached.listFiles(
                                (dir, name) ->
                                        name.startsWith("time_geotiff")
                                                || "sample_image".equals(name)))
                .forEach(f -> f.delete());

        // make it create the index and config files
        URL timeCachedUrl = fileToUrl(timeCached);
        final AbstractGridFormat format = TestUtils.getFormat(timeCachedUrl);
        ImageMosaicReader reader = TestUtils.getReader(timeCachedUrl, format);
        assertNotNull(reader);
        reader.dispose();

        // set it up so that it uses caching
        File indexerProperties = new File(timeCached, "timeCached.properties");
        Properties indexer = new Properties();
        try (InputStream is = new FileInputStream(indexerProperties)) {
            indexer.load(is);
        }
        indexer.put("Caching", "true");
        try (OutputStream os = new FileOutputStream(indexerProperties)) {
            indexer.store(os, null);
        }
        return timeCached;
    }

