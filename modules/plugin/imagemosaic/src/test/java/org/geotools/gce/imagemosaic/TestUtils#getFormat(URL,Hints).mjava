    /**
     * Tries to get an {@link AbstractGridFormat} for the provided URL.
     * 
     * @param testURL points to a shapefile that is the index of a certain mosaic.
     * @param hints hints to be used while looking for a format.
     * @return a suitable {@link AbstractGridFormat}.
     * @throws FactoryException
     * @throws NoSuchAuthorityCodeException
     */
    static AbstractGridFormat getFormat(URL testURL, Hints hints)
            throws NoSuchAuthorityCodeException, FactoryException {
        // Get format
        final AbstractGridFormat format = (AbstractGridFormat) GridFormatFinder.findFormat(testURL, hints);
        Assert.assertNotNull(format);
        Assert.assertFalse("UknownFormat", format instanceof UnknownFormat);
        return format;
    }

