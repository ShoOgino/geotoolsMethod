        /**
         * Produces the final mosaic parsing the input granules.
         * 
         * @return the final mosaic as a {@link RenderedImage}.
         * @throws IOException in case something bad happens.
         */
    	public RenderedImage produce() throws IOException{
            if(visitor.granulesNumber<=0){
                return null;
            }
            collectGranules();
            return buildMosaic();
    	}

