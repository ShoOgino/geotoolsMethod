    public RepositoryDataStoreCatalog(
            Properties params,
            boolean create,
            Repository repository,
            String dataStoreName,
            DataStoreFactorySpi spi,
            Hints hints) {
        super(params, create, spi, hints);
        Utilities.ensureNonNull("repository", repository);
        Utilities.ensureNonNull("dataStoreName", repository);
        this.repository = repository;
        this.flatStoreName = dataStoreName;
        this.storeName = buildName(dataStoreName);

        // important, do not get the store here, as its lifecycle is externally managed
        // e.g., in GeoServer the ResourcePool can dispose the store and re-create it later
        // based on a LRU cache behavior. Also, the store might not yet be available at this moment
        // for the same reason
    }

