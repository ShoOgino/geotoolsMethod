    private static boolean hasJP2Kakadu() {
        try {
            Class.forName(KAKADU_SPI);
            Class<?> utilityClass = Class.forName("it.geosolutions.util.KakaduUtilities");
            final Method method =
                    utilityClass.getDeclaredMethod("isKakaduAvailable", (Class[]) null);
            if (method != null) {
                return (Boolean) method.invoke(null, (Object[]) null);
            }
        } catch (ClassNotFoundException
                | InvocationTargetException
                | IllegalAccessException
                | IllegalArgumentException
                | NoSuchMethodException
                | SecurityException e) {
            if (LOGGER.isLoggable(Level.FINE))
                LOGGER.log(Level.FINE, "Unable to load kakadu JPEG2000 reader spi", e);
        }
        return false;
    }

