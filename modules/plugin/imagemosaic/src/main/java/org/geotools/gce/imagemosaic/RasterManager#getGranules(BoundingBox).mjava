	/**
	 * Retrieves the list of features that intersect the provided envelope
	 * loading them inside an index in memory where needed.
	 * 
	 * @param envelope
	 *            Envelope for selecting features that intersect.
	 * @return A list of features.
	 * @throws IOException
	 *             In case loading the needed features failes.
	 */
	Collection<GranuleDescriptor> getGranules(final BoundingBox envelope)throws IOException {
		final Collection<GranuleDescriptor> granules = granuleCatalog.getGranules(envelope);
		if (granules != null)
			return granules;
		else
			return Collections.emptyList();
	}

