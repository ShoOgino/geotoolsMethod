    /**
     * Range visitor constructor. 
     * @param attributeTypeName1 the name of the attribute to be related to the left side of the range
     * @param attributeTypeName2 the name of the attribute to be related to the right side of the range
     * @param rangeType the type of range, one of {@link RangeType#NUMBER},{@link RangeType#DATE} 
     */
    public RangeVisitor(String attributeTypeName1, String attributeTypeName2, RangeType rangeType) {
        FilterFactory factory = CommonFactoryFinder.getFilterFactory(null);
        expr1 = factory.property(attributeTypeName1);
        expr2 = factory.property(attributeTypeName2);
        this.comparator = rangeType == RangeType.NUMBER ? new NumberRangeComparator()
                : new DateRangeComparator();
        set = new TreeSet(comparator);
    }

