    @Override
    public ImageInputStream getImageInputStream() throws IOException {
        ImageInputStreamSpi streamSpi = getInputStreamSpi();
        ImageInputStream inStream =
                streamSpi.createInputStreamInstance(
                        inputUrl, ImageIO.getUseCache(), ImageIO.getCacheDirectory());
        if (inStream == null) {
            final File file = URLs.urlToFile(inputUrl);
            if (file != null) {
                if (LOGGER.isLoggable(Level.WARNING)) {
                    LOGGER.log(Level.WARNING, Utils.getFileInfo(file));
                }
            }
            throw new IllegalArgumentException(
                    "Unable to get an input stream for the provided file " + inputUrl.toString());
        }
        return inStream;
    }

