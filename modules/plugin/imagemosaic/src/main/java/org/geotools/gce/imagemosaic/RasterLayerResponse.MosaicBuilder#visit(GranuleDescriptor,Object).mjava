        public void visit(GranuleDescriptor granuleDescriptor, Object o) {
            // don't collect more than the specified amount of granules
            // SG20092011 this might not happen since we set the max features in the query, but 
            // hwo knows
            if(maxNumberOfGranules>0 &&granulesNumber >=maxNumberOfGranules) {
                return;
            }
            
            //
            // load raster data
            //
            // create a granuleDescriptor loader
            final Geometry bb = JTS.toGeometry((BoundingBox) mosaicBBox);
            final Geometry inclusionGeometry = granuleDescriptor.inclusionGeometry;
            if (!footprintManagement || inclusionGeometry == null || footprintManagement
                    && inclusionGeometry.intersects(bb)) {
                final GranuleLoader loader = new GranuleLoader(baseReadParameters, imageChoice,
                        mosaicBBox, finalWorldToGridCorner, granuleDescriptor, request, hints);
                if (multithreadingAllowed && rasterManager.parent.multiThreadedLoader != null)
                    tasks.add(rasterManager.parent.multiThreadedLoader.submit(loader));
                else
                    tasks.add(new FutureTask<GranuleLoadingResult>(loader));

                granulesNumber++;
            }
        }

