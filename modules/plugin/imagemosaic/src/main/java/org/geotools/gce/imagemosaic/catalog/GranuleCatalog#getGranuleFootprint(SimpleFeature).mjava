    /**
     * Returns the footprint for the given granule. Mind, when applying insets we might have the
     * case of the geometry being empty (negative buffer eroded it fully), in that case the granule
     * must not be loaded
     *
     * @param sf
     * @return
     */
    protected MultiLevelROI getGranuleFootprint(SimpleFeature sf) {
        if (multiScaleROIProvider != null) {
            try {
                MultiLevelROI roi = multiScaleROIProvider.getMultiScaleROI(sf);
                return roi;
            } catch (IOException e) {
                throw new RuntimeException("Failed to load the footprint for granule: " + sf, e);
            }
        }
        return null;
    }

