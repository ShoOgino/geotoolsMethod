        public JTSIndexVisitorAdapter(final GranuleCatalogVisitor adaptee, Query q) {
            this.adaptee = adaptee;
            this.filter = q == null ? Query.ALL.getFilter() : q.getFilter();
            this.maxGranules = q == null ? -1 : q.getMaxFeatures();
        }

