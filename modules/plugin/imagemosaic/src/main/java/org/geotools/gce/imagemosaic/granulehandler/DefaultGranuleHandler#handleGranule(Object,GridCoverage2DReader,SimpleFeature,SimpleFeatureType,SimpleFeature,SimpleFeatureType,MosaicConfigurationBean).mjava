    @Override
    public void handleGranule(Object source, GridCoverage2DReader inputReader,
            SimpleFeature targetFeature, SimpleFeatureType targetFeatureType, SimpleFeature feature,
            SimpleFeatureType inputFeatureType, MosaicConfigurationBean mosaicConfiguration) {

        if (inputReader instanceof StructuredGridCoverage2DReader) {
            handleStructuredGranule(source, inputReader, targetFeature, targetFeatureType, feature,
                    inputFeatureType, mosaicConfiguration);
        } else {
            Envelope coverageEnvelope = inputReader.getOriginalEnvelope();
            targetFeature.setAttribute(targetFeatureType.getGeometryDescriptor().getLocalName(),
                    GEOM_FACTORY.toGeometry(new ReferencedEnvelope(coverageEnvelope)));
        }

    }

