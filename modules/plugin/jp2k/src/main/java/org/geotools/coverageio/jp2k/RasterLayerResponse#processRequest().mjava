    /**
     * This method creates the GridCoverage2D from the underlying file given a specified envelope,
     * and a requested dimension.
     *
     * @throws java.io.IOException
     */
    private synchronized void processRequest() throws IOException {

        if (request.isEmpty()) throw new IOException("Empty request " + request.toString());

        if (frozen) return;

        // assemble granules
        final RenderedImage image = assembleGranules();

        RenderedImage finalRaster = postProcessRaster(image);

        // create the coverage
        gridCoverage = prepareCoverage(finalRaster);

        // freeze
        frozen = true;
    }

