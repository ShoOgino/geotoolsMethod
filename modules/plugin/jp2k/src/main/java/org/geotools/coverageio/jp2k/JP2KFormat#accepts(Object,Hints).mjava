    /** @see org.geotools.data.coverage.grid.AbstractGridFormat#accepts(java.lang.Object input) */
    @Override
    public boolean accepts(Object input, Hints hints) {
        // Directories aren't accepted
        if (input != null && input instanceof File) {
            final File directory = (File) input;
            if (!directory.exists() || directory.isDirectory()) return false;
        }
        try (ImageInputStream stream = ImageIO.createImageInputStream(input)) {
            if (spi == null) {
                ImageReader reader = Utils.getReader(stream);
                if (reader != null) spi = reader.getOriginatingProvider();
                else return false;
            }
            return spi.canDecodeInput(stream);
        } catch (IOException e) {
            if (LOGGER.isLoggable(Level.FINE)) {
                LOGGER.log(Level.FINE, e.getLocalizedMessage(), e);
            }
            return false;
        }
    }

