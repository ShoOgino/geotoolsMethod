    /**
     * Look for UUID boxes containing GeoJP2 Boxes / MSIG World Box
     *
     * @param metadata
     * @throws IOException
     */
    private void checkUUIDBoxes(final IIOMetadata metadata) throws IOException {
        if (!(metadata instanceof JP2KStreamMetadata)) {
            if (LOGGER.isLoggable(FINE))
                LOGGER.fine(
                        "Metadata should be an instance of the expected class:"
                                + " JP2KStreamMetadata.");
            return;
        }
        // //
        //
        // Looking for the UUIDBoxMetadataNode
        //
        // //
        final List<IIOMetadataNode> uuidBoxMetadataNodes =
                ((JP2KStreamMetadata) metadata).searchOccurrencesNode(UUIDBox.BOX_TYPE);
        UUIDBoxMetadataNode geoJP2uuid = null;
        UUIDBoxMetadataNode worldBoxuuid = null;
        if (uuidBoxMetadataNodes != null && !uuidBoxMetadataNodes.isEmpty()) {
            for (IIOMetadataNode node : uuidBoxMetadataNodes) {
                if (node instanceof UUIDBoxMetadataNode) {
                    final UUIDBoxMetadataNode uuid = (UUIDBoxMetadataNode) node;
                    final byte[] id = uuid.getUuid();
                    if (isGeoJP2(id)) {
                        geoJP2uuid = uuid;
                        continue;
                    }

                    if (isWorldBox(id)) {
                        worldBoxuuid = uuid;
                    }
                }
            }
        }

        if (geoJP2uuid != null) getGeoJP2(geoJP2uuid);

        // //
        //
        // Without a proper crs, the World Box is useless
        //
        // //
        if (worldBoxuuid != null && crs != null) {
            getWorldBox(worldBoxuuid);
        }
    }

