    /**
     * Writing {@link CoordinateReferenceSystem} WKT representation on a prj file.
     *
     * @param crs the {@link CoordinateReferenceSystem} to be written out.
     */
    private void writeCRSInfo(CoordinateReferenceSystem crs) throws IOException {
        // is it null?
        if (crs == null) {
            throw new NullPointerException("CRS cannot be null!");
        }

        // get the destination path
        // getting the path of this object and the name
        URL url = null;

        if (this.destination instanceof String) {
            url = (new File((String) this.destination)).toURI().toURL();
        } else if (this.destination instanceof File) {
            url = ((File) this.destination).toURI().toURL();
        } else if (this.destination instanceof URL) {
            url = (URL) this.destination;
        } else {
            // do nothing for the moment
            return;
        }

        // build up the name
        File ascFile = URLs.urlToFile(url);
        String prjName =
                ascFile.getName().substring(0, ascFile.getName().lastIndexOf(".")) + ".prj";
        File prjFile = new File(ascFile.getParent(), prjName);

        // create the file
        final BufferedWriter fileWriter = new BufferedWriter(new FileWriter(prjFile));
        try {
            // write information on crs
            fileWriter.write(crs.toWKT());
        } finally {
            try {
                fileWriter.close();
            } catch (Throwable e) {
                if (LOGGER.isLoggable(Level.FINE))
                    LOGGER.log(Level.FINE, e.getLocalizedMessage(), e);
            }
        }
    }

