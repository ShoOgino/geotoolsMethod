    @Test
    public void readSinglePolygon() throws IOException, ParseException {
        MBTilesFeatureSource fs = getMadagascarSource("water");
        BBOX bbox = getMercatorBoxFilter(5635550, 5948635, -1565430, -1252345);
        ContentFeatureCollection fc = fs.getFeatures(new Query("water", bbox));
        assertEquals(1, fc.size());
        SimpleFeature feature = DataUtilities.first(fc);
        assertThat(feature.getAttribute("class"), equalTo("ocean"));
        String wkt =
                "POLYGON ((5953527.258247068 -1570322.3088720688, 5630657.250815428 -1570322.3088720688, 5630657.250815428 -1247452.301440428, 5953527.258247068 -1247452.301440428, 5953527.258247068 -1570322.3088720688))";
        Polygon expected = (Polygon) new WKTReader().read(wkt);
        Polygon actual = (Polygon) feature.getDefaultGeometry();
        assertTrue(
                "Expected:\n" + expected + "\nBut got:\n" + actual,
                actual.equalsExact(expected, 0.1));

        // check the clip mask
        Geometry clip = (Geometry) feature.getUserData().get(Hints.GEOMETRY_CLIP);
        String clipWkt =
                "POLYGON ((5635549.220624998 -1565430.3390625007, 5948635.288437498 -1565430.3390625007, 5948635.288437498 -1252344.2712500007, 5635549.220624998 -1252344.2712500007, 5635549.220624998 -1565430.3390625007))";
        Polygon expectedClip = (Polygon) new WKTReader().read(clipWkt);
        assertTrue(
                "Expected:\n" + expectedClip + "\nBut got:\n" + clip,
                clip.equalsExact(expectedClip, 0.1));
    }

