    @Test
    public void testLocalEnvelopeToTiles() throws IOException, SQLException {
        try (MBTilesFile mbTilesFile =
                new MBTilesFile(
                        new File("./src/test/resources/org/geotools/mbtiles/madagascar.mbtiles"))) {
            ReferencedEnvelope envelope =
                    new ReferencedEnvelope(0, 5000000, 0, 5000000, MBTilesFile.SPHERICAL_MERCATOR);
            RectangleLong bounds = mbTilesFile.toTilesRectangle(envelope, 7);
            assertEquals(64, bounds.getMinX());
            assertEquals(79, bounds.getMaxX());
            assertEquals(64, bounds.getMinY());
            assertEquals(79, bounds.getMaxY());
        }
    }

