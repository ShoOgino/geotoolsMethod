    @Test
    public void testPolygonWithAttribute() throws Exception {
        //    <UserStyle>
        //      <Title>SLD Cook Book: Attribute-based polygon</Title>
        //      <FeatureTypeStyle>
        //        <Rule>
        //          <Name>SmallPop</Name>
        //          <Title>Less Than 200,000</Title>
        //          <ogc:Filter>
        //            <ogc:PropertyIsLessThan>
        //              <ogc:PropertyName>pop</ogc:PropertyName>
        //              <ogc:Literal>200000</ogc:Literal>
        //            </ogc:PropertyIsLessThan>
        //          </ogc:Filter>
        //          <PolygonSymbolizer>
        //            <Fill>
        //              <CssParameter name="fill">#66FF66</CssParameter>
        //            </Fill>
        //          </PolygonSymbolizer>
        //        </Rule>
        //        <Rule>
        //          <Name>MediumPop</Name>
        //          <Title>200,000 to 500,000</Title>
        //          <ogc:Filter>
        //            <ogc:And>
        //              <ogc:PropertyIsGreaterThanOrEqualTo>
        //                <ogc:PropertyName>pop</ogc:PropertyName>
        //                <ogc:Literal>200000</ogc:Literal>
        //              </ogc:PropertyIsGreaterThanOrEqualTo>
        //              <ogc:PropertyIsLessThan>
        //                <ogc:PropertyName>pop</ogc:PropertyName>
        //                <ogc:Literal>500000</ogc:Literal>
        //              </ogc:PropertyIsLessThan>
        //            </ogc:And>
        //          </ogc:Filter>
        //          <PolygonSymbolizer>
        //            <Fill>
        //              <CssParameter name="fill">#33CC33</CssParameter>
        //            </Fill>
        //          </PolygonSymbolizer>
        //        </Rule>
        //        <Rule>
        //          <Name>LargePop</Name>
        //          <Title>Greater Than 500,000</Title>
        //          <ogc:Filter>
        //            <ogc:PropertyIsGreaterThan>
        //              <ogc:PropertyName>pop</ogc:PropertyName>
        //              <ogc:Literal>500000</ogc:Literal>
        //            </ogc:PropertyIsGreaterThan>
        //          </ogc:Filter>
        //          <PolygonSymbolizer>
        //            <Fill>
        //              <CssParameter name="fill">#009900</CssParameter>
        //            </Fill>
        //          </PolygonSymbolizer>
        //        </Rule>
        //      </FeatureTypeStyle>
        //    </UserStyle>

        YamlMap obj = encode("poly", "attribute.sld");

        YamlMap rule = obj.seq("feature-styles").map(0).seq("rules").map(0);
        assertEquals("SmallPop", rule.str("name"));
        assertEquals("${pop < '200000'}", rule.str("filter"));

        YamlMap poly = rule.seq("symbolizers").map(0).map("polygon");
        assertThat(poly.get("fill-color"), isColor("66FF66"));

        rule = obj.seq("feature-styles").map(0).seq("rules").map(1);
        assertEquals("MediumPop", rule.str("name"));
        assertEquals("${pop >= '200000' AND pop < '500000'}", rule.str("filter"));

        poly = rule.seq("symbolizers").map(0).map("polygon");
        assertThat(poly.get("fill-color"), isColor("33CC33"));

        rule = obj.seq("feature-styles").map(0).seq("rules").map(2);
        assertEquals("LargePop", rule.str("name"));
        assertEquals("${pop > '500000'}", rule.str("filter"));

        poly = rule.seq("symbolizers").map(0).map("polygon");
        assertThat(poly.get("fill-color"), isColor("009900"));


    }

