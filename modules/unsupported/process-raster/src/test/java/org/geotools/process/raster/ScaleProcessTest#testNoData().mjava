    @Test
    public void testNoData() throws IOException {
        // Selection of the Affine process
        ScaleCoverage process = new ScaleCoverage();
        // Definition of the Transformation object to use (The final image should be doubled and translated)

        // Execution of the operation
        GridCoverage2D result = process.execute(coverageNoData, scaleX, scaleY, 0, 0,
                bicubic);

        // Check if the final image is correct
        ensureCorrectTransformation(result, scaleX, scaleY);
        
        // Check if the NoData property is present
        NoDataContainer container = CoverageUtilities.getNoDataProperty(result);
        assertNotNull(container);
        Range nod = container.getAsRange();

        int minNodata = nod.getMin().intValue();

        assertEquals(nod.getMax().intValue(), 1);
        assertEquals(minNodata, -1);
        
        // Check if all the values are equal to nodata
        ImageWorker w = new ImageWorker(result.getRenderedImage());
        w.setNoData(null);
        int max = (int) w.getMaximums()[0];
        int min = (int) w.getMinimums()[0];
        
        assertEquals(max, minNodata);
        assertEquals(min, minNodata);
    }

