    float[][] data(GridCoverage2D cov, int band) {
        Raster data = cov.getRenderedImage().getData();
        int w = data.getWidth();
        int h = data.getHeight();

        float[] pixel = new float[data.getNumBands()];
        float[][] grid = new float[h][w];
        for (int r = 0; r < h; r++) {
            grid[r] = new float[w];
            for (int c = 0; c < w; c++) {
                data.getPixel(c, r, pixel);
                grid[r][c] = pixel[band];
            }
        }

        return grid;
    }

