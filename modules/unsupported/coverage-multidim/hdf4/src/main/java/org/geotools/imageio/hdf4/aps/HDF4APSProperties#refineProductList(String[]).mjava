    /**
     * Reduces the product's list by removing not interesting ones. As an
     * instance the dataset containing l2_flags will not be presented.
     * 
     * @param products
     *                The originating <code>String</code> array containing the
     *                list of products to be checked.
     * @return A <code>String</code> array containing a refined list of
     *         products
     * @todo remove products constraints when going to WMS EO specs.
     */
    static String[] refineProductList(String[] products) {
        final int inputProducts = products.length;
        int j = 0;
        final boolean[] accepted = new boolean[inputProducts];

        for (int i = 0; i < inputProducts; i++)
            if (isAcceptedItem(products[i])) {
                accepted[i] = true;
                j++;
            } else
                accepted[i] = false;
        if (j == inputProducts)
            return products;
        final String[] returnedProductsList = new String[j];
        j = 0;
        for (int i = 0; i < inputProducts; i++) {
            if (accepted[i])
                returnedProductsList[j++] = products[i];
        }
        return returnedProductsList;
    }

