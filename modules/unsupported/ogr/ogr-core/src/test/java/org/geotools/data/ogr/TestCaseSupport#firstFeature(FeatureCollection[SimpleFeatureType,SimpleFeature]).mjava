    /**
     * Returns the first feature in the given feature collection.
     */
    protected SimpleFeature firstFeature(FeatureCollection<SimpleFeatureType, SimpleFeature> fc) {
        FeatureIterator<SimpleFeature> features = fc.features();
        try {
            return features.next();
        } finally {
            features.close();
        }
    }

