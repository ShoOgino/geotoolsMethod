    @Test
    public void testAttributesWritingSqliteFromUpperCaseAttributes() throws Exception {
        if (!ogrSupports("SQLite")) {
            LOGGER.warning("Skipping SQLite writing test as OGR was not built to support it");
            return;
        }
        SimpleFeatureCollection features = createFeatureCollectionWithUpperCaseAttributes();
        File tmpFile = getTempFile("test-sqlite", ".db");
        tmpFile.delete();
        OGRDataStore s = createDataStore(tmpFile.getAbsolutePath(), "SQLite");
        s.createSchema(features, true, null);
        assertEquals(1, s.getTypeNames().length);
        SimpleFeatureCollection fc = s.getFeatureSource("points").getFeatures();
        assertEquals(features.size(), fc.size());
        // Read
        int c = 0;
        try (SimpleFeatureIterator it = fc.features()) {
            while (it.hasNext()) {
                SimpleFeature f = it.next();
                assertNotNull(f);
                assertNotNull(f.getDefaultGeometry());
                assertNotNull(f.getAttribute("name"));
                c++;
            }
        }
        assertEquals(fc.size(), c);
    }

