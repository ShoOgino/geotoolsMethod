    public void primeIfRequired(boolean allowPriming, Object layer) {
        if (primeLayersEnabled && allowPriming) {
            String name = ogr.LayerGetName(layer);
            if (!primedLayers.contains(name)) {
                // full scan of this layer contents
                ogr.LayerResetReading(layer);
                // as suggested by Even on list should never return a feature, but internally it
                // will be enough to prime the layer
                ogr.LayerSetAttributeFilter(layer, "0 = 1");
                Object feature;
                while ((feature = ogr.LayerGetNextFeature(layer)) != null) {
                    ogr.FeatureDestroy(feature);
                }
                primedLayers.add(name);
            }
        }
    }

