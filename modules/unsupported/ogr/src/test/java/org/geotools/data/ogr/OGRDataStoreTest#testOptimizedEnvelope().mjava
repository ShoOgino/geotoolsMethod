    /**
     * Test envelope versus old DataSource
     */
    public void testOptimizedEnvelope() throws Exception {
        FeatureCollection features = loadFeatures(STATE_POP, Query.ALL);
        OGRDataStore s = new OGRDataStore(getAbsolutePath(STATE_POP), null, null);
        String typeName = s.getTypeNames()[0];

        assertEquals(features.getBounds(), s.getFeatureSource(typeName).getBounds());
        assertNotNull(s.getFeatureSource(typeName).getBounds());
    }

