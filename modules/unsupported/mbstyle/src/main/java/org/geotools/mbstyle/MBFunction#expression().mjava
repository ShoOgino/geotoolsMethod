    /**
     * Generate GeoTools {@link Function} from json definition.
     * <p>
     * This only works for concrete functions, that have been resolved to the current zoom level.
     * 
     * @return GeoTools Function or the provided json
     */
    public Function expression() {
        List<Expression> parameters = new ArrayList<>();
        parameters.add(ff.property(getProperty()));
        for (Object obj : getStops()) {
            JSONArray stop = parse.jsonArray(obj);
            parameters.add(ff.literal(stop.get(0)));
            parameters.add(ff.literal(stop.get(1)));
        }
        return ff.function("Interpolate", parameters.toArray(new Expression[parameters.size()]));
    }

