    private Expression value() {
        EnumSet<FunctionCategory> category = category();
        if (category.containsAll(EnumSet.of(FunctionCategory.ZOOM, FunctionCategory.PROPERTY))) {
            throw new IllegalStateException("Reduce zoom and property function prior to use.");
        }
        else if( category.contains(FunctionCategory.ZOOM)){
            return ff.function("zoomLevel",
                    ff.function("env", ff.literal("wms_scale_denominator")),
                    ff.literal("EPSG:3857")
            );
        }
        else {
            return ff.property(getProperty());
        }
    }

