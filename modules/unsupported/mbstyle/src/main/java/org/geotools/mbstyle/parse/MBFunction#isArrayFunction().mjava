    /**
     * <p>
     * Returns true if this function's stop values are all arrays.
     * </p>
     * 
     * <p>
     * For example, the following is an array function:
     * </p>
     * 
     * <pre>
     *  
     * "{'property':'temperature',
     *   'type':'exponential', 
     *   'base':1.5, 
     *   'stops': [ 
     *          // [stopkey, stopValueArray]
     *             [0,       [0,10]], 
     *             [100,     [2,15]]
     *    ]
     *   }"
     * </pre>
     * 
     * @return true if this function's stop values are all arrays.
     */
    public boolean isArrayFunction() {
        
        if (getStops() == null) {
            return false;
        }
        
        // If any of the stops is not array-valued, return false.
        for (Object o : getStops()) {
            if (!(o instanceof JSONArray)) {
                return false;
            } else {
                JSONArray stop = (JSONArray) o;
                if (stop.size() != 2 || !(stop.get(1) instanceof JSONArray)) {
                    return false;
                }
            }
        }
        
        return true;
    }

