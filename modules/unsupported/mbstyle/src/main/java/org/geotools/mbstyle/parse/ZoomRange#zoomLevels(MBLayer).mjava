    /**
     * Generates zoom levels for provided layer, taking min/max zoom level into account, along with
     * any zoom and property functions.
     * 
     * @param layer
     * @return List of zoom levels, may be empty if layer is not visible.
     */
    public static List<ZoomRange> zoomLevels(MBLayer layer) {
        if (!layer.visibility()) {
            return Collections.emptyList();
        }
        List<ZoomRange> zoomLevels = new ArrayList<>();
        ZoomRange layerRange = new ZoomRange(layer.getMinZoom(),layer.getMaxZoom());
        
        // These are intended to go early in the rendering chain
        // prefer use of rules if possible
        JSONObject paint = layer.paint();
        
        // These are intended to go late in the rendering chain
        // prefer use of functions if possible
        JSONObject layout = layer.layout();
        
        if(zoomLevels.isEmpty()){
            zoomLevels.add(layerRange);
        }
        return zoomLevels;
    }

