    /**
     * Convert json to Expression color, or a function.
     * 
     * @param json json representation
     * @param fallback default value (string representation of color) if json is null
     * @return Expression based on provided json, or literal if json was null.
     * @throws MBFormatException
     */
    public  Expression color(JSONObject json, String tag, Color fallback)
            throws MBFormatException {
        if (json.get(tag) == null) {
            return fallback == null ? null : ff.literal(fallback);
        }
        Object obj = json.get(tag);
        return color( "\""+tag+"\"", obj, fallback );
    }

