    /**
     * This method creates a copy of the incoming layer to be used for creating the unique layer for
     * each stop.
     *
     * @param layer
     * @param layerStops
     * @return
     * @throws ParseException
     */
    List<MBLayer> getLayerStyleForStops(MBLayer layer, List<Long> layerStops)
            throws ParseException {
        List<MBLayer> layers = new ArrayList<>();

        for (int i = 0; i < layerStops.size(); i++) {
            JSONObject obj = (JSONObject) parser.parse(layer.getJson().toJSONString());
            MBLayer workingLayer = MBLayer.create(obj);
            Long maxZoom = layerStops.get(layerStops.size() - 1);
            Long current = layerStops.get(i);
            long[] range = {0, 0};
            if (current < maxZoom) {
                range[0] = current;
                range[1] = layerStops.get(i + 1);
            } else if (current.equals(maxZoom)) {
                range[0] = current;
                range[1] = maxZoom;
            }
            layers.add(createLayerStopStyle(workingLayer, range));
        }

        return layers;
    }

