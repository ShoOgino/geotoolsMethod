    @Override
    public <T> T evaluate(Object object, Class<T> context) {
        List<Expression> parameters = getParameters();

        Expression input = parameters.get(0);

        Expression transform = parameters.get(1);
        String transformEvaluated = transform.evaluate(object, String.class);
        transformEvaluated = transformEvaluated == null ? ""
                : transformEvaluated.trim().toLowerCase();

        Expression output;
        if ("uppercase".equals(transformEvaluated)) {
            output = ff2.function("strToUpperCase", input);
        } else if ("lowercase".equals(transformEvaluated)) {
            output = ff2.function("strToLowerCase", input);
        } else {
            output = input;
        }

        return output.evaluate(object, context);
    }

