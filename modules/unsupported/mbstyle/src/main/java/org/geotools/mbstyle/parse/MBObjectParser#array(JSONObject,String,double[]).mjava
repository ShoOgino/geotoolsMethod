    /** Convert to doublep[] */
    public double[] array(JSONObject json, String tag, double[] fallback) {
        if (json.containsKey(tag)) {
            Object obj = json.get(tag);
            if (obj instanceof JSONArray) {
                JSONArray array = (JSONArray) obj;
                double result[] = new double[array.size()];
                for (int i = 0; i < array.size(); i++) {
                    result[i] = ((Number) array.get(i)).doubleValue();
                }
                return result;
            } else {
                throw new MBFormatException(
                        "\"" + tag + "\" required as JSONArray of Number: Unexpected "
                                + obj.getClass().getSimpleName());
            }
        }
        return fallback;
    }

