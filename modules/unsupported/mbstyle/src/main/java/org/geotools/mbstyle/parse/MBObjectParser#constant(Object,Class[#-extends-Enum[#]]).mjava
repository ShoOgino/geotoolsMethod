    /**
     * Utility method used to convert enumerations to an appropriate GeoTools literal string.
     * <p>
     * Any conversion between mapbox constants and geotools constants will be done here.
     * 
     * @param value The value to be converted to the appropriate GeoTools literal
     * @param enumeration The type of the mapbox enumeration
     * @return Literal, or null if unavailable
     */
    public Literal constant(Object value, Class<? extends Enum<?>> enumeration) {
        if( value == null ){
            return null;
        }
        if( value instanceof String){
            // step 1 look up enumValue
            String stringVal = (String) value;
            if ("".equals(stringVal.trim())) {
                return null;
            }
            Object enumValue = null;
            for (Object constant : enumeration.getEnumConstants()) {
                if (constant.toString().equalsIgnoreCase(stringVal.trim())) {
                    enumValue = constant;
                    break;
                }
            }
            if( enumValue == null ){
                throw new MBFormatException("\"" + stringVal + "\" invalid value for enumeration "
                    + enumeration.getSimpleName());
            }
                        
            // step 2 - convert to geotools constant
            // (Converting the string value to lowercase takes care of most cases).
            if (enumValue instanceof LineJoin && LineJoin.MITER.equals(enumValue)) {
                return ff.literal("mitre");
            }
            String literal = enumValue.toString().toLowerCase();            
            return ff.literal(literal);
        }
        return null;
    }

