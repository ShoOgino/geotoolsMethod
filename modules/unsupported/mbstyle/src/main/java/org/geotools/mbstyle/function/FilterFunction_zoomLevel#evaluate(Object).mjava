    public Object evaluate(Object feature) {
        Number arg0;
        String arg1;

        try {
            arg0 = getExpression(0).evaluate(feature, Number.class);
        } catch (Exception e) {
            throw new IllegalArgumentException(
                    "Filter Function problem for function zoomLevel argument #0 - expected Number",
                    e);
        }

        try {
            arg1 = getExpression(1).evaluate(feature, String.class);
        } catch (Exception e) {
            throw new IllegalArgumentException(
                    "Filter Function problem for function zoomLevel argument #1 - expected String",
                    e);
        }

        if ("EPSG:3857".equals(arg1)) {
            // This constant is the zoomLevel 0 scale denominator for web mercator at the equator.
            return Math.log(559_082_263.9508929 / arg0.doubleValue()) / Math.log(2);
        } else {
            throw new IllegalArgumentException("Unsupported srid for zoomLevel function: " + arg1);
        }
    }

