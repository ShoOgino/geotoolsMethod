    /**
     * Factory method creating the appropriate MBStyle based on the "type" indicated in the layer JSON.
     */
    public static MBLayer create(JSONObject layer ){
        if( layer.containsKey("type") && layer.get("type") instanceof String){
            String type = (String) layer.get("type");
            switch( type ){
            case "line": return new LineMBLayer(layer);
            case "fill": return new FillMBLayer(layer);
            case "raster": return new RasterMBLayer(layer);
            case "circle": return new CircleMBLayer(layer);
            case "background": return new BackgroundMBLayer(layer);
            case "symbol": return new SymbolMBLayer(layer);
            case "fill-extrusion": return new FillExtrusionMBLayer(layer);
            default:
                throw new MBFormatException(("\"type\" " + type
                        + " is not a valid layer type. Must be one of: "
                        + "background, fill, line, symbol, raster, circle, fill-extrusion"));

            }
        }
        // technically we may be able to do this via a ref
        throw new MBFormatException("\"type\" required to create layer.");
    }

