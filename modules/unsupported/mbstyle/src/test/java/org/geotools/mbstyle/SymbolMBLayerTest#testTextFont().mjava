    @Test
    public void testTextFont() {
        MBLayer fontLayer = (SymbolMBLayer) fontStyle.layer("text-font");
        List<FeatureTypeStyle> featureTypeFont = fontLayer.transformInternal(fontStyle);
        assertEquals(
                true, ((JSONObject) fontLayer.getLayout().get("text-font")).containsKey("stops"));
        assertEquals(
                "Apple-Chancery",
                ((JSONArray)
                                ((JSONArray)
                                                ((JSONArray)
                                                                ((JSONObject)
                                                                                fontLayer
                                                                                        .getLayout()
                                                                                        .get(
                                                                                                "text-font"))
                                                                        .get("stops"))
                                                        .get(0))
                                        .get(1))
                        .get(0));
        assertEquals(
                "Apple-Chancery",
                ((CategorizeFunction)
                                ((TextSymbolizer)
                                                featureTypeFont
                                                        .get(0)
                                                        .rules()
                                                        .get(0)
                                                        .getSymbolizers()[0])
                                        .fonts()
                                        .get(0)
                                        .getFamily()
                                        .get(0))
                        .getParameters()
                        .get(1)
                        .toString());
        System.out.println(
                ((TextSymbolizer) featureTypeDefaults.get(0).rules().get(0).getSymbolizers()[0])
                        .fonts()
                        .get(0)
                        .getFamily());
        assertEquals(
                "Open Sans Regular",
                ((TextSymbolizer) featureTypeDefaults.get(0).rules().get(0).getSymbolizers()[0])
                        .fonts()
                        .get(0)
                        .getFamily()
                        .get(0)
                        .toString());
    }

