    /**
     * Test the parsing of additional sprite parameters from the #-fragment part of an external graphic URL.
     */
    @Test
    public void testParseFragmentParameters() throws MalformedURLException {
        String urlString = "http://localhost:8080/testlocation#icon=testName&size=1.25";
        URL url = new URL(urlString);
        Map<String, String> paramsMap = SpriteGraphicFactory.parseFragmentParams(url);
        assertEquals("testName", paramsMap.get("icon"));
        assertEquals(1.25, Double.valueOf(paramsMap.get("size")), .000001);
        
        urlString = "http://localhost:8080/testlocation#icon=testName";
        url = new URL(urlString);
        paramsMap = SpriteGraphicFactory.parseFragmentParams(url);
        assertEquals("testName", paramsMap.get("icon"));
        assertTrue(null==paramsMap.get("size"));
        
        urlString = "http://localhost:8080/testlocation#size=1.25&icon=testName";
        url = new URL(urlString);
        paramsMap = SpriteGraphicFactory.parseFragmentParams(url);
        assertEquals("testName", paramsMap.get("icon"));
        assertEquals(1.25, Double.valueOf(paramsMap.get("size")), .000001);       
        
        urlString = "http://localhost:8080/testlocation#testName";
        url = new URL(urlString);
        paramsMap = SpriteGraphicFactory.parseFragmentParams(url);
        assertEquals("testName", paramsMap.get("icon"));
        assertTrue(null==paramsMap.get("size"));     
    }

