    /** Verify that a "length" lookup expression can be parsed correctly. */
    @Test
    public void testParseLengthExpression() {
        // test string length
        final JSONObject j = getObjectByLayerId("lengthExpression", "paint");
        Object o = getExpressionEvaluation(j, "text-color");
        assertEquals(9, o);
        // test array length
        final JSONObject jl = getObjectByLayerId("lengthExpression", "layout");
        Object ol = getExpressionEvaluation(jl, "text-field");
        assertEquals(9, ol);
        // test nested length expression
        final JSONObject jn = getObjectByLayerId("lengthExpression", "paint");
        Object on = getExpressionEvaluation(jn, "halo-color");
        assertEquals(9, on);
    }

