    /** Test parsing from a Mapbox enumeration property to a GeoTools expression. */
    @Test
    public void testEnumToExpression() throws ParseException {
        // Test for text-pitch-alignment
        JSONObject object =
                MapboxTestUtils.object("{'text-pitch-alignment': 'map'}"); // viewport, auto
        Expression expression =
                parser.enumToExpression(
                        object,
                        "text-pitch-alignment",
                        SymbolMBLayer.Alignment.class,
                        SymbolMBLayer.Alignment.AUTO);
        assertEquals("Enum correctly parsed", "map", expression.evaluate(null, String.class));

        // Test for line-cap
        object = MapboxTestUtils.object("{'line-cap': 'round'}");
        expression =
                parser.enumToExpression(
                        object, "line-cap", LineMBLayer.LineCap.class, LineMBLayer.LineCap.BUTT);
        assertEquals("round", expression.evaluate(null, String.class));

        // Test for line-join
        object = MapboxTestUtils.object("{'line-join': 'bevel'}");
        expression =
                parser.enumToExpression(
                        object,
                        "line-join",
                        LineMBLayer.LineJoin.class,
                        LineMBLayer.LineJoin.MITER);
        assertEquals("bevel", expression.evaluate(null, String.class));
    }

