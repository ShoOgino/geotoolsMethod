    @Test
    public void testStylesForZoomLevels() throws IOException, ParseException {
        JSONObject jsonObject = MapboxTestUtils.parseTestStyle("functionParseTest.json");

        MBStyle mbStyle = new MBStyle(jsonObject);
        List<Long> zoomLevels = MBObjectZoomLevels.getZoomLevels(mbStyle);

        List<MBStyle> zoomStyles = MBObjectZoomLevels.getStylesForZoomLevels(zoomLevels, jsonObject);

        assertEquals(6, zoomStyles.size());

        // Zoom-and-property functions Style has been "smuched" into normal properies / function calls
        MBStyle s = zoomStyles.get(0);
        MBLayer layer = s.layers().get(5);
        JSONObject circleRadius = (JSONObject) layer.getPaint().get("circle-radius");
        JSONArray stopsArray = (JSONArray) circleRadius.get("stops");

        assertEquals("rating", circleRadius.get("property"));
        assertEquals(2, stopsArray.size());
        assertFalse(stopsArray.get(0) instanceof JSONObject);
    }

