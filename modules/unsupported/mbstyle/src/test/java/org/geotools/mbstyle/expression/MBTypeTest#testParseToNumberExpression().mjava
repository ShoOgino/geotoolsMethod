    /** Verify that the "to-number" MBTypes expression can be parsed and evaluated correctly. */
    @Test
    public void testParseToNumberExpression() {

        final JSONObject j = getObjectByLayerId("toNumberExpression", "paint");

        Object aNull = getExpressionEvaluation(j, "null");
        assertEquals(0L, aNull);

        Object aZero = getExpressionEvaluation(j, "zero");
        assertEquals(0L, aZero);

        Object anInt = getExpressionEvaluation(j, "int-string");
        assertEquals(123.0D, anInt);

        Object aDouble = getExpressionEvaluation(j, "double-string");
        assertEquals(123.123D, aDouble);

        Object aFalse = getExpressionEvaluation(j, "false");
        assertEquals(0L, aFalse);

        Object aTrue = getExpressionEvaluation(j, "true");
        assertEquals(1L, aTrue);

        Object nested = getExpressionEvaluation(j, "nest");
        assertEquals(46.08D, nested);

        try {
            Object obj = getExpressionEvaluation(j, "object");
            fail(
                    "expected exception function \"mbToColor\" fails if argument can't be converted to a color");
        } catch (IllegalArgumentException e) {
        }
    }

