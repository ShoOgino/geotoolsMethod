    public void testVisualizeStyleWithLineFeatures(JSONObject jsonStyle, String renderTitle, String renderComparisonFileName, boolean showLines) throws Exception {
        // Read file to JSONObject

        // Get the style
        MBStyle mbStyle = new MBStyle(jsonStyle);
        StyledLayerDescriptor sld = mbStyle.transform();
        NamedLayer l = (NamedLayer) sld.layers().get(0);
        Style style = l.getStyles()[0];

        MapContent mc = new MapContent();

        if (showLines) {
            mc.addLayer(new FeatureLayer(lineFS, defaultLineStyle()));    
        }
        mc.addLayer(new FeatureLayer(lineFS, style));    
        
        StreamingRenderer renderer = new StreamingRenderer();
        renderer.setMapContent(mc);
        renderer.setJava2DHints(new RenderingHints(KEY_ANTIALIASING, VALUE_ANTIALIAS_ON));
        BufferedImage image = MapboxTestUtils.showRender(renderTitle, renderer, DISPLAY_TIME,
                new ReferencedEnvelope[] { bounds }, null);
        ImageAssert.assertEquals(file(renderComparisonFileName), image, 1800);
        mc.dispose();
    }

