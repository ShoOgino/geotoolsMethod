    /**
     * Test a {@link MBFunction} (type = identity) that returns a string value.
     */
    @Test
    public void stringIdentityFunctionTest() throws Exception {
        String jsonStr = "{'property': 'textproperty','type': 'identity'}";
        MBFunction function = new MBFunction(object(jsonStr));
        assertTrue("Function category is \"property\"", EnumSet.of(MBFunction.FunctionCategory.PROPERTY).equals(function.category()));
        assertEquals("Function type is \"identity\"", MBFunction.FunctionType.IDENTITY, function.getType());                      
        
        Expression outputExpression = function.function(String.class);
        
        SimpleFeatureType SAMPLE = DataUtilities.createType("SAMPLE",
                "id:\"\",textproperty,location=4326");
        SimpleFeature feature = DataUtilities.createFeature(SAMPLE, "measure1=A|textvalue|POINT(0,0)");
        String output = outputExpression.evaluate(feature, String.class);
        assertEquals("textvalue", output);        
    }

