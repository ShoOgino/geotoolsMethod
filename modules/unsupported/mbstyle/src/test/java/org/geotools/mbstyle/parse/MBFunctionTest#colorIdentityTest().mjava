    @Test
    public void colorIdentityTest() throws Exception {
        SimpleFeatureType SAMPLE = DataUtilities.createType("SAMPLE",
                "id:\"\",temperature:0.0,location=4326,color:java.awt.Color,text:String:");
        SimpleFeature feature1 = DataUtilities.createFeature(SAMPLE, "measure1=A|50.0|POINT(0,0)|#FF0000|red");
        SimpleFeature feature2 = DataUtilities.createFeature(SAMPLE, "measure1=A|50.0|POINT(0,0)|#0000FF|rgb(0,0,255)");
        
        // color test
        MBFunction function = new MBFunction(object("{'property':'color','type':'identity'}"));
        assertTrue("property", function.category().contains(MBFunction.FunctionCategory.PROPERTY));
        assertTrue("identity", function.getType() == FunctionType.IDENTITY );
        
        Expression color = function.color();
        assertEquals("color",Color.RED, color.evaluate(feature1, Color.class));
        assertEquals("color",Color.BLUE, color.evaluate(feature2, Color.class));
        
        function = new MBFunction(object("{'property':'text','type':'identity'}"));
        Expression text= function.color();
        assertEquals("text",Color.RED, text.evaluate(feature1, Color.class));
        assertEquals("text",Color.BLUE, text.evaluate(feature2, Color.class));
        
  
    }

