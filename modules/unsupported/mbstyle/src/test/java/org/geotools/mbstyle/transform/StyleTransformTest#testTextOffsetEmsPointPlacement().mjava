    @Test
    public void testTextOffsetEmsPointPlacement() throws Exception {
        JSONObject jsonObject =
                parseTestStyle("symbolStyleSimpleIconAndTextPointPlacementOffsetTest.json");
        MBStyle mbStyle = new MBStyle(jsonObject);
        StyledLayerDescriptor sld = mbStyle.transform();
        Style style = MapboxTestUtils.getStyle(sld, 0);
        TextSymbolizer ts =
                (TextSymbolizer)
                        style.featureTypeStyles().get(0).rules().get(0).symbolizers().get(1);
        PointPlacement pp = (PointPlacement) ts.getLabelPlacement();
        // text-offset: [1, 0.5] as ems, with text-size set to 12, and opposite y direction
        assertEquals(12, pp.getDisplacement().getDisplacementX().evaluate(null, Double.class), 0d);
        assertEquals(-6, pp.getDisplacement().getDisplacementY().evaluate(null, Double.class), 0d);
    }

