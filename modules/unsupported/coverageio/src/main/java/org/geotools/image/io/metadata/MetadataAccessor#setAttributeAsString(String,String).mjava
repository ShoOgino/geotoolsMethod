    /**
     * Set the attribute to the specified value,
     * or remove the attribute if the value is null.
     * <p>
     * Every {@code set} methods in this class except {@link #setUserObject setUserObject}
     * invoke this method last. Consequently, this method provides a single point for
     * overriding if subclasses want to process the attribute after formatting.
     *
     * @param attribute The attribute name.
     * @param value     The attribute value.
     */
    protected void setAttributeAsString(final String attribute, String value) {
        final Element element = currentElement();
        if (value == null || (value=value.trim()).length() == 0) {
            if (element.hasAttribute(attribute)) {
                element.removeAttribute(attribute);
            }
        } else {
            element.setAttribute(attribute, value);
        }
    }

