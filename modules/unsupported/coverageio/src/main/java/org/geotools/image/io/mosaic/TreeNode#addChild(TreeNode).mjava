    /**
     * Adds the given tile as a child of this tile. This method do nothing if the given child
     * is null (which is typically the case when it doesn't intercept the region of interest).
     * <p>
     * Note that this method has pre-conditions checked by {@code assert} statements. If the
     * {@link TreeNode} class become public, we would need to performs inconditional checks.
     *
     * @throws ClassCastException If a subclass has some restrictions about the kind
     *         of child accepted, and the given child doesn't meet those restrictions.
     */
    public void addChild(final TreeNode child) throws ClassCastException {
        if (child != null) {
            assert child.isRoot() && (tile == null || contains(child)) : child;
            child.parent = this;
            if (lastChildren == null) {
                lastChildren = firstChildren = child;
            } else {
                child.previousSibling = lastChildren;
                lastChildren.nextSibling = child;
                lastChildren = child;
            }
        }
    }

