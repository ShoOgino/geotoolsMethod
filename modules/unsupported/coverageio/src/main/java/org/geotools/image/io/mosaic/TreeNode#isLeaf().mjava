    /**
     * Returns {@code true} if this node has no children. Note that this is slightly different from
     * {@link #getAllowsChildren} which returns {@code false} if this node <strong>can not</strong>
     * have children.
     */
    public final boolean isLeaf() {
        assert (firstChildren == null) == (lastChildren == null);
        return firstChildren == null;
    }

