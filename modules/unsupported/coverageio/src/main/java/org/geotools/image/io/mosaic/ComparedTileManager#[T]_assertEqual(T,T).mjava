    /**
     * Ensures that the given objects are equals. Throws an {@link AssertionError}
     * on failure since this class is used for testing purpose and assertions only.
     *
     * @param  o1 The first object to compare.
     * @param  o2 The second object to compare.
     * @return The first object if both are equal.
     * @throws AssertionError if the given objects are not equal.
     */
    private <T> T assertEqual(final T o1, final T o2) throws AssertionError {
        if (!Utilities.equals(o1, o2)) {
            throw new AssertionError(
                    first.getClass().getSimpleName() + '=' + o1 + ", " +
                   second.getClass().getSimpleName() + '=' + o2);
        }
        return o1;
    }

