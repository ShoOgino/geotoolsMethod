    /**
     * Sets the locale to use for formatting warning or error messages. This is typically the
     * {@linkplain javax.imageio.ImageReader#getLocale image reader locale}. This locale is
     * informative only; there is no garantee that this locale will be really used.
     * <p>
     * This method sets the locale for the current thread only. It is safe to use this palette
     * factory concurrently in many threads, each with their own locale.
     *
     * @param warningLocale The locale for warning or error messages, or {@code null} for the
     *        default locale
     *
     * @since 2.4
     */
    public synchronized void setWarningLocale(final Locale warningLocale) {
        if (warningLocales == null) {
            if (warningLocale == null) {
                return;
            }
            warningLocales = warningLocales();
        }
        // TODO: use 'remove' on warningLocale==null when we will be allowed to compile for J2SE 1.5.
        warningLocales.set(warningLocale);
    }

