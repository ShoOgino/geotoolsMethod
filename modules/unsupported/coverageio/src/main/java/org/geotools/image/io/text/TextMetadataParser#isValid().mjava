    /**
     * Checks if this object is in a valid state. {@link #naming} should
     * contains a key for every values in all {@link Set} objects.
     */
    private boolean isValid() {
        assert Thread.holdsLock(this);
        if (naming != null) {
            for (final Key key : naming.values()) {
                if (!naming.keySet().contains(key.name)) {
                    return false;
                }
            }
        }
        return true;
    }

