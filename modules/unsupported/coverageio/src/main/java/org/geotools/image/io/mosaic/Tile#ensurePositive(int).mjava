    /**
     * Ensures that the given value is positive and in the range of 16 bits number.
     * Returns the value casted to an unsigned {@code short} type.
     */
    private static short ensurePositive(final int n) throws IllegalArgumentException {
        if (n < 0 || n > MASK) {
            throw new IllegalArgumentException(Errors.format(
                    ErrorKeys.VALUE_OUT_OF_BOUNDS_$3, n, 0, MASK));
        }
        return (short) n;
    }

