    /**
     * Add a metadata for the specified key. Keys are case-insensitive, ignore leading
     * and trailing whitespaces and consider any other whitespace sequences as equal
     * to a single {@code '_'} character.
     *
     * @param  alias The key for the metadata to add. This is usually the name found
     *         in the file to be parsed (this is different from {@link Key} objects,
     *         which are keys in a format neutral way). This key is usually, but not
     *         always, one of the alias defined with {@link #addAlias}.
     * @param  value The value for the metadata to add. If {@code null} or
     *         {@link Image#UndefinedProperty}, then this method do nothing.
     * @throws AmbiguousMetadataException if a different value already exists for the
     *         specified alias, or for an other alias bound to the same {@link Key}.
     *
     * @see #add(GridCoverage)
     * @see #add(RenderedImage)
     * @see #add(PropertySource,String)
     * @see #parseLine
     */
    public synchronized void add(String alias, final Object value)
            throws AmbiguousMetadataException
    {
        final Key aliasAsKey;
        if (alias != null) {
            alias = alias.trim();
            aliasAsKey = new Key(alias);
        }
        else {
            aliasAsKey = null;
        }
        add(aliasAsKey, value);
    }

