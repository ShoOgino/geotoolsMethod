    /**
     * Removes the tile at the given index. Current implementation can remove only tiles
     * created from a pattern.
     */
    final void removeTile(final int x, final int y) {
        final int i = getIndex(x, y);
        assert tiles == null || tiles.get(i) == null;
        if (patternUsed == null) {
            patternUsed = new IntegerList(nx*ny, patterns.length, true);
            patternUsed.fill(1);
        }
        patternUsed.setInteger(i, 0);
    }

