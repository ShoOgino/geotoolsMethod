    /**
     * Set a sample model indicating the data layout in the input stream.
     * Indications comprise image size and data type, i.e. calling this
     * method with a non-null value is equivalent to calling also the
     * following methods:
     *
     * <blockquote><pre>
     * setStreamImageSize(model.getWidth(), model.getHeight());
     * setStreamDataType(model.getDataType());
     * </pre></blockquote>
     *
     * Setting the sample model to {@code null} reset
     * the default model, which is reader dependent.
     */
    public void setStreamSampleModel(final SampleModel model) {
        this.model = model;
        if (model != null) {
            size = new Dimension(model.getWidth(), model.getHeight());
            dataType = model.getDataType();
        }
    }

