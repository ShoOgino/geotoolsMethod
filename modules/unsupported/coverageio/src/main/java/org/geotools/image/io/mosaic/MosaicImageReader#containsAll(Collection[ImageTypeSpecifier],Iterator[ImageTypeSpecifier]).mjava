    /**
     * Helper method for assertions only.
     */
    private static Iterator<ImageTypeSpecifier> containsAll(
            final Collection<ImageTypeSpecifier> expected, final Iterator<ImageTypeSpecifier> types)
    {
        final List<ImageTypeSpecifier> asList = new ArrayList<ImageTypeSpecifier>(expected.size());
        while (types.hasNext()) {
            asList.add(types.next());
        }
        return expected.containsAll(asList) ? asList.iterator() : null;
    }

