    /**
     * Constructs an image reader with the specified provider.
     *
     * @param spi The image reader provider, or {@code null} for the default one.
     */
    public MosaicImageReader(final ImageReaderSpi spi) {
        super(spi != null ? spi : Spi.DEFAULT);
        readers = new HashMap<ImageReaderSpi,ImageReader>();
        readerInputs = new IdentityHashMap<ImageReader,Object>();
        providers = Collections.unmodifiableSet(readers.keySet());
    }

