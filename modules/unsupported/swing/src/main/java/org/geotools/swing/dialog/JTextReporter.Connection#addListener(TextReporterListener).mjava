        /**
         * Adds a listener.
         *
         * @param listener the listener
         * @throws IllegalArgumentException if {@code listener} is {@code null}
         */
        public void addListener(TextReporterListener listener) {
            if (listener == null) {
                throw new IllegalArgumentException("listener must not be null");
            }

            updateLock.writeLock().lock();
            try {
                if (!listeners.contains(listener)) {
                    listeners.add(listener);
                }
            } finally {
                updateLock.writeLock().unlock();
            }
        }

