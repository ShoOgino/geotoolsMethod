    /**
     * Gets the length of the integer part of a double value.
     *
     * @param x the value
     * @return number of digits in the integer part
     */
    private int integerPartLen(double x) {
        return 1 + (int) Math.log10(Math.abs(x));
    }

