    /**
     * Called when a map layer has changed, e.g. features added
     * to a displayed feature collection
     */
    @Override
    public void layerChanged(MapLayerListEvent event) {
        int reason = event.getMapLayerEvent().getReason();

        if (reason == MapLayerEvent.DATA_CHANGED) {
            setFullExtent();
        }

        if (reason != MapLayerEvent.SELECTION_CHANGED) {
            clearLabelCache.set(true);
            drawBaseImage(false);
        }

        repaint();
    }

