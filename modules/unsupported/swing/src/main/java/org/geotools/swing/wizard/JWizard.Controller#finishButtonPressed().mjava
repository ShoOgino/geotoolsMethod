        private void finishButtonPressed() {
            // If it is a finishable panel, close down the dialog. Otherwise,
            // get the ID that the current panel identifies as the next panel,
            // and display it.
            if (current == null) {
                // we are lost - no page has been registered
                close(ERROR);
                return;
            }
            if (!current.isValid()) {
                syncButtonsToPage();
                return; // not valid so we cannot go on
            }
            current.preClosePanel();
            close(FINISH);
        }

