    /**
     * Creates a dialog that filters for files matching the specified data format.
     *
     * @param format data file format
     */
    public JFileDataStoreChooser(final FileDataStoreFactorySpi format) {

        setFileFilter(
                new FileFilter() {

                    public boolean accept(File f) {
                        if (f.isDirectory()) {
                            return true;
                        }

                        for (String ext : format.getFileExtensions()) {
                            if (f.getPath().endsWith(ext)) {
                                return true;
                            }
                            if (f.getPath().endsWith(ext.toUpperCase())) {
                                return true;
                            }
                        }
                        return false;
                    }

                    public String getDescription() {
                        return format.getDescription();
                    }
                });
    }

