        /**
         * Constructs a pane which will display the specified error message.
         *
         * @param owner     Parent Component of the dialog box to be created.
         * @param exception Exception we want to report.
         * @param message   Message to display.
         * @param buttons   Buttons to place under the message.  These buttons
         *                  should be in the order "Debug", "Close".
         * @param resources Resources in the user's language.
         */
        private Pane(final Component owner,   final Throwable exception,
                     final Container message, final AbstractButton[] buttons,
                     final Vocabulary resources)
        {
            super(message, ERROR_MESSAGE, OK_CANCEL_OPTION, null, buttons);
            this.exception   = exception;
            this.messageContainer     = message;
            this.resources   = resources;
            this.traceButton = buttons[0];
            buttons[0].addActionListener(this);
            buttons[1].addActionListener(this);
            /*
             * Constructs the dialog box.  Automatically detects if we can use InternalFrame or if
             * we should be happy with JDialog. The exception trace will not be written immediately.
             */
            final String classname = Classes.getShortClassName(exception);
            final String title = resources.getString(VocabularyKeys.ERROR_$1, classname);
            final JDesktopPane desktop = getDesktopPaneForComponent(owner);
            if (desktop != null) {
                final JInternalFrame dlg = createInternalFrame(desktop, title);
                desktop.setLayer(dlg, JDesktopPane.MODAL_LAYER.intValue());
                dlg.setDefaultCloseOperation(JInternalFrame.DISPOSE_ON_CLOSE);
                dlg.setResizable(false);
                dlg.pack();
                this.dialog = dlg;
            } else {
                final JDialog dlg = createDialog(owner, title);
                dlg.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
                dlg.setResizable(false);
                dlg.pack();
                this.dialog = dlg;
            }
            initialSize = dialog.getSize();
        }

