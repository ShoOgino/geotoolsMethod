    /**
     * Initialize the control states based on the given style objects
     *
     * @param fts a {@code FeatureTypeStyle}
     * @param rule a {@code Rule}
     * @param sym a {@code Symbolizer}
     */
    private void initControls(FeatureTypeStyle fts, Rule rule, Symbolizer sym) {
        Expression exp = null;

        switch (geomType) {
            case POLYGON:
            case MULTIPOLYGON:
                PolygonSymbolizer polySym = (PolygonSymbolizer) sym;
                setLineColorItems(SLD.color(polySym.getStroke()));
                setFillColorItems(SLD.color(polySym.getFill()));
                setFillOpacityItems(SLD.opacity(polySym.getFill()));
                break;

            case LINESTRING:
            case MULTILINESTRING:
                LineSymbolizer lineSym = (LineSymbolizer) sym;
                setLineColorItems(SLD.color(lineSym));
                break;

            case POINT:
            case MULTIPOINT:
                PointSymbolizer pointSym = (PointSymbolizer) sym;
                setLineColorItems(SLD.pointColor(pointSym));
                setFillColorItems(SLD.pointFill(pointSym));
                setFillOpacityItems(SLD.pointOpacity(pointSym));
                setPointSizeItems(SLD.pointSize(pointSym));
                setPointSymbolItems(SLD.pointWellKnownName(pointSym));
        }
    }

