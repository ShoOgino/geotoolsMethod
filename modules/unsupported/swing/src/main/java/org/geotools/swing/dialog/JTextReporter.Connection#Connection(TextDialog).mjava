        /**
         * Private constructor.
         *
         * @param dialog the dialog to connect to
         */
        private Connection(TextDialog dialog) {
            dialogRef = new WeakReference<TextDialog>(dialog);
            listeners = new ArrayList<TextReporterListener>();
            updateLock = new ReentrantReadWriteLock();
            active = new AtomicBoolean(true);
        }

