        /**
         * Displays a file chooser dialog and returns the selected file.
         *
         * @return the selected file
         */
        static File getFile() {
            JFileChooser chooser = new JFileChooser(cwd);
            chooser.setFileFilter(
                    new FileFilter() {

                        @Override
                        public boolean accept(File f) {
                            return true;
                        }

                        @Override
                        public String getDescription() {
                            return "All files";
                        }
                    });

            if (chooser.showSaveDialog(null) != JFileChooser.APPROVE_OPTION) {
                return null;
            }

            cwd = chooser.getCurrentDirectory();
            return chooser.getSelectedFile();
        }

