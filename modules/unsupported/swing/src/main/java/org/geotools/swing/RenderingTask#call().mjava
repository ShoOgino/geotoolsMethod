    /**
     * Called by the executor to run this rendering task.
     *
     * @return result of the task: completed, cancelled or failed
     * @throws Exception
     */
    public Status call() throws Exception {
        if (!isCancelled()) {
            try {
                renderer.addRenderListener(this);
                running.set(true);
                renderer.paint(graphics, 
                        mapContent.getViewport().getScreenArea(), 
                        mapContent.getViewport().getBounds(), 
                        mapContent.getViewport().getWorldToScreen());
            } finally {
                renderer.removeRenderListener(this);
                running.set(false);
            }
        }
        
        if (isCancelled()) {
            return Status.CANCELLED;
        } else if (isFailed()) {
            return Status.FAILED;
        } else {
            return Status.COMPLETED;
        }
    }

