    /**
     * Called when a new map layer has been added. Sets the layer
     * as selected (for queries) and, if the layer table is being
     * used, adds the new layer to the table.
     */
    @Override
    public void layerAdded(MapLayerListEvent event) {
        Layer layer = event.getElement();
        
        if( layer instanceof ComponentListener ){
            addComponentListener( (ComponentListener) layer );
        }

        boolean atFullExtent = equalsFullExtent(getDisplayArea());
        setFullExtent();
        if (mapContent.layers().size() == 1 || atFullExtent) {
            reset();
        }

        drawBaseImage(false);
        repaint();
    }

