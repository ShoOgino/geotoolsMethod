    /** Method used to fill in any required "programming" level defaults such as dbtype. */
    private void fillInDefaults(DataStoreFactorySpi format, Map<String, Object> params) {
        if (format == null) return;
        for (Param param : format.getParametersInfo()) {
            if (param.required && "program".equals(param.getLevel())) {
                if (!params.containsKey(param.key)) {
                    params.put(param.key, param.sample);
                }
            }
        }
    }

