    /**
     * Creates a new {@linkplain FeatureLayer}.
     *
     * @param url location of the feature data
     * @return the new layer
     * @throws Exception on error accessing the feature data
     */
    private static Layer createLayer(URL url) throws Exception {
        Map<String, Object> params = new HashMap<>();
        params.put("url", url);
        DataStore dataStore = DataStoreFinder.getDataStore(params);
        String typeName = dataStore.getTypeNames()[0];
        SimpleFeatureSource featureSource = dataStore.getFeatureSource(typeName);

        return new FeatureLayer(featureSource, SLD.createSimpleStyle(featureSource.getSchema()));
    }

