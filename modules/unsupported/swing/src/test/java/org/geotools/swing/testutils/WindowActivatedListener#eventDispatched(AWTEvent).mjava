    /**
     * Checks if an event pertains to this listener's target window class and is of type {@linkplain
     * WindowEvent#WINDOW_ACTIVATED}.
     *
     * @param event an event
     */
    @Override
    @SuppressWarnings("unchecked")
    public void eventDispatched(AWTEvent event) {
        if (fixture == null) {
            Object source = event.getSource();
            if (windowClass.isAssignableFrom(source.getClass())
                    && event.getID() == WindowEvent.WINDOW_ACTIVATED) {

                if (source instanceof Frame) {
                    fixture = (AbstractWindowFixture<S, C, D>) new FrameFixture((Frame) source);
                } else if (source instanceof Dialog) {
                    fixture = (AbstractWindowFixture<S, C, D>) new DialogFixture((Dialog) source);
                }

                latch.countDown();
            }
        }
    }

