    /**
     * Creates a new listener.
     * 
     * @param windowClass the class to listen for.
     */
    public WindowActivatedListener(Class<? extends Window> windowClass) {
        if (Frame.class.isAssignableFrom(windowClass)
                || Dialog.class.isAssignableFrom(windowClass)) {
            this.windowClass = windowClass;

        } else {
            throw new UnsupportedOperationException(
                    windowClass.getName() + " is not supported");
        }

        this.latch = new CountDownLatch(1);
    }

