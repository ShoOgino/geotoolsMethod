    @Test
    public void checkDefaultDialogIsSetupCorrectly() throws Exception {
        showDialog();
        window.requireModal();
        assertEquals(JCRSChooser.DEFAULT_TITLE, window.component().getTitle());
        
        // The text box should be editable and initially empty
        JTextComponentFixture textBox = window.textBox();
        assertNotNull(textBox);
        textBox.requireEditable();
        textBox.requireText("");
        
        // The list should have as many items as there are authority codes
        JListFixture list = window.list();
        assertNotNull(list);
        list.requireItemCount(CODES.size());
    }

