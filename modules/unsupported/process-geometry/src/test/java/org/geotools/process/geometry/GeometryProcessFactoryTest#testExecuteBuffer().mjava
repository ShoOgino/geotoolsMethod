    @Test
    public void testExecuteBuffer() throws Exception {
        org.geotools.process.Process buffer = factory.create(new NameImpl("geo", "Buffer"));

        // try less than the required params
        Map<String, Object> inputs = new HashMap<>();
        try {
            buffer.execute(inputs, null);
            Assert.fail("What!!! Should have failed big time!");
        } catch (ProcessException e) {
            // fine
        }

        // try out only the required params
        Geometry geom = new WKTReader().read("POINT(0 0)");
        inputs.put("geom", geom);
        inputs.put("distance", 1d);
        Map<String, Object> result = buffer.execute(inputs, null);

        Assert.assertEquals(1, result.size());
        Geometry buffered = (Geometry) result.get("result");
        Assert.assertNotNull(buffered);
        Assert.assertTrue(buffered.equals(geom.buffer(1d)));

        // pass in all params
        inputs.put("quadrantSegments", 12);
        inputs.put("capStyle", GeometryFunctions.BufferCapStyle.Square);
        result = buffer.execute(inputs, null);

        Assert.assertEquals(1, result.size());
        buffered = (Geometry) result.get("result");
        Assert.assertNotNull(buffered);
        Assert.assertTrue(buffered.equals(geom.buffer(1d, 12, BufferParameters.CAP_SQUARE)));
    }

