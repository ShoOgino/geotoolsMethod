    private Graphics2D createGraphics(Image image) {
        Graphics2D g;
        if (image instanceof VolatileImage) {
            g = ((VolatileImage) image).createGraphics();
        } else {
            g = ((BufferedImage) image).createGraphics();
        }
        return g;
    }

