    /**
     * Create new instance
     *
     * @param type the type of shape.
     * @param env the area that is visible. If shape is not in area then skip.
     * @param mt the transform to go from data to the envelope (and that should
     *        be used to transform the shape coords)
     * @param hasOpacity
     * @param screenSize 
     *
     * @throws TransformException
     */
    public MultiLineHandler(ShapeType type, Envelope env, MathTransform mt,
        boolean hasOpacity, Rectangle screenSize) throws TransformException {
        if (mt == null) {
            throw new NullPointerException();
        }
        this.type = type;
        this.bbox = env;
        this.mt = mt;
        screenMap = GeometryHandlerUtilities.calculateScreenSize(screenSize,
                hasOpacity);
        span = GeometryHandlerUtilities.calculateSpan(mt,0,0);

    }

