    /**
     * calculates the distance between the centers of the two pixels at x,y
     *
     * @param mt the transform to use to calculate the centers.
     * @param x the x coordinate at which to make the calculation
     * @param y the y coordinate at which to make the calculation
     * @return a point whose x coord it the distance in world coordinates between x-0.5 and x+0.5 and the y is the span 
     * around the y point.
     * @throws NoninvertibleTransformException
     * @throws TransformException
     */
    public static Point2D calculateSpan(MathTransform mt, int x, int y)
        throws NoninvertibleTransformException, TransformException {
        MathTransform screenToWorld = mt.inverse();
        double[] original = new double[] { x-0.5, y-0.5, x+0.5, y+0.5 };
        double[] coords = new double[4];
        screenToWorld.transform(original, 0, coords, 0, 2);

        Point2D span = new Point2D.Double(Math.abs(coords[0] - coords[2]),
                Math.abs(coords[1] - coords[3]));

        return span;
    }

