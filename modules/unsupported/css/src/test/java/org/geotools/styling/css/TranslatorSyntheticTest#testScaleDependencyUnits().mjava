    @Test
    public void testScaleDependencyUnits() throws Exception {
        // k
        assertScaleMinMax("[@scale < 1k] {stroke: black}", null, 1e3);
        assertScaleMinMax("[@scale > 1k] {stroke: black}", 1e3, null);
        // m
        assertScaleMinMax("[@scale < 1M] {stroke: black}", null, 1e6);
        assertScaleMinMax("[@scale > 1M] {stroke: black}", 1e6, null);
        // g
        assertScaleMinMax("[@scale < 1G] {stroke: black}", null, 1e9);
        assertScaleMinMax("[@scale > 1G] {stroke: black}", 1e9, null);
    }

