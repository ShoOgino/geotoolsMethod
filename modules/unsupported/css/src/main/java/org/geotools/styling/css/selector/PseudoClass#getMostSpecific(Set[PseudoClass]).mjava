    /**
     * Returns the most specific pseudo class in the set, or null if the set contains inconsistent pseudo classes (e.g., "mark" and "fill")
     * 
     * @param pseudoClasses
     * @return
     */
    public static PseudoClass getMostSpecific(Set<PseudoClass> pseudoClasses) {
        PseudoClass mostSpecific = null;
        for (PseudoClass pc : pseudoClasses) {
            if (mostSpecific == null || mostSpecific.contains(pc)) {
                mostSpecific = pc;
            } else if (!pc.contains(mostSpecific)) {
                // found two that are not compatible
                return null;
            }
        }

        return mostSpecific;
    }

