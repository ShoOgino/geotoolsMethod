    private List<CssRule> expandNested(List<CssRule> topRules) {
        RulesCombiner combiner = new RulesCombiner(new UnboundSimplifyingFilterVisitor());
        List<CssRule> expanded =
                topRules.stream()
                        .flatMap(r -> r.expandNested(combiner).stream())
                        .collect(Collectors.toList());
        return expanded;
    }

