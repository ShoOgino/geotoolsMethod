    private TranslationMode getTranslationMode(Stylesheet stylesheet) {
        String value = stylesheet.getDirectiveValue(DIRECTIVE_TRANSLATION_MODE);
        if (value != null) {
            try {
                return TranslationMode.valueOf(value);
            } catch (Exception e) {
                throw new IllegalArgumentException(
                        "Invalid translation mode '"
                                + value
                                + "', supported values are: "
                                + Arrays.toString(TranslationMode.values()));
            }
        }

        return TranslationMode.Auto;
    }

