    /**
     * Gets a TIFFField node with the given tag number. This is done by searching for a TIFFField
     * with attribute number whose value is the specified tag value.
     *
     * @param tag DOCUMENT ME!
     * @return DOCUMENT ME!
     */
    static IIOMetadataNode getTiffField(Node rootNode, final int tag) {
        Node node = rootNode.getFirstChild();
        final String tag_ = Integer.toString(tag);
        if (node != null) {
            node = node.getFirstChild();
            for (; node != null; node = node.getNextSibling()) {
                Node number = node.getAttributes().getNamedItem(GeoTiffConstants.NUMBER_ATTRIBUTE);
                // TODO check this optimization
                //                if (number != null && tag ==
                // Integer.parseInt(number.getNodeValue())) {
                if (number != null && tag_.equalsIgnoreCase(number.getNodeValue())) {
                    return (IIOMetadataNode) node;
                }
            }
        }
        return null;
    }

