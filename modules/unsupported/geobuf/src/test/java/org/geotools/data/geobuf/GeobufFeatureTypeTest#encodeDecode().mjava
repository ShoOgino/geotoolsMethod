    @Test
    public void encodeDecode() throws Exception {
        File file = temporaryFolder.newFile("featureType.pbf");
        SimpleFeatureType featureType =
                DataUtilities.createType("test2", "geom:Point,name:String,id:int");
        GeobufFeatureType geobufFeatureType = new GeobufFeatureType();
        try (OutputStream out = new FileOutputStream(file)) {
            geobufFeatureType.encode(featureType, out);
        }
        try (InputStream inputStream = new FileInputStream(file)) {
            SimpleFeatureType decodedFeatureType = geobufFeatureType.decode("test2", inputStream);

            // Without a feature, there is no way to know the type
            assertEquals(
                    "geom:Geometry,name:String,id:String",
                    DataUtilities.encodeType(decodedFeatureType));
        }
    }

