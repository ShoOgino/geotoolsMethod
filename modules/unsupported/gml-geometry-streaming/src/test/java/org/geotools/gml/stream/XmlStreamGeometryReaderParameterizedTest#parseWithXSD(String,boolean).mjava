    private static Geometry parseWithXSD(final String gml, final boolean isGml3_2)
            throws IOException, ParserConfigurationException, SAXException {
        org.geotools.xsd.Configuration configuration;
        if (isGml3_2) {
            configuration = new org.geotools.gml3.v3_2.GMLConfiguration();
        } else {
            configuration = new org.geotools.gml3.GMLConfiguration();
        }
        org.geotools.xsd.Parser parser = new org.geotools.xsd.Parser(configuration);
        return (Geometry) parser.parse(new StringReader(gml));
    }

