    @Test
    public void test() throws IOException, XMLStreamException, FactoryException {
        try (InputStream input =
                getClass()
                        .getClassLoader()
                        .getResourceAsStream("org/geotools/gml/stream/" + gmlResource)) {
            XMLInputFactory f = XMLInputFactory.newInstance();
            f.setProperty(XMLInputFactory.SUPPORT_DTD, Boolean.FALSE);
            XMLStreamReader r = f.createXMLStreamReader(input);
            XmlStreamGeometryReader geometryReader =
                    new XmlStreamGeometryReader(r, new GeometryFactory());
            r.nextTag();
            Geometry g = geometryReader.readGeometry();
            assertNotNull(g);
            assertEquals(expectedGeometryClass, g.getClass());
            assertEquals(expectedWKT, g.toString());
        }
    }

