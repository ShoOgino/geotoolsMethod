    /**
     * Sets the area to display by calling the {@linkplain MapContext#setAreaOfInterest} method of
     * this pane's map context. Does nothing if the MapContext has not been set. If neither the
     * context or the envelope have coordinate reference systems defined this method does nothing.
     *
     * <p>The map area that ends up being displayed will often be larger than the requested display
     * area. For instance, if the square area is requested, but the map pane's screen area is a
     * rectangle with width greater than height, then the displayed area will be centred on the
     * requested square but include additional area on each side.
     *
     * <p>You can pass any GeoAPI Envelope implementation to this method such as ReferenedEnvelope
     * or Envelope2D.
     *
     * <p>Note: This method does <b>not</b> check that the requested area overlaps the bounds of the
     * current map layers.
     *
     * @param envelope the bounds of the map to display
     * @throws IllegalStateException if a map context is not set
     */
    public void setDisplayArea(Envelope envelope) {
        if (content != null) {
            if (curPaintArea == null || curPaintArea.isEmpty()) {
                return;
            } else {
                doSetDisplayArea(envelope);
                clearLabelCache = true;
                if (!isDisposed()) redraw();
            }

        } else {
            throw new IllegalStateException(
                    "Map context must be set before setting the display area");
        }
    }

