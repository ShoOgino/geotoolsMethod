    /**
     * Run a {@link Runnable} that needs to run in the Display thread.
     * 
     * @param runner the runnable to run.
     * @param sync if <code>true</code>, the runnable is run in sync mode, else in async.
     */
    public static void runGuiRunnableSafe( Runnable runner, boolean sync ) {
        if (Display.getCurrent() != null) {
            runner.run();
        } else {
            if (sync) {
                Display.getDefault().syncExec(runner);
            } else {
                Display.getDefault().asyncExec(runner);
            }
        }
    }

