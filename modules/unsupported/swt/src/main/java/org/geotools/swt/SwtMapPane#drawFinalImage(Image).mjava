    private void drawFinalImage(Image swtImage) {
        Display display = getDisplay();
        // this is only done if an overlay image exists

        // create a new image
        Image tmpImage = new Image(display, curPaintArea.width, curPaintArea.height);
        GC tmpGc = new GC(tmpImage);
        tmpGc.setBackground(white);
        tmpGc.fillRectangle(0, 0, curPaintArea.width, curPaintArea.height);
        if (swtImage != null) {
            // set the alpha to the new image
            tmpGc.setAlpha(alpha);
            /*
             * draw the background image into it
             * (this means everything but the overlay image)
             */
            tmpGc.drawImage(swtImage, imageOrigin.x, imageOrigin.y);
            /*
             * set the alpha back to opaque so it doesn't influence the
             * overlay image
             */
            tmpGc.setAlpha(255);
        }
        if (overlayImage != null) {
            // finally draw the overlay image on top
            doOverlayImage(tmpGc);
        }
        // draw the created new image on the pane
        if (gc != null && !gc.isDisposed()) gc.drawImage(tmpImage, imageOrigin.x, imageOrigin.y);

        if (tmpImage != null && !tmpImage.isDisposed()) {
            tmpImage.dispose();
            tmpImage = null;
        }
        if (tmpGc != null && !tmpGc.isDisposed()) {
            tmpGc.dispose();
            tmpGc = null;
        }
    }

