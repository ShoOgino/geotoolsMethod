    public synchronized void write_unlock() {
        --active_writers;

        if (waiting_readers > 0) { // priority to waiting readers
            notify_readers();
        } else {
            notify_writers();
        }
    }

