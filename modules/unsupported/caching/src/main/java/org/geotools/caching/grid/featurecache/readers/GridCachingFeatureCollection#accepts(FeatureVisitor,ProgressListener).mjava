    /** Visits all features in the collection. */
    public void accepts(FeatureVisitor visitor, ProgressListener progress) throws IOException {
        SimpleFeatureIterator feats = features();
        try {
            while (feats.hasNext()) {
                SimpleFeature f = feats.next();
                visitor.visit(f);
            }
        } finally {
            feats.close();
        }
    }

