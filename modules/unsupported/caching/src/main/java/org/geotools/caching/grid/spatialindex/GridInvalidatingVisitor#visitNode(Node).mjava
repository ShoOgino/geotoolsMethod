    public void visitNode(Node n) {
        if (this.region == null || this.region.contains(n.getShape())) {
            // clear & write out the node
            // note this will not clear children; in this case
            // we assume the validation will visit these children
            // and clear them separately
            n.clear();
            index.writeNode(n);
        }
    }

