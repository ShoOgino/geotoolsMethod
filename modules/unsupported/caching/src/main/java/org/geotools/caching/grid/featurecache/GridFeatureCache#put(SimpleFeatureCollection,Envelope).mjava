    /**
     * Adds a feature collection to the cache.
     */
    public void put(SimpleFeatureCollection fc, Envelope e) throws CacheOversizedException {
        isOversized(fc);
        lock.writeLock().lock();
        try {
            //put then register put fails
            register(e);
            put(fc);
        }catch (Exception ex){
            unregister(e);
        } finally {
            lock.writeLock().unlock();
        }
    }

