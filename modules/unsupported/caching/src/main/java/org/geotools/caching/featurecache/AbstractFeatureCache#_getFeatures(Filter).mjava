    /**
     * Gets features with satisfy a given filter.
     *
     * @param filter must be a BBOXImpl filter
     * @return
     * @throws IOException
     */
    protected SimpleFeatureCollection _getFeatures(Filter filter) throws IOException {
        if (filter instanceof BBOXImpl) {
            // return _getFeatures((BBOXImpl) filter) ;
            return get(CacheUtil.extractEnvelope((BBOXImpl) filter)).subCollection(filter);
        } else {
            throw new UnsupportedOperationException("Cannot handle given filter :" + filter);
        }
    }

