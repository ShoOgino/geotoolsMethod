    /**
     * Splits the filter into two parts; the "bounds" part which will be used to get features from
     * the cache; the filter part which will be applied after to ensure the feature meets the entire
     * filter needs.
     *
     * @param filter
     */
    private Filter[] splitFilter(Filter filter) {
        BBoxFilterSplitter splitter = new BBoxFilterSplitter();
        filter.accept(splitter, null);

        Filter spatial_restrictions = splitter.getFilterPre();
        Filter other_restrictions = splitter.getFilterPost();

        return new Filter[] {spatial_restrictions, other_restrictions};
    }

