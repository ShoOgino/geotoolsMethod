    /**
     * Closes a iterator
     *
     * @param it
     */
    private void closeIterator(Iterator<SimpleFeature> it) {
        if (it == null) return;
        FeatureReaderFeatureIterator iter = ((FeatureReaderFeatureIterator) it);
        try {
            if (it.hasNext()) {
                // there are still features left so we cannot leave this area as registered
                this.grid.unregister(iter.getMissingNodes());
            } else if (iter.getMissingNodes().size() > 0) {
                this.grid.getIndex().flush();
            }
        } finally {
        }
        iter.close();
    }

