    /**
     * Same as testMarshall, but uses complex representation of DefaultFeature. Marshall and
     * unmarshall, and test for equality with the result.
     *
     * @task seems to be a bug in DefaultFeature.equals() or JTS.Geometry.equals() test is disabled.
     * @throws IOException
     * @throws ClassNotFoundException
     * @throws IllegalAttributeException
     */
    public void ztestComplexMarshall()
            throws IOException, ClassNotFoundException, IllegalAttributeException {
        Generator gen = new Generator(1000, 1000);
        SimpleFeature f = gen.createFeature(0);
        SimpleFeatureMarshaller m = new SimpleFeatureMarshaller();

        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(baos);
        m.marshall(f, oos);

        byte[] ba = baos.toByteArray();
        baos.close();

        ByteArrayInputStream bais = new ByteArrayInputStream(ba);
        ObjectInputStream ois = new ObjectInputStream(bais);
        Feature newf = m.unmarshall(ois);
        bais.close();
        // newf = ((DefaultFeature) newf).toComplex() ;
        assertTrue(f.equals(newf));
    }

