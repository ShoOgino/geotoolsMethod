    @Test
    public void testGetCachedClient() throws IOException {
        when(statusLine.getStatusCode()).thenReturn(200);
        assertNotNull(dataStoreFactory.createDataStore(params));
        assertNotNull(dataStoreFactory.createDataStore(params));
        assertEquals(2, dataStoreFactory.getClients().size());
        verify(clientBuilder, times(2)).build();
    }

