    @Test
    public void testLegacyQueryWithProxyClient() throws IOException {
        final Map<String,Object> query = ImmutableMap.of("term", ImmutableMap.of("obj1", "value1"));
        final String data = new ObjectMapper().writeValueAsString(ImmutableMap.of("query", query));
        final RequestMatcher matcher = new RequestMatcher("POST", "/status_s/active/_search", data, "runAsTest");
        mockVersion("6.0.0");
        when(mockProxyRestClient.performRequest(argThat(matcher))).thenReturn(mockResponse);

        ElasticRequest request = new ElasticRequest();
        request.setQuery(query);
        proxyClient.search("status_s", "active", request);
    }

