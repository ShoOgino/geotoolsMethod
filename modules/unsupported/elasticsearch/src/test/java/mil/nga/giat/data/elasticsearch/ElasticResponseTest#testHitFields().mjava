    @Test
    public void testHitFields() throws IOException {
        ElasticResponse response = mapper.readValue("{\"hits\":{\"hits\":[{\"fields\": {\"tags\":[\"red\"]}}]}}", ElasticResponse.class);
        assertEquals(1, response.getResults().getHits().size());
        assertNotNull(response.getResults().getHits().get(0).field("tags"));
        assertEquals(ImmutableList.of("red"), response.getResults().getHits().get(0).field("tags"));

        response = mapper.readValue("{\"hits\":{\"hits\":[{}]}}", ElasticResponse.class);
        assertNull(response.getResults().getHits().get(0).field("tags"));
    }

