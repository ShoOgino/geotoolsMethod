    @Test
    public void testOnlySourceFields() throws Exception {
        init();
        for (final ElasticAttribute attribute : dataStore.getElasticAttributes("active") ){
            if (attribute.isStored()) {
                attribute.setUse(false);
            }
        }
        featureSource = (ElasticFeatureSource) dataStore.getFeatureSource(layerName);
        
        assertEquals(11, featureSource.getCount(Query.ALL));
        
        SimpleFeatureIterator features = featureSource.getFeatures().features();
        for (int i=0; i<11; i++) {
            assertTrue(features.hasNext());
            features.next();
        }
    }

