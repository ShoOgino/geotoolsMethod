    @Test(expected=IllegalStateException.class)
    public void testUnauthenticated() throws IOException {
        when(mockAuth.isAuthenticated()).thenReturn(false);
        proxyClient.search("status_s", "active", new ElasticRequest());
    }

