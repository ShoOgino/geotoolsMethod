    @Test
    public void testSmallScale() {
        float[][] grid = new float[1500][1500];
        final GridCoverageFactory coverageFactory = CoverageFactoryFinder.getGridCoverageFactory(GeoTools.getDefaultHints());
        final GridCoverage2D coverage = coverageFactory.create("geohashGridAgg", grid, new ReferencedEnvelope(0,1,0,1,null));
        GridCoverage2D scaled = GridCoverageUtil.scale(coverage, 1501, 1499);
        final RenderedImage renderedImage = scaled.getRenderedImage();
        assertEquals(1499, renderedImage.getWidth());
        assertEquals(1501, renderedImage.getHeight());
    }

