    @Test
    public void testDigestKey() throws IOException {
        when(statusLine.getStatusCode()).thenReturn(200);
        assertNotNull(dataStoreFactory.createDataStore(getParams("localhost", 9200, "admin", "proxy")));
        assertNotNull(dataStoreFactory.createDataStore(getParams("localhost", 9201, "admin", "proxy")));
        assertNotNull(dataStoreFactory.createDataStore(getParams("localhost", 9200, "admin1", "proxy")));
        assertNotNull(dataStoreFactory.createDataStore(getParams("localhost", 9200, "admin", "proxy1")));
        assertEquals(8, dataStoreFactory.getClients().size());
        verify(clientBuilder, times(8)).build();
    }

