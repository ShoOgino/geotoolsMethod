    @Test(expected=IOException.class)
    public void testBadStatus() throws IOException {
        when(mockStatusLine.getStatusCode()).thenReturn(404);
        when(mockRestClient.performRequest(eq("POST"), eq("/status_s/active/_search"), anyMap(), any(HttpEntity.class))).thenReturn(mockResponse);

        client.search("status_s", "active", new ElasticRequest());
    }

