    @Test
    public void testCql() throws CQLException, FilterToElasticException {
        Filter filter = ECQL.toFilter("\"object.field\"='value'");
        NestedFilterBuilder expected = FilterBuilders.nestedFilter("object", FilterBuilders.termFilter("object.field", "value"));

        builder.encode(filter);
        assertTrue(builder.createFilterCapabilities().fullySupports(filter));
        assertTrue(builder.getFilterBuilder().toString().equals(expected.toString()));
    }

