    @Test
    public void testConvertToQueryString() {
        assertEquals("BroadWay*", FilterToElastic.convertToQueryString('!', '*', '.', "BroadWay*"));
        assertEquals("broad#ay", FilterToElastic.convertToQueryString('!', '*', '.', "broad#ay"));
        assertEquals("broadway", FilterToElastic.convertToQueryString('!', '*', '.', "broadway"));

        assertEquals("broad?ay", FilterToElastic.convertToQueryString('!', '*', '.', "broad.ay"));
        assertEquals(
                "broad\\.ay", FilterToElastic.convertToQueryString('!', '*', '.', "broad!.ay"));

        assertEquals("broa'dway", FilterToElastic.convertToQueryString('!', '*', '.', "broa'dway"));
        assertEquals(
                "broa''dway", FilterToElastic.convertToQueryString('!', '*', '.', "broa''dway"));

        assertEquals("broadway?", FilterToElastic.convertToQueryString('!', '*', '.', "broadway."));
        assertEquals("broadway", FilterToElastic.convertToQueryString('!', '*', '.', "broadway!"));
        assertEquals(
                "broadway\\!", FilterToElastic.convertToQueryString('!', '*', '.', "broadway!!"));
        assertEquals(
                "broadway\\\\",
                FilterToElastic.convertToQueryString('\\', '*', '.', "broadway\\\\"));
        assertEquals(
                "broadway\\", FilterToElastic.convertToQueryString('!', '*', '.', "broadway\\"));
    }

