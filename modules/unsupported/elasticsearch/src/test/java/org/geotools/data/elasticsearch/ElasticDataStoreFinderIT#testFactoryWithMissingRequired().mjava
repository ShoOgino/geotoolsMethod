    @Test
    public void testFactoryWithMissingRequired() throws IOException {
        ElasticDataStoreFactory factory = new ElasticDataStoreFactory();
        assertTrue(factory.isAvailable());

        assertFalse(
                factory.canProcess(
                        ImmutableMap.of(
                                ElasticDataStoreFactory.HOSTNAME.key,
                                "localhost",
                                ElasticDataStoreFactory.HOSTPORT.key,
                                port)));
        assertFalse(
                factory.canProcess(
                        ImmutableMap.of(
                                ElasticDataStoreFactory.HOSTNAME.key,
                                "localhost",
                                ElasticDataStoreFactory.INDEX_NAME.key,
                                "test")));
        assertFalse(
                factory.canProcess(
                        ImmutableMap.of(ElasticDataStoreFactory.HOSTNAME.key, "localhost")));
        assertFalse(
                factory.canProcess(
                        ImmutableMap.of(
                                ElasticDataStoreFactory.HOSTPORT.key,
                                port,
                                ElasticDataStoreFactory.INDEX_NAME.key,
                                "test")));
        assertFalse(
                factory.canProcess(ImmutableMap.of(ElasticDataStoreFactory.HOSTPORT.key, port)));
        assertFalse(
                factory.canProcess(
                        ImmutableMap.of(ElasticDataStoreFactory.INDEX_NAME.key, "test")));
    }

