    private void mockVersion(String version) throws IOException {
        final Response mockResponse = mock(Response.class);
        final HttpEntity mockEntity = mock(HttpEntity.class);
        final StatusLine mockStatusLine = mock(StatusLine.class);

        when(mockResponse.getEntity()).thenReturn(mockEntity);
        when(mockResponse.getStatusLine()).thenReturn(mockStatusLine);
        when(mockStatusLine.getStatusCode()).thenReturn(200);

        String content = "{\"version\":{\"number\":\"" + version + "\"}}";
        InputStream inputStream = new ByteArrayInputStream(content.getBytes());
        when(mockEntity.getContent()).thenReturn(inputStream);
        final RequestMatcher matcher = new RequestMatcher("GET", "/", null, null);
        when(mockRestClient.performRequest(argThat(matcher))).thenReturn(mockResponse);
    }

