    @Test
    public void testLegacyGetMapping() throws IOException {
        String content =
                "{\"status_s\": {\"mappings\": {\"active\": "
                        + "{\"properties\": {\"status_s\": {\"type\": \"keyword\"}}}}}}";
        InputStream inputStream = new ByteArrayInputStream(content.getBytes());
        when(mockEntity.getContent()).thenReturn(inputStream);
        mockVersion("6.0.0");
        when(mockRestClient.performRequest(new Request("GET", "/status_s/_mapping/active")))
                .thenReturn(mockResponse);

        Map<String, Map<String, String>> expected =
                ImmutableMap.of("status_s", ImmutableMap.of("type", "keyword"));
        assertEquals(expected, client.getMapping("status_s", "active"));
    }

