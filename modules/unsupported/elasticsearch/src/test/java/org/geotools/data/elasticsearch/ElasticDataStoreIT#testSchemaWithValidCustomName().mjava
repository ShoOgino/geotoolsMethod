    @Test
    public void testSchemaWithValidCustomName() throws Exception {
        init();
        Map<String, Serializable> params = createConnectionParams();
        ElasticDataStoreFactory factory = new ElasticDataStoreFactory();
        ElasticDataStore dataStore = (ElasticDataStore) factory.createDataStore(params);
        ElasticLayerConfiguration config2 = new ElasticLayerConfiguration(config);
        config2.setLayerName("fake");
        dataStore.setLayerConfiguration(config2);
        ContentFeatureSource featureSource = dataStore.getFeatureSource("fake");
        SimpleFeatureType schema = featureSource.getSchema();
        assertTrue(schema.getAttributeCount() > 0);
        assertNotNull(schema.getDescriptor("speed_is"));
    }

