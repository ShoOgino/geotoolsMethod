    @Test
    public void testSetParams_ignoreInvalidParams() {
        String aggKey = "myagg";
        String metricKey = "mymetric";
        String valueKey = "myvalue";
        List<String> params = new ArrayList<>();
        params.add(aggKey);
        params.add(metricKey);
        params.add(valueKey);
        params.add("invalid token");
        params.add("invalid token");
        geohashGrid.setParams(params);
        assertEquals(aggKey, geohashGrid.getNestedAggKey());
        assertEquals(metricKey, geohashGrid.getMetricKey());
        assertEquals(valueKey, geohashGrid.getValueKey());
        assertEquals(NestedAggGeoHashGrid.SELECT_LARGEST, geohashGrid.getSelectionStrategy());
        assertEquals(NestedAggGeoHashGrid.RASTER_FROM_VALUE, geohashGrid.getRasterStrategy());
        assertNull(geohashGrid.getTermsMap());
    }

