    @Test
    public void testReadNumericArrayWithCsvStrategy() throws Exception {
        init();
        dataStore.setArrayEncoding(ElasticDataStore.ArrayEncoding.CSV);
        FilterFactory ff = dataStore.getFilterFactory();
        PropertyIsBetween between =
                ff.between(ff.property("speed_is"), ff.literal(160), ff.literal(300));
        SimpleFeatureCollection features = featureSource.getFeatures(between);
        assertEquals(5, features.size());
        try (SimpleFeatureIterator iterator = features.features()) {
            while (iterator.hasNext()) {
                SimpleFeature f = iterator.next();
                assertFalse(f.getAttribute("speed_is") instanceof List);
            }
        }
    }

