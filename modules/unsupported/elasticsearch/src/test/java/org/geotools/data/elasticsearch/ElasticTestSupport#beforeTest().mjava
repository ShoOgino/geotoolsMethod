    @Before
    public void beforeTest() throws Exception {
        host = elasticsearch.getContainerIpAddress();
        port = elasticsearch.getFirstMappedPort();
        indexName = "gt_integ_test_" + System.nanoTime();
        client =
                new RestElasticClient(RestClient.builder(new HttpHost(host, port, "http")).build());
        Map<String, Serializable> params = createConnectionParams();
        ElasticDataStoreFactory factory = new ElasticDataStoreFactory();
        dataStore = (ElasticDataStore) factory.createDataStore(params);
        createIndices();
    }

