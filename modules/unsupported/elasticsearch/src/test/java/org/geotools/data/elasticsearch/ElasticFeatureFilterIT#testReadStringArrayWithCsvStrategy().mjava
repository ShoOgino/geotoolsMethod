    @Test
    public void testReadStringArrayWithCsvStrategy() throws Exception {
        init();
        dataStore.setArrayEncoding(ElasticDataStore.ArrayEncoding.CSV);
        FilterFactory ff = dataStore.getFilterFactory();
        PropertyIsEqualTo filter = ff.equals(ff.property("modem_b"), ff.literal(true));

        SimpleFeatureCollection features = featureSource.getFeatures(filter);
        assertEquals(8, features.size());

        try (SimpleFeatureIterator iterator = features.features()) {
            assertTrue(iterator.hasNext());
            SimpleFeature feature = iterator.next();
            String st = (String) feature.getAttribute("standard_ss");
            // changed from "IEEE 802.11b" in SolrFeatureSourceTest
            assertTrue(
                    URLDecoder.decode(st, StandardCharsets.UTF_8.toString())
                            .startsWith("IEEE 802.11"));
        }
    }

