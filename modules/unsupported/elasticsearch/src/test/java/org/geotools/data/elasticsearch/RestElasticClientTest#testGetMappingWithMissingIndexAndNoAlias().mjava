    @Test
    public void testGetMappingWithMissingIndexAndNoAlias() throws IOException {
        String content =
                "{\"status_s3\": {\"mappings\": "
                        + "{\"properties\": {\"status_s\": {\"type\": \"keyword\"}}}}}}";
        InputStream inputStream = new ByteArrayInputStream(content.getBytes());
        when(mockEntity.getContent()).thenReturn(inputStream);
        when(mockRestClient.performRequest(new Request("GET", "/status_s/_mapping")))
                .thenReturn(mockResponse);
        when(mockRestClient.performRequest(new Request("GET", "/_alias/status_s")))
                .thenThrow(IOException.class);

        Map<String, Map<String, String>> expected =
                ImmutableMap.of("status_s", ImmutableMap.of("type", "keyword"));
        assertEquals(expected, client.getMapping("status_s", "active"));
    }

