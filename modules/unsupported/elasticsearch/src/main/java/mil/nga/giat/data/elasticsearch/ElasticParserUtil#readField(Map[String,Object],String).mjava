    /**
     * Read field from document source.
     *
     * @param source Source
     * @param name Field to extract.
     * @return List of values or empty list if not found
     */
    public List<Object> readField(Map<String, Object> source, String name) {
        final List<String> keys = Arrays.asList(name.split("\\."));
        List<Object> values = new ArrayList<>();
        if (!keys.isEmpty()) {

            final Object entry = source.get(keys.get(0));

            if (entry == null) {
                readField(source.get(name), new ArrayList<>(), values);
            } else {
                readField(entry, keys.subList(1, keys.size()), values);
            }

        }
        final List<Object> result;
        if (!values.isEmpty()) {
            result = values;
        } else {
            result = null;
        }
        return result;
    }

