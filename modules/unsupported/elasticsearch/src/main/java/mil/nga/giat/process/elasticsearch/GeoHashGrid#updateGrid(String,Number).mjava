    protected void updateGrid(String geohash, Number value) {
        if (geohash != null && value != null) {
            final LatLong latLon = GeoHash.decodeHash(geohash);
            final double lat = latLon.getLat();
            double lon = latLon.getLon() + lonOffset;
            if (isValid(lat, lon-360)) updateGrid(lat, lon-360, value);
            if (isValid(lat, lon)) updateGrid(lat, lon, value);
            while (isValid(lat, lon+=360)) {
                updateGrid(lat, lon, value);
            }
        }
    }

