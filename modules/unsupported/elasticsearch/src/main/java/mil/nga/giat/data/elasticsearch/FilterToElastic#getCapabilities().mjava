    /**
     * Describes the capabilities of this encoder.
     * 
     * <p>
     * Performs lazy creation of capabilities.
     * </p>
     * 
     * If you're extending this class, override {@link #createCapabilities()} to declare which capabilities you 
     * support.  Don't use this method.
     *
     * @return The capabilities supported by this encoder.
     */
    private synchronized Capabilities getCapabilities() {
        if (capabilities == null) {
            capabilities = createCapabilities();
        }

        return capabilities; //maybe clone?  Make immutable somehow
    }

