    /**
     * @inheritDoc
     * @see org.opengis.geometry.coordinate.Factory#createLineString(java.util.List)
     */
    public LineString createLineString(final List /*<Position>*/ points) {
        LineString result = new LineStringImpl();
        PointArray pa = result.getControlPoints();
        List list = pa;
        Iterator it = points.iterator();
        while (it.hasNext()) {
            //            Object o = it.next();
            //            if (o instanceof DirectPosition) {
            //                list.add(o);
            //            } else if (o instanceof Position) {
            //                Position p = (Position) o;
            //                DirectPosition dp = p.getDirectPosition();
            //                /*if (dp == null) {
            //                    dp = p.getIndirect().getDirectPosition();
            //                }*/
            //                list.add(dp);
            //            }
            Position position = (Position) it.next();
            DirectPosition directPosition = position.getDirectPosition();
            list.add(directPosition);
        }
        return result;
    }

