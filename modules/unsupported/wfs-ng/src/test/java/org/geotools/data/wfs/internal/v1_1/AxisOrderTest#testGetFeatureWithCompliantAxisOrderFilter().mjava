    @Test
    @SuppressWarnings("PMD.UseAssertEqualsInsteadOfAssertTrue")
    public void testGetFeatureWithCompliantAxisOrderFilter() throws Exception {
        final Filter bbox =
                ff.bbox("the_geom", 4623055.0, 815134.0, 4629904.0, 820740.0, "EPSG:3857");

        TestWFSClient wfs = createWFSClient();

        WFSDataStore ds = new WFSDataStore(wfs);
        wfs.mockGetFeatureRequest(url("axisorder/GetFeaturesByBBox.xml"), qTypeName, bbox);

        // axis order used will be NORTH / EAST
        wfs.setAxisOrderOverride(
                WFSDataStoreFactory.AXIS_ORDER_COMPLIANT, WFSDataStoreFactory.AXIS_ORDER_COMPLIANT);

        Query query = new Query(typeName, bbox);

        ds.getFeatureSource(typeName).getFeatures(query).features();

        BBOX filter = (BBOX) wfs.getRequest().getFilter();

        // filter coordinates are NOT inverted
        assertTrue(
                JTS.equals(
                        new ReferencedEnvelope(
                                4623055.0, 4629904.0, 815134.0, 820740.0, CRS.decode("EPSG:3857")),
                        filter.getBounds(),
                        1e-6));
    }

