    @Test
    @SuppressWarnings("PMD.UseAssertEqualsInsteadOfAssertTrue")
    public void testGetFeatureWithNorthEastAxisOrderFilter() throws Exception {
        TestWFSClient wfs = createWFSClient();

        wfs.mockGetFeatureRequest(
                url("axisorder/GetFeaturesByBBox.xml"),
                qTypeName,
                ff.bbox("the_geom", 815134.0, 4623055.0, 820740.0, 4629904.0, "EPSG:3857"));

        // axis order used will be NORTH / EAST
        wfs.setAxisOrderOverride(
                WFSDataStoreFactory.AXIS_ORDER_COMPLIANT,
                WFSDataStoreFactory.AXIS_ORDER_NORTH_EAST);

        WFSDataStore ds = new WFSDataStore(wfs);

        Query query =
                new Query(
                        typeName,
                        ff.bbox("the_geom", 4623055.0, 815134.0, 4629904.0, 820740.0, "EPSG:3857"));

        ds.getFeatureSource(typeName).getFeatures(query).features();

        BBOX filter = (BBOX) wfs.getRequest().getFilter();

        // filter coordinates ARE inverted (EPSG:3857 is EAST/NORTH, so if we ask for NORTH/EAST,
        // the filter
        // should be inverted)
        assertTrue(
                JTS.equals(
                        new ReferencedEnvelope(
                                815134.0, 820740.0, 4623055.0, 4629904.0, CRS.decode("EPSG:3857")),
                        filter.getBounds(),
                        0));
    }

