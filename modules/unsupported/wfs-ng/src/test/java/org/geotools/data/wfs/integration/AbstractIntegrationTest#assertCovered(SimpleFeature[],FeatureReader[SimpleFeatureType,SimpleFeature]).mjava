    void assertCovered(
            SimpleFeature[] features, FeatureReader<SimpleFeatureType, SimpleFeature> reader)
            throws Exception {
        int count = 0;

        while (reader.hasNext()) {
            assertTrue(containsFeature(features, reader.next()));
            count++;
        }

        assertEquals(features.length, count);
    }

