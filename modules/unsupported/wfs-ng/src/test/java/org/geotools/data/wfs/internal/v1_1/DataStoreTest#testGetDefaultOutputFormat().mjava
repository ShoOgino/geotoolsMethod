    @Test
    public void testGetDefaultOutputFormat() throws IOException, ServiceException {
        TestWFSClient wfs = createWFSClient();
        wfs.setOutputformatOverride("text/xml; subtype=gml/2.1.2");
        wfs.mockGetFeatureRequest(url("CubeWerx_nsdi/1.1.0/gml212.xml"), qTypeName, Filter.INCLUDE);

        WFSDataStore ds = new WFSDataStore(wfs);

        Query query = new Query(CUBEWERX_GOVUNITCE.FEATURETYPENAME);

        try (FeatureReader<SimpleFeatureType, SimpleFeature> featureReader =
                ds.getFeatureReader(query, Transaction.AUTO_COMMIT)) {
            while (featureReader.hasNext()) {
                SimpleFeature feature = featureReader.next();
                Object geometry = feature.getDefaultGeometry();
                assertNotNull(geometry);
                assertTrue(geometry instanceof Polygon);
            }
        }
        GetFeatureRequest request = wfs.getRequest();
        assertEquals("text/xml; subtype=gml/2.1.2", request.getOutputFormat());
    }

