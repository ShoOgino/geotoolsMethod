    @Test
    public void testGetFeatureReader() throws IOException, ServiceException {
        TestWFSClient wfs = createWFSClient();
        wfs.mockGetFeatureRequest(CUBEWERX_GOVUNITCE.DATA, qTypeName, Filter.INCLUDE);

        WFSDataStore ds = new WFSDataStore(wfs);
        Query query = new Query(CUBEWERX_GOVUNITCE.FEATURETYPENAME);
        try (FeatureReader<SimpleFeatureType, SimpleFeature> featureReader =
                ds.getFeatureReader(query, Transaction.AUTO_COMMIT)) {
            assertNotNull(featureReader);
            // test data file contains three features...
            assertTrue(featureReader.hasNext());
            assertNotNull(featureReader.next());

            assertTrue(featureReader.hasNext());
            assertNotNull(featureReader.next());

            assertTrue(featureReader.hasNext());
            assertNotNull(featureReader.next());

            assertFalse(featureReader.hasNext());
        }
    }

