    @Test
    public void testGetFeaturesWriterModify() throws Exception {
        FeatureWriter<SimpleFeatureType, SimpleFeature> writer;
        writer = data.getFeatureWriter(getRoadTypeName(), Transaction.AUTO_COMMIT);

        SimpleFeature feature;

        while (writer.hasNext()) {
            feature = writer.next();

            if (feature.getID().equals(roadFeatures[0].getID())) {
                feature.setAttribute(getNameAttribute(), "changed");
                writer.write();
            }
        }

        feature = null;

        FeatureReader<SimpleFeatureType, SimpleFeature> reader = data.getFeatureReader(new Query(
                getRoadTypeName(), rd1Filter), Transaction.AUTO_COMMIT);

        if (reader.hasNext()) {
            feature = reader.next();
        }

        // feature = (SimpleFeature) data.features("road").get("road.rd1");
        assertEquals("changed", feature.getAttribute(getNameAttribute()));
    }

