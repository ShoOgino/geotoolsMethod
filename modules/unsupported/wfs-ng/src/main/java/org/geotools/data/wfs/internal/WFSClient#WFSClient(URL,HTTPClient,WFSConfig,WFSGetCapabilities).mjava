    public WFSClient(
            URL capabilitiesURL,
            HTTPClient httpClient,
            WFSConfig config,
            WFSGetCapabilities capabilities)
            throws IOException, ServiceException {

        super(
                capabilitiesURL,
                httpClient,
                capabilities,
                Collections.singletonMap(
                        XMLHandlerHints.ENTITY_RESOLVER, config.getEntityResolver()));
        this.config = config;
        super.specification = determineCorrectStrategy();
        ((WFSStrategy) specification).setCapabilities(super.capabilities);
    }

