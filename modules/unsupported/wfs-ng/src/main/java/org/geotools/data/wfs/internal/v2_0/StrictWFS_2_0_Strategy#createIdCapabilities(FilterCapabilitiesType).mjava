    private IdCapabilities createIdCapabilities(FilterCapabilitiesType filterCapabilities) {
        IdCapabilitiesImpl idCapabilities = new IdCapabilitiesImpl();

        if (filterCapabilities.getIdCapabilities() != null) {
            for (ResourceIdentifierType rit : filterCapabilities.getIdCapabilities().getResourceIdentifier()) {
                QName name = rit.getName();
                if (FES.ResourceId.equals(name)) {
                    idCapabilities.setFID(true);
                } else if (name.getNamespaceURI().startsWith("http://www.opengis.net/cat/csw/") &&
                        name.getLocalPart().equals("RecordId")) {
                    // FES 2.0 is very unclear about this. See 09-026r1 FES 2.0 7.14.3
                    idCapabilities.setEid(true);
                }
            }
        }
        return idCapabilities;
    }

