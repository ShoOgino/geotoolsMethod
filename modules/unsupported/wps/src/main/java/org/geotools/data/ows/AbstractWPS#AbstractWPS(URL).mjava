    /**
     * Set up the specifications used and retrieve the Capabilities document
     * given by serverURL.
     * 
     * @param serverURL a URL that points to the capabilities document of a server
     * @throws IOException if there is an error communicating with the server
     * @throws ServiceException if the server responds with an error
     */
    public AbstractWPS( final URL serverURL ) throws IOException, ServiceException {
    	if (serverURL == null) {
			throw new NullPointerException("ServerURL cannot be null");
		}
    	
    	this.serverURL = serverURL;

        setupSpecifications();
        
        capabilities = negotiateVersion();
        if (capabilities == null) {
        	throw new ServiceException("Unable to retrieve or parse Capabilities document.");
        }
    }

