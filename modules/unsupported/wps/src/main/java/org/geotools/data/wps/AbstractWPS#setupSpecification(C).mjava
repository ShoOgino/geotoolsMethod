    /** @param capabilities */
    private void setupSpecification(final C capabilities) {
        for (Specification spec : specs) {
            if (spec.getVersion().equals(capabilities.getVersion())) {
                specification = spec;

                break;
            }
        }

        if (specification == null) {
            specification = specs[specs.length - 1];
            LOGGER.warning(
                    "Unable to choose a specification based on cached capabilities. "
                            + "Arbitrarily choosing spec '"
                            + specification.getVersion()
                            + "'.");
        }
    }

