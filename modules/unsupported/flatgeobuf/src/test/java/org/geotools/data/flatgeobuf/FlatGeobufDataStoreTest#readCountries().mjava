    @Test
    public void readCountries() throws IOException {
        URL url =
                getClass()
                        .getClassLoader()
                        .getResource("org/geotools/data/flatgeobuf/countries.fgb");
        Map<String, Serializable> params = new HashMap<>();
        params.put("url", url);
        DataStore store = DataStoreFinder.getDataStore(params);
        SimpleFeatureSource featureSource = store.getFeatureSource("countries");
        SimpleFeatureCollection featureCollection = featureSource.getFeatures();
        try (SimpleFeatureIterator it = featureCollection.features()) {
            int count = 0;
            while (it.hasNext()) {
                it.next();
                count++;
            }
            assertEquals(179, count);
        }
    }

