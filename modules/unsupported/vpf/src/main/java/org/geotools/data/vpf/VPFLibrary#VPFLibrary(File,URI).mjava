    /**
     * Constructor which defaults the containing database to null and looks up the first
     * (and presumably only) entry in the library 
     * attribute table
     * @param dir the containing directory
     * @param namespace the namespace to create features with.
     * @throws IOException
     * @throws SchemaException For problems making one of the feature classes as a FeatureType.
     */
    public VPFLibrary(File dir, URI namespace) throws IOException, SchemaException {
        // read libraries info
        String vpfTableName = new File(dir, LIBRARY_HEADER_TABLE).toString();
        VPFFile lhtFile = VPFFileFactory.getInstance().getFile(vpfTableName);
        lhtFile.reset();
	this.namespace = namespace;
        try {
            lhtFile.readFeature(); // check for errors
        } catch (IllegalAttributeException exc) {
            exc.printStackTrace();
            throw new IOException("Illegal values in library attribute table");
        }
        xmin = -180;
        ymin = -90;
        xmax = 180;
        ymax = 90;
        directory = dir;
        // What about looking up the LAT from the previous directory? Or, can you get what you need from the LHT?
        String directoryName = directory.getPath();
        libraryName = directoryName.substring(directoryName.lastIndexOf(File.separator) + 1);
        setCoverages();
    }

