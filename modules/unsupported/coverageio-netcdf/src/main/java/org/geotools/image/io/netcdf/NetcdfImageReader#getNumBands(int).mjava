    /**
     * Returns the number of bands available for the specified image.
     *
     * @param  imageIndex  The image index.
     * @return The number of bands available.
     * @throws IOException if an error occurs reading the information from the input source.
     */
    @Override
    public int getNumBands(final int imageIndex) throws IOException {
        prepareVariable(imageIndex);
        final int rank = variable.getRank();
        final int bandDimension = rank - Z_DIMENSION;
        if (bandDimension >= 0 && bandDimension < rank) {
            return variable.getDimension(bandDimension).getLength();
        }
        return super.getNumBands(imageIndex);
    }

