    /**
     * Creates metadata from the specified file. This constructor is typically invoked
     * for creating {@linkplain NetcdfReader#getImageMetadata image metadata}. Note that
     * {@link ucar.nc2.dataset.CoordSysBuilder#addCoordinateSystems} should have been invoked
     * (if needed) before this constructor.
     */
    public NetcdfMetadata(final ImageReader reader, final VariableDS variable) {
        super(reader);
        final List<CoordinateSystem> systems = variable.getCoordinateSystems();
        if (!systems.isEmpty()) {
            addCoordinateSystem(systems.get(0));
        }
        setSampleType(GeographicMetadataFormat.PACKED);
        addSampleDimension(variable);
    }

