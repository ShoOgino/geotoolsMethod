    /**
     * Returns the configuration associated with the provided apache Solr index name. If not
     * configuration is available a new one will be created and associated with the index.
     */
    private IndexConfig getIndexConfig(String indexName) {
        IndexConfig indexConfig = indexesConfig.get(indexName);
        if (indexConfig == null) {
            // no configuration available, create a new one
            indexConfig = new IndexConfig(indexName);
            IndexConfig existing = indexesConfig.putIfAbsent(indexName, indexConfig);
            if (existing == null) {
                indexesNames.add(indexName);
            } else {
                indexConfig = existing;
            }
        }
        return indexConfig;
    }

