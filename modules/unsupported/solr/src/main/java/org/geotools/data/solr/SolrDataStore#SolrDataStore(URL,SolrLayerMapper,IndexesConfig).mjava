    public SolrDataStore(URL url, SolrLayerMapper layerMapper, IndexesConfig indexesConfig) {
        this(url, layerMapper);
        // build the feature types based on the provided indexes configuration
        indexesConfig
                .getIndexesNames()
                .forEach(
                        indexName -> {
                            // get from Apache Solr the index schema and retrieve its attributes
                            List<SolrAttribute> solrAttributes = getSolrAttributes(indexName);
                            // build the feature type using the index configuration
                            SimpleFeatureType defaultFeatureType =
                                    indexesConfig.buildFeatureType(indexName, solrAttributes);
                            defaultFeatureTypes.put(indexName, defaultFeatureType);
                        });
    }

