    /*
     * Writes the SOLR query for binary comparison operator : EQUAL, NOT EQUAL
     *
     * @param filter binary comparison operator to encode
     */
    private Object buildComparison(BinaryComparisonOperator filter, Object extraData) {
        StringWriter output = asStringWriter(extraData);
        if (filter instanceof PropertyIsNotEqualTo) {
            output.append("-");
        }
        Expression[] expr =
                binaryFilterVisitorNormalizer(filter.getExpression1(), filter.getExpression2());
        ExpressionToSolr visitor = new ExpressionToSolr();
        expr[0].accept(visitor, output);
        output.append(":");
        expr[1].accept(visitor, output);
        return output;
    }

