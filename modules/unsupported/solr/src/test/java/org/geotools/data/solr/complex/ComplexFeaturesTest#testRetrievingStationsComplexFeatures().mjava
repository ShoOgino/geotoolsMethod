    /**
     * Tests retrieving all complex feature from App-Schema store that uses Apache Solr as a data
     * store.
     */
    public void testRetrievingStationsComplexFeatures() throws Exception {
        // gets the complex features source and read all the features
        FeatureSource<FeatureType, Feature> source =
                appSchemaDataStore.getFeatureSource(MAPPED_TYPE_NAME);
        List<Feature> features = iteratorToList(source.getFeatures().features());
        // check that we got the expected number of features
        assertEquals(2, features.size());
        // check that we have the expected features
        GeometryFactory geometryFactory = new GeometryFactory();
        checkFeatureExists(
                features, "7", "Bologna", geometryFactory.createPoint(new Coordinate(11.34, 44.5)));
        checkFeatureExists(
                features,
                "13",
                "Alessandria",
                geometryFactory.createPoint(new Coordinate(8.63, 44.92)));
    }

