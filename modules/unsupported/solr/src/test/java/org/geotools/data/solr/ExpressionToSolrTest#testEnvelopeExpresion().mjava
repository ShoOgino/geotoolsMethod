    @Test
    public void testEnvelopeExpresion() throws ParseException {
        final ExpressionToSolr expressionToSolr = new ExpressionToSolr();
        expressionToSolr.setSpatialStrategy(SolrSpatialStrategy.DEFAULT);
        final Envelope env = new Envelope(1.0d, 2.0d, 3.0d, 4.0d);
        final Literal literal = ff.literal(env);
        Object result = expressionToSolr.visit(literal, null);
        Assert.assertNotNull(result);
        // decode Polygon WKT and compare with source Envelope
        final WKTReader reader = new WKTReader();
        Geometry geometry = reader.read(result.toString());
        Assert.assertTrue(geometry instanceof Polygon);
        Assert.assertEquals(env, geometry.getEnvelopeInternal());
    }

