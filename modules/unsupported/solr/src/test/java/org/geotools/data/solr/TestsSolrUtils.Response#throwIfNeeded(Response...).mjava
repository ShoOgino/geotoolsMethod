        /**
         * Merge all the errors messages from the provided responses containers and throw a single
         * exception with all of them.
         *
         * <p>If no messages errors can be found no exception will be throw.
         *
         * @param responses responses containers
         */
        private static void throwIfNeeded(Response... responses) {
            // merge all errors messages in a single string
            String errors =
                    Arrays.stream(responses)
                            .filter(Response::hasErrors)
                            .map(Response::getMessage)
                            .collect(Collectors.joining(", "));
            if (!errors.isEmpty()) {
                // at leats one message errors exists, let's throw an exception
                throw new RuntimeException(
                        String.format(
                                "Something bad happen when executing Solr request(s) '%s'.",
                                errors));
            }
        }

