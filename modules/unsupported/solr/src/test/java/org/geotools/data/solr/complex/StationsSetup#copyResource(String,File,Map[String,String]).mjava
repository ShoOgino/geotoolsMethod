    /**
     * Helper method that coies a resource content to provided destination, if a context is provided
     * placeholders in the resource content will be resolved against it.
     */
    private static void copyResource(
            String resource, File destination, Map<String, String> context) {
        try (InputStream input = StationsSetup.class.getResourceAsStream(resource);
                OutputStream output = new FileOutputStream(destination)) {
            if (context.isEmpty()) {
                // no context provided write the resource content as is
                IOUtils.copy(input, output);
            } else {
                // we have context, substitute placeholders with the provided context
                String content = IOUtils.toString(input, "UTF-8");
                content = replace(content, context);
                IOUtils.write(content, output, "UTF-8");
            }
        } catch (Exception exception) {
            throw new RuntimeException("Error copying resource to destination.", exception);
        }
    }

