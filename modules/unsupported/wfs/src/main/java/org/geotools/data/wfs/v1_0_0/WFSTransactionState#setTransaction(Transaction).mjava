    /**
     * @see org.geotools.data.Transaction.State#setTransaction(org.geotools.data.Transaction)
     */
    public void setTransaction(Transaction transaction) {
        if (transaction != null) {
            synchronized (actionMap) {
                this.transaction = transaction;
                synchronized (fids) {
                    fids.clear();
                }
                actionMap.clear();
            }
        }
    }

