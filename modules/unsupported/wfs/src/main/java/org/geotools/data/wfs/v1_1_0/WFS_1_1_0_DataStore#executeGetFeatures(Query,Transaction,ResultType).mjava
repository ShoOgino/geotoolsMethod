    private WFSResponse executeGetFeatures(final Query query, final Transaction transaction,
            final ResultType resultType) throws IOException {
        // TODO: handle output format preferences
        final String outputFormat = wfs.getDefaultOutputFormat(GET_FEATURE);

        String srsName = adaptQueryForSupportedCrs((Query) query);

        GetFeature request = new GetFeatureQueryAdapter(query, outputFormat, srsName, resultType);

        final WFSResponse response = sendGetFeatures(request);
        return response;
    }

