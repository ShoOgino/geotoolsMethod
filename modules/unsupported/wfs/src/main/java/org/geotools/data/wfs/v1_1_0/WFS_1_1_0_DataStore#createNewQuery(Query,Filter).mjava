    private Query createNewQuery(Query model, Filter filter) {
        Query query = new Query(model);
        query.setFilter(filter);
        query.setMaxFeatures(getMaxFeatures(query));
        return query;
    }

