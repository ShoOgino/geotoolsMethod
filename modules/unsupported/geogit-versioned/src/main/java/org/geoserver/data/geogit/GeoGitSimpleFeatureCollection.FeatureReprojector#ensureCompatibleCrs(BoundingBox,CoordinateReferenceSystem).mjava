        public BoundingBox ensureCompatibleCrs(final BoundingBox featureBounds,
                final CoordinateReferenceSystem targetCrs)
                throws TransformException {

            final CoordinateReferenceSystem featureCrs = featureBounds
                    .getCoordinateReferenceSystem();
            if (CRS.equalsIgnoreMetadata(targetCrs, featureCrs)) {
                return featureBounds;
            }

            return featureBounds.toBounds(targetCrs);
        }

