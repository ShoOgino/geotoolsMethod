    /**
     * @see org.geotools.feature.FeatureCollection#iterator()
     */
    @Override
    public Iterator<SimpleFeature> iterator() {
        final FeatureRefIterator refs = new FeatureRefIterator(typeTree, filter);
        Iterator<SimpleFeature> features = new GeoGitFeatureIterator(refs,
                type, filter, odb);
        if (maxFeatures != null) {
            features = Iterators.limit(features, maxFeatures.intValue());
        }
        return features;
    }

