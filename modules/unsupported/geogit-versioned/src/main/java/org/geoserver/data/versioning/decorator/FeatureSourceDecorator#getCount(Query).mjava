    /**
     * @see org.geotools.data.FeatureSource#getCount(org.geotools.data.Query)
     */
    @Override
    public int getCount(Query query) throws IOException {
        if (!isVersioned() || null == getVersioningFilter(query.getFilter())) {
            return unversioned.getCount(query);
        }
        return getFeatures(query).size();
    }

