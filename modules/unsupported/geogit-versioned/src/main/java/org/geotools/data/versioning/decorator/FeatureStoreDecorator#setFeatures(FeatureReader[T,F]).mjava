    /**
     * @see org.geotools.data.FeatureStore#setFeatures(org.geotools.data.FeatureReader)
     */
    @Override
    public void setFeatures(FeatureReader<T, F> reader) throws IOException {
        final FeatureStore<T, F> unversioned = getUnversionedStore();
        unversioned.setFeatures(reader);
        if (isVersioned()) {
            checkTransaction();
            throw new UnsupportedOperationException("do versioning!");
        }
    }

