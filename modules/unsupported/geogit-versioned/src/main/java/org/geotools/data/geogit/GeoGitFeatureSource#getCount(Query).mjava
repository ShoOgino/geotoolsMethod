    @Override
    public int getCount(Query query) throws IOException {
        // TODO optimize, please
        SimpleFeatureCollection features = getFeatures(query);
        int size = features.size();
        return size;
    }

