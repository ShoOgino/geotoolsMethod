    @SuppressWarnings("unchecked")
    public static <F extends Feature> F wrap(final F f, final String versionId) {
        if (versionId == null) {
            return f;
        }
        if (f instanceof SimpleFeature) {
            return (F) new SimpleFeatureWrapper((SimpleFeature) f, versionId);
        }
        throw new UnsupportedOperationException(
                "Non simple Features are not yet supported: " + f);
    }

