    protected Map<String, SimpleFeature> features(final String nsUri,
            final String typeName) throws IOException {
        synchronized (memory) {
            for (Name name : memory.keySet()) {
                if (nsUri == null && name.getLocalPart().equals(typeName)) {
                    return features(name);
                } else if (name.getNamespaceURI().equals(nsUri)
                        && name.getLocalPart().equals(typeName)) {
                    return features(name);
                }
            }
        }

        throw new IOException("Type name " + typeName + " not found");
    }

