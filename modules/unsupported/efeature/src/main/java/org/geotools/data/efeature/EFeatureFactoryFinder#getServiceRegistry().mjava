    /**
     * Get the service registry instance.
     *
     * <p>The registry is lazily created the first time this method is invoked.
     */
    private static FactoryRegistry getServiceRegistry() {
        assert Thread.holdsLock(EFeatureFactoryFinder.class);
        if (registry == null) {
            registry =
                    new FactoryCreator(
                            Arrays.asList(
                                    new Class<?>[] {
                                        BufferedFactory.class, EFeatureContextFactory.class
                                    }));
        }
        return registry;
    }

