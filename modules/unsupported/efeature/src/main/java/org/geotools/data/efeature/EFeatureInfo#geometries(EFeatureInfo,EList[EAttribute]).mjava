    protected static Map<String, EFeatureGeometryInfo> geometries(
            EFeatureInfo eFeatureInfo, EList<EAttribute> eAttributes) {
        //
        // Prepare
        //
        String eDefault = null;
        String srid = eFeatureInfo.srid;
        CoordinateReferenceSystem crs = eFeatureInfo.crs;
        Map<String, EFeatureGeometryInfo> eGeometryMap = EFeatureUtils.newMap(eAttributes.size());
        //
        // Inspect EMF attributes, adding all with geometry values.
        //
        for (EAttribute it : eAttributes) {
            //
            // Contains geometry data?
            //
            if (Geometry.class.isAssignableFrom(it.getEAttributeType().getInstanceClass())) {
                //
                // Initialize default geometry name?
                //
                String eName = it.getName();
                if (eDefault == null) {
                    eDefault = eName;
                }
                //
                // Create structure instance
                //
                EFeatureGeometryInfo eGeometryInfo =
                        EFeatureGeometryInfo.create(
                                eFeatureInfo, eName.equals(eDefault), srid, crs, it);
                //
                // Add to cache
                //
                eGeometryMap.put(eName, eGeometryInfo);
            }
        }
        return eGeometryMap;
    }

