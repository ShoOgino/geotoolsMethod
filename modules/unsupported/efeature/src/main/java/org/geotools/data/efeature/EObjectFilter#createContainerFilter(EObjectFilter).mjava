    /**
     * Creates a filter matching contents of given object.
     * <p>
     * 
     * @param eGeometryType the filter to use on containers
     * @param all - if <code>true</code>, all contents must be matched by the filter
     * @param tree - if <code>true</code>, {@link EObject#eAllContents()} is used instead of
     *        {@link EObject#eContents()}
     * 
     * @return the filter
     * 
     */
    public static EObjectFilter createContainerFilter(final EObjectFilter filter) {
        return new EObjectFilter() {
            @Override
            public boolean matches(Object object) {
                if (object instanceof EObject) {
                    EObject eObj = (EObject) object;
                    return filter.matches(eObj.eContainer());
                }
                return false;
            }
        };
    }

