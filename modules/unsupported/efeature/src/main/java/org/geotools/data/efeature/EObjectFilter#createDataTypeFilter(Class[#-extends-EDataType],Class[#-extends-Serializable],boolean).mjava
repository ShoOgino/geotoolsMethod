    /**
     * Creates a filter matching given instance of the specified {@link EClassifier} type instance
     * having given data type instance This variant is useful for notifiers that are modelled via
     * Ecore.
     *
     * @param type the {@link EClassifier} type
     * @return the filter
     */
    public static EObjectFilter createDataTypeFilter(
            final Class<? extends EDataType> cls,
            final Class<? extends Serializable> type,
            final boolean equals) {
        return new EObjectFilter() {
            @Override
            public boolean matches(Object object) {
                if (object instanceof EStructuralFeature) {
                    final EClassifier eType = ((EStructuralFeature) object).getEType();
                    if (cls.isInstance(eType)) {
                        Class<?> instClass = eType.getInstanceClass();
                        return (equals ? instClass == type : instClass.isAssignableFrom(type));
                    }
                }
                return false;
            }
        };
    }

