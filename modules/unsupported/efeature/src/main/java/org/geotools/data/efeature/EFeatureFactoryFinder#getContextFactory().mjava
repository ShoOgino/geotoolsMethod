    /**
     * Get cached {@link EFeatureContextFactory} instance.
     */
    public static EFeatureContextFactory getContextFactory()
            throws FactoryRegistryException
    {
        // Not set or is garbage collected?
        //
        if(eFeatureContextFactory==null || eFeatureContextFactory.get()==null) {
            
            // Do the lousy slow system scan
            //
            synchronized (EFeatureFactoryFinder.class) {
                
                // Query all factories
                //
                Iterator<BufferedFactory> factories = 
                       getServiceRegistry().getServiceProviders(
                               BufferedFactory.class, null, null);
                
                if(factories.hasNext())
                {
                    EFeatureContextFactory it = (EFeatureContextFactory)factories.next();
                    eFeatureContextFactory = new WeakReference<EFeatureContextFactory>(it);
                }
            }            
        }
        // Verify that instance was found 
        //
        if(eFeatureContextFactory==null || eFeatureContextFactory.get()==null)
        {
            throw new FactoryRegistryException("EFeatureContextFactory instance not found. ");
        }
        return eFeatureContextFactory.get();
    }            

