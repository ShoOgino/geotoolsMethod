    /**
     * Get current list of {@link EFeatureProperty} instances.
     * <p>
     * This method implements lazy creation of {@link EFeatureProperty} instances.
     * </p>
     * 
     * @return list of {@link EFeatureProperty} instances.
     */
    protected Map<String, ? extends EFeatureProperty<?, ? extends Property>> getPropertyMap() {
        if (ePropertyMap == null) {
            // Get all attribute structures
            //
            Map<String, EFeatureAttributeInfo> eMap = getStructure().eGetAttributeInfoMap(true);

            // Initialize map
            //
            ePropertyMap = new HashMap<String, EFeatureProperty<?, ? extends Property>>(eMap.size());
            //
            // Loop over all attributes
            //
            for (EFeatureAttributeInfo it : eMap.values()) {
                EAttribute eAttribute = it.eAttribute();
                Class<?> type = eAttribute.getEAttributeType().getInstanceClass();
                String eName = it.eName();
                ePropertyMap.put(eName, newProperty(it.eName(), type));
            }
        }
        return ePropertyMap;
    }

