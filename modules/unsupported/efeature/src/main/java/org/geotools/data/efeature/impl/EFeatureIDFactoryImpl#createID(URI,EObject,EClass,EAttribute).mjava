    /**
     * Create ID from given information.
     */
    protected String createID(URI eURI, EObject eObject, EClass eClass, EAttribute eID) 
        throws IllegalArgumentException {
        //
        // Initialize unique id to "unknown"
        //
        Long uID = 0L;
        //
        // Try to get unique ID as string
        //
        String sID = getID(eObject);
        //
        // Get current ID
        //
        if( !(sID==null || sID.length()==0) ) {
            //
            // Remove prefix
            //
            sID = sID.replace(ePrefix, "");
            //
            // Convert to long
            //
            uID = Long.decode(sID);
        }
        //
        // No unique ID "unknown"?
        //
        if(uID==0L) {
            //
            // Get map of next IDs
            //
            Map<EAttribute,Long> eNextIDs = eNextIDMap.get(eURI);
            //
            // Start to create IDs for new resource?
            // 
            if(eNextIDs==null) {
                eNextIDs = new WeakHashMap<EAttribute, Long>();
                eNextIDMap.put(eURI, eNextIDs);
            }
            //
            // Get current ID for given class
            //
            uID = eNextIDs.get(eID);
            if(uID==null) {
                uID = 1L;
            }
            //
            // Validate against cached IDs
            //
            uID = uniqueID(eURI, eObject, uID);
            //
            // Add next unique ID to map
            //
            eNextIDs.put(eID, uID+1);
        } 
        //
        // Add to unused IDs map
        //
        return cacheID(eURI,eObject,uID);
        //return ePrefix + uID;
    }    

