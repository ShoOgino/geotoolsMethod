    private static <T> T toType(Object object, Class<T> type, String message) {
        if (!type.isInstance(object)) {
            throw new IllegalArgumentException(message);
        }
        return type.cast(object);
    }

