    public static <V extends Geometry> Map<String, EFeatureGeometry<V>> toMap(
            EFeatureInfo eFeatureInfo, EObject eObject, Collection<EAttribute> eAttributes,
            Class<V> type) {
        Map<String, EFeatureGeometry<V>> map = new HashMap<String, EFeatureGeometry<V>>(
                eAttributes.size());
        for (EAttribute it : eAttributes) {
            String eName = it.getName();
            EFeatureGeometry<V> d = EFeatureGeometryDelegate.create(eObject, it.getName(), type,
                    eFeatureInfo);
            if (d != null) {
                map.put(eName, d);
            }
        }
        return map;

    }

