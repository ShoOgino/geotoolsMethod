    protected static void delete(File file) {
        if (!file.exists()) {
            return;
        }

        try {
            if (!file.delete()) {
                throw new IllegalStateException("File " + file + " was not deleted");
            }
        } catch (Exception e) {
            fail("Failed to clean up test file: " + e.getLocalizedMessage()); // $NON-NLS-1$
        }
    }

