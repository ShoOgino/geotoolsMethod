    /**
     * Drags the map.
     * @param fromXScreen Original x coordinate in screen coordinates
     * @param fromYScreen Original y coordinate in screen coordinates
     * @param toXScreen Target x coordinate in screen coordinates
     * @param toYScreen Target y coordinate in screen coordinates
     */
    private void drag(double fromXScreen, double fromYScreen, double toXScreen, double toYScreen) {
        mapCanvas.setTranslateX(0);
        mapCanvas.setTranslateY(0);

        ReferencedEnvelope bBox = this.mapContent.getViewport().getBounds();

        Point2D.Double minXY = transformScreenToWorld(new Point2D.Double(0 - toXScreen,
            0 - toYScreen));
        Point2D.Double maxXY = transformScreenToWorld(new Point2D.Double(dimensionX - toXScreen,
            dimensionY - toYScreen));

        ReferencedEnvelope newBounds = new ReferencedEnvelope(
            minXY.getX(), maxXY.getX(),
            minXY.getY(), maxXY.getY(), this.crs);
        //TODO: Prevent exceeding max coordinate bounds
        if(!maxBBox.contains(newBounds, true)){
            newBounds = bBox;
        }
        setExtent(newBounds);
    }

