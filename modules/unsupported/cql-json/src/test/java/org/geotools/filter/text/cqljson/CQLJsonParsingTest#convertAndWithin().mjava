    @Test
    public void convertAndWithin() throws JsonProcessingException, CQLException {
        String taxes =
                "{"
                        + "             \"and\": ["
                        + "                {"
                        + "                   \"gt\": {"
                        + "                      \"property\": \"floors\","
                        + "                      \"value\": 5"
                        + "                   }"
                        + "                },"
                        + "                {"
                        + "                   \"within\": {"
                        + "                      \"property\": \"geometry\","
                        + "                      \"value\": { \"bbox\": [33.8,-118,34,-117.9] }"
                        + "                   }"
                        + "                }"
                        + "             ]"
                        + "          }";
        CQLJsonCompiler cqlJsonCompiler = new CQLJsonCompiler(taxes, new FilterFactoryImpl());
        cqlJsonCompiler.compileFilter();
        Filter filter = cqlJsonCompiler.getFilter();
        Assert.assertEquals(
                true,
                ECQL.toCQL(filter)
                        .startsWith(
                                "floors > 5 AND WITHIN(geometry, 'org.geotools.geometry.jts.spatialschema.geometry.primitive.SurfaceImpl"));
    }

