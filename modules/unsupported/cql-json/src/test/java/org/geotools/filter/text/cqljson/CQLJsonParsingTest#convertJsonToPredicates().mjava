    @Test
    public void convertJsonToPredicates() throws JsonProcessingException, CQLException {
        String swimmingpool =
                "{"
                        + "             \"and\": ["
                        + "                {"
                        + "                   \"eq\": {"
                        + "                      \"property\": \"swimming_pool\","
                        + "                      \"value\": true"
                        + "                   }"
                        + "                },"
                        + "                {"
                        + "                   \"or\": ["
                        + "                      {"
                        + "                         \"gt\": {"
                        + "                            \"property\": \"floor\","
                        + "                            \"value\": 5"
                        + "                         }"
                        + "                      },"
                        + "                      {"
                        + "                         \"like\": {"
                        + "                            \"property\": \"material\","
                        + "                            \"value\": \"brick%\""
                        + "                         }"
                        + "                      },"
                        + "                      {"
                        + "                         \"like\": {"
                        + "                            \"property\": \"material\","
                        + "                            \"value\": \"%brick\""
                        + "                         }"
                        + "                      } "
                        + "                   ]"
                        + "                }"
                        + "             ]"
                        + "          }";

        CQLJsonCompiler cqlJsonCompiler =
                new CQLJsonCompiler(swimmingpool, new FilterFactoryImpl());
        cqlJsonCompiler.compileFilter();
        Filter filter = cqlJsonCompiler.getFilter();
        Assert.assertEquals(
                "swimming_pool = true AND (floor > 5 OR material ILIKE 'brick%' OR material ILIKE '%brick')",
                ECQL.toCQL(filter));
    }

