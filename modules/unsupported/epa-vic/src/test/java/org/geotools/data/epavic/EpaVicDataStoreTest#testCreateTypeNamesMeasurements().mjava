  @Test
  public void testCreateTypeNamesMeasurements() throws Exception {

    this.clientMock = PowerMockito.mock(HttpClient.class);
    PowerMockito.whenNew(HttpClient.class).withNoArguments()
        .thenReturn(clientMock).thenReturn(clientMock);
    this.getMock = PowerMockito.mock(GetMethod.class);
    PowerMockito.whenNew(GetMethod.class).withNoArguments().thenReturn(getMock)
        .thenReturn(getMock);
    when(clientMock.executeMethod(getMock)).thenReturn(HttpStatus.SC_OK)
        .thenReturn(HttpStatus.SC_OK);
    when(getMock.getResponseBodyAsStream())
        .thenReturn(EpaVicDataStoreFactoryTest
            .readJSONAsStream("test-data/9measurements.json"));

    this.dataStore = (EpaVicDatastore) EpaVicDataStoreFactoryTest
        .createDefaultOpenDataTestDataStore();
    List<Name> names = this.dataStore.createTypeNames();

    assertEquals(1, names.size());
    assertEquals(TYPENAME1, names.get(0).getLocalPart());
    assertEquals(EpaVicDataStoreFactoryTest.NAMESPACE,
        names.get(0).getNamespaceURI());

    assertNotNull(this.dataStore.getEntry(
        new NameImpl(EpaVicDataStoreFactoryTest.NAMESPACE, TYPENAME1)));
  }

