  public EpaVicFeatureReader(SimpleFeatureType featureTypeIn,
      Queue<InputStream> siteStreams, Sites sites, Monitors monitors)
      throws IOException {
    this.featureType = featureTypeIn;
    this.siteStreams = siteStreams;
    if (sites != null) {
      this.sites = sites.getSites().stream().collect(
          Collectors.toMap(Site::getSiteId, item -> item, (u, v) -> u));
    }
    if (monitors != null) {
      this.monitors = monitors.getMonitors().stream().collect(
          Collectors.toMap(Monitor::getMonitorId, item -> item, (u, v) -> u));
    }
    this.featIndex = 0;

    if (siteStreams.isEmpty()) {
      throw new IllegalArgumentException("Reader requires an input stream");
    }

    initJParser();
  }

