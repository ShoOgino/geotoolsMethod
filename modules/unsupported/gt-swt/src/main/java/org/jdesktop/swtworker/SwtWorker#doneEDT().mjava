    /**
     * Invokes {@code done} on the EDT.
     */
    private void doneEDT() {
        Runnable doDone = new Runnable(){
            public void run() {
                done();
            }
        };
        // if (SwingUtilities.isEventDispatchThread()) {
        if (Display.getCurrent() != null) {
            doDone.run();
        } else {
            doSubmit.add(doDone);
        }
    }

