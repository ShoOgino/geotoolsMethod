    /**
     * Called when a new map layer has been added. Sets the layer
     * as selected (for queries) and, if the layer table is being
     * used, adds the new layer to the table.
     */
    public void layerAdded( MapLayerListEvent event ) {
        if (layerTable != null) {
            layerTable.onAddLayer(event.getLayer());
        }
        MapLayer layer = event.getLayer();
        layer.setSelected(true);

        boolean atFullExtent = equalsFullExtent(getDisplayArea());
        if (context.getLayerCount() == 1 || atFullExtent) {
            reset();
        }

        redraw();
    }

