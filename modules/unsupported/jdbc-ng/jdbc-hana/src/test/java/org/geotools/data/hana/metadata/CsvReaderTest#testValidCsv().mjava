    public void testValidCsv() throws IOException {
        String csv = "a,\"b\",\"c\"\"d\"\n\",\",\u00e4,";
        InputStream is = new ByteArrayInputStream(csv.getBytes("UTF-8"));
        CsvReader reader = new CsvReader(is);
        List<String> row;

        row = reader.readNextRow();
        assertEquals(3, row.size());
        assertEquals("a", row.get(0));
        assertEquals("b", row.get(1));
        assertEquals("c\"d", row.get(2));

        row = reader.readNextRow();
        assertEquals(3, row.size());
        assertEquals(",", row.get(0));
        assertEquals("\u00e4", row.get(1));
        assertEquals("", row.get(2));

        row = reader.readNextRow();
        assertNull(row);
    }

