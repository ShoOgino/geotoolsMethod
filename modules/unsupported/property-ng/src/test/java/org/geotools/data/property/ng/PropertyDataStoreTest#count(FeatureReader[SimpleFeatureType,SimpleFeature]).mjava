    private int count(  FeatureReader<SimpleFeatureType, SimpleFeature> reader ) throws Exception {
        int count = 0;
        try {
            while( reader.hasNext() ){
                reader.next();
                count++;
            }
        }
        finally {
            reader.close();
        }
        return count;        
    }    

