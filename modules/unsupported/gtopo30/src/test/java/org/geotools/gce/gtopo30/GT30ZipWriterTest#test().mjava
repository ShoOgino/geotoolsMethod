    /** Testing zipped-package writing capabilites. */
    @Test
    public void test() throws Exception {
        final URL statURL = TestData.getResource(this, this.fileName + ".DEM");
        final AbstractGridFormat format = new GTopo30FormatFactory().createFormat();

        final GTopo30WriteParams wp = new GTopo30WriteParams();
        wp.setCompressionMode(GTopo30WriteParams.MODE_EXPLICIT);
        wp.setCompressionType("ZIP");
        ParameterValueGroup params = format.getWriteParameters();
        params.parameter(AbstractGridFormat.GEOTOOLS_WRITE_PARAMS.getName().toString())
                .setValue(wp);

        if (format.accepts(statURL)) {
            // get a reader
            final GridCoverageReader reader = format.getReader(statURL);

            // get a grid coverage
            final GridCoverage2D gc = ((GridCoverage2D) reader.read(null));

            // preparing to write it down
            File testDir = TestData.file(this, "");
            newDir = new File(testDir.getAbsolutePath() + "/newDir");
            newDir.mkdir();

            final GridCoverageWriter writer = format.getWriter(newDir);
            writer.write(gc, params.values().toArray(new GeneralParameterValue[1]));

            gc.dispose(false);
        }
    }

