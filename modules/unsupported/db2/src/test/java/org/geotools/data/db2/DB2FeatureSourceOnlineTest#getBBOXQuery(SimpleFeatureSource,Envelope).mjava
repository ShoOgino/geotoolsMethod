    private DefaultQuery getBBOXQuery(SimpleFeatureSource featureSource, Envelope env)
        throws IllegalFilterException {
        BBOX bbox = getBBOXFilter(featureSource, env);
        SimpleFeatureType ft = featureSource.getSchema();

        return new DefaultQuery(ft.getTypeName(), bbox);
    }

