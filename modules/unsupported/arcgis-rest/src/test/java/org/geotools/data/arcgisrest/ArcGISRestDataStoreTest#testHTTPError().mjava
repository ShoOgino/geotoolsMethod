    @Test
    public void testHTTPError() throws Exception {

        this.clientMock = PowerMockito.mock(HttpClient.class);
        PowerMockito.whenNew(HttpClient.class).withNoArguments().thenReturn(clientMock);
        this.getMock = PowerMockito.mock(GetMethod.class);
        PowerMockito.whenNew(GetMethod.class).withNoArguments().thenReturn(getMock);
        when(clientMock.executeMethod(getMock)).thenReturn(HttpStatus.SC_NOT_FOUND);

        try {
            this.dataStore =
                    (ArcGISRestDataStore)
                            ArcGISRestDataStoreFactoryTest.createDefaultOpenDataTestDataStore();
            List<Name> names = this.dataStore.createTypeNames();
        } catch (IOException e) {
            assertTrue(e.getMessage().contains("404"));
        }
    }

