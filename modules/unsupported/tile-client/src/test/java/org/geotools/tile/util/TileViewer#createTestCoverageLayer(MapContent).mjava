    private void createTestCoverageLayer(MapContent map) {

        // ContrastEnhancement ce = sf.contrastEnhancement(ff.literal(1.0),
        // ContrastMethod.NORMALIZE);
        // SelectedChannelType sct = sf.createSelectedChannelType("1", ce);
        // ChannelSelection sel = sf.channelSelection(sct);
        // sym.setChannelSelection(sel);

        String baseURL = "http://tile.openstreetmap.org/";
        TileService service = new OSMService("OSM", baseURL);

        Tile t = new OSMTile(new OSMTileIdentifier(38596, 49269, new WebMercatorZoomLevel(17),
                service.getName()), service);

        GridCoverageFactory gf = new GridCoverageFactory();

        ReferencedEnvelope env = t.getExtent();

        StyleFactory sf = CommonFactoryFinder.getStyleFactory(null);
        RasterSymbolizer sym = sf.getDefaultRasterSymbolizer();

        Style rasterStyle = SLD.wrapSymbolizers(sym);

        GridCoverage2D coverage = gf.create("Factory", t.getBufferedImage(), env);
        GridCoverageLayer gcl = new GridCoverageLayer(coverage, rasterStyle);

        // map.addLayer(gcl);

    }

