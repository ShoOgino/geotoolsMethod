      public ConnectionPool getConnectionPool(String user, String pass)
        throws SQLException {
        org.postgresql.jdbc2.optional.ConnectionPool poolDataSource = null;
	String dbUrl = connPath;
        String poolKey = dbUrl + user + pass;
	LOGGER.fine("looking up pool key " + poolKey);
	Object poolDS = dataSources.get(poolKey);
	poolDataSource = (org.postgresql.jdbc2.optional.ConnectionPool)poolDS;
	LOGGER.fine("pool is " + poolDataSource);
        if (poolDataSource == null) {
	    poolDataSource = new org.postgresql.jdbc2.optional.ConnectionPool();
	    //source.setDataSourceName("Geotools Postgis");
	    poolDataSource.setServerName(host);
	    poolDataSource.setDatabaseName(dbName);
	    poolDataSource.setPortNumber(port);
	    poolDataSource.setUser(user);
	    poolDataSource.setPassword(pass);
	    //source.setMaxConnections(10);
	    //the source looks like this defaults to false, but we have
	    //assumed true (as that's how it was before pooling)
	    poolDataSource.setDefaultAutoCommit(true);
        dataSources.put(poolKey, poolDataSource);
            
        }

        ConnectionPoolManager manager = ConnectionPoolManager.getInstance();
        ConnectionPool connectionPool = manager.getConnectionPool(poolDataSource);
        
        return connectionPool;
    }

