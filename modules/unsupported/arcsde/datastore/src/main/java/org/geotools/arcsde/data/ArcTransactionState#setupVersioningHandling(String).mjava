    private void setupVersioningHandling(final String versionName) throws IOException {
        // create a versioned handler only if not already settled up, as this method
        // may be called for each layer inside a transaction
        if (versionHandler == ArcSdeVersionHandler.NONVERSIONED_HANDLER) {
            ISession session = getConnection();
            versionHandler = new TransactionVersionHandler(session, versionName);
        }
    }

