    /**
     * Used only within the package to provide access to a single connection on which this
     * transaction is being conducted.
     *
     * @return the session tied to ths state's transaction
     */
    ISession getConnection() {
        failIfClosed();
        return session;
    }

