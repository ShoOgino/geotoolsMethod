    /**
     * Tests that the pool creation fails if a wrong set of parameters is passed (i.e.
     * maxConnections is lower than minConnections)
     */
    @Test
    public void testChecksLimits() throws IOException, UnavailableConnectionException {
        int MIN_CONNECTIONS = 2;

        // override pool.minConnections and pool.maxConnections from
        // the configured parameters to test the connections' pool
        // availability
        Map<String, Serializable> params = new HashMap<>(this.connectionParameters);
        params.put(MIN_CONNECTIONS_PARAM_NAME, Integer.valueOf(MIN_CONNECTIONS));
        params.put(MAX_CONNECTIONS_PARAM_NAME, Integer.valueOf(1));

        // this MUST fail, since maxConnections is lower than minConnections
        try {
            LOGGER.fine("testing parameters' sanity check at pool creation time");
            ISessionPool pool = createPool(params);
            pool.close();
            fail(
                    "the connection pool creation must have failed since a wrong set of arguments was passed");
        } catch (IllegalArgumentException ex) {
            // it's ok, it is what's expected
            LOGGER.fine("pramams assertion passed");
        }
    }

