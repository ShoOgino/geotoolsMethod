    /**
     * Sets up a new SessionPool with the connection parameters stored in <code>connParams</code>
     * and throws an exception if something goes wrong
     *
     * @param connParams a set of connection parameters from where the new SessionPool will connect
     *     to the SDE database and create connections
     * @throws IllegalArgumentException if the set of connection parameters are not propperly set
     * @throws NullPointerException if <code>connParams</code> is null
     * @throws IOException if the pool can't create the connections with the passed arguments (i.e.
     *     can't connect to SDE database)
     */
    private ISessionPool createPool(Map<String, Serializable> connParams)
            throws IllegalArgumentException, NullPointerException, IOException {
        this.connectionConfig = ArcSDEConnectionConfig.fromMap(connParams);
        LOGGER.fine("creating a new SessionPool with " + connectionConfig);

        if (this.pool != null) {
            LOGGER.fine("pool already created, closing it");
            this.pool.close();
        }

        this.pool = new SessionPool(connectionConfig);
        LOGGER.fine("pool created");

        return this.pool;
    }

