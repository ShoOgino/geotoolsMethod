        /**
         * Implements AQS base acquire to succeed if ran or canceled
         */
        @Override
        protected int tryAcquireShared(int ignore) {
            return innerIsDone()? 1 : -1;
        }

