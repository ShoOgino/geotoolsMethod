    /**
     * Test using this netcdf image:
     *  data:
     * LAI=
     * 20,20,20,30,30,
     * 40,40,40,50,50,
     * 60,60,60,70,70,
     * 80,80,80,90,90;
     * lon=
     *         10,15,20,25,30;
     * lat=    70,60,50,40;
     *
     * @throws IOException
     */
    @Test  public void testHDF5Image() throws IOException, FactoryException {
        final File testURL = TestData.file(this, "2DLatLonCoverage.nc");
        // Get format
        //final AbstractGridFormat format = (AbstractGridFormat)
        GridFormatFinder.findFormat(testURL.toURI().toURL(),null);
        final NetCDFReader reader = new NetCDFReader(testURL, null);
        //assertNotNull(format);
        assertNotNull(reader);
        try {
            String[] names = reader.getGridCoverageNames();
            assertNotNull(names);
            assertEquals(2,names.length);
            assertEquals("ROOT/LEVEL1/V2",names[0]);
            GridCoverage2D grid = reader.read("ROOT/LAI", null);
            assertNotNull(grid);
            byte[] byteValue = grid.evaluate(new
                    DirectPosition2D(DefaultGeographicCRS.WGS84, 12, 70 ), new byte[1]);
            assertEquals(20,byteValue[0]);

            byteValue = grid.evaluate(new
                    DirectPosition2D(DefaultGeographicCRS.WGS84, 23, 40), new byte[1]);
            assertEquals(90,byteValue[0]);


        } finally {
            if (reader != null) {
                try {
                    reader.dispose();
                } catch (Throwable t) {
                    // Does nothing
                }
            }
        }
    }

