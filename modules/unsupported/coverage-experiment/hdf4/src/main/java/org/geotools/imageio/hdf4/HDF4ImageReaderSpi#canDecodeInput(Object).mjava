	public boolean canDecodeInput(Object input) throws IOException {
        boolean found = false;
        
        if (input instanceof FileImageInputStreamExtImpl) {
            input = ((FileImageInputStreamExtImpl) input).getFile();
        }
        // check if this is an 
        if (input instanceof File) {
        	// open up as a netcdf dataset
            final NetcdfDataset dataset = NetCDFUtilities.getDataset(input);            
            if (dataset != null) {
            	
            	// first of all is it an HDF4??
            	// TODO change this when we will be allowed to use >= 4.0.46
            	if(!(dataset.getIosp() instanceof H4iosp))
            		return false;
            	
            	// now, check if we can read it
            	try{
	            	found = isValidDataset(dataset);
            	}
            	finally {
            		try{
            			dataset.close();
            		}
            		catch (Throwable e) {
						if(LOGGER.isLoggable(Level.FINE))
							LOGGER.log(Level.FINE,e.getLocalizedMessage(),e);
					}
            	}
        	}
        }
        return found;
    }

