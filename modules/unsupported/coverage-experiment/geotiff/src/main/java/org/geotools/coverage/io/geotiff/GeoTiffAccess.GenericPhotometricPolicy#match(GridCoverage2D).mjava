		@SuppressWarnings("deprecation")
		@Override
		public boolean match(GridCoverage2D coverage) {
			final GridSampleDimension[] sampleDimensions = coverage.getSampleDimensions();
			final RenderedImage raster=coverage.getRenderedImage();
			if(raster==null)
				return false;
			final ColorModel cm= raster.getColorModel();
			if(cm==null)
				return false;				
			//get the color interpretation for the three bands
			final ColorInterpretation firstBandCI = TypeMap.getColorInterpretation(cm, 0);
			
			//		CMY - CMYK
			if(firstBandCI==ColorInterpretation.CYAN_BAND)
				return true;
			
			// HSV
			if(firstBandCI==ColorInterpretation.HUE_BAND)
				return true;
			
			//RGBA
			if(firstBandCI==ColorInterpretation.RED_BAND)
				return sampleDimensions.length==4;//RGBA
			
			//PALETTE
			if(firstBandCI==ColorInterpretation.PALETTE_INDEX)
				return true;			
			
			// GRAY, GRAY+ALPHA
			if(firstBandCI==ColorInterpretation.GRAY_INDEX&&sampleDimensions.length<=2)
			{
				if(sampleDimensions.length==2&&TypeMap.getColorInterpretation(cm, 1)==ColorInterpretation.ALPHA_BAND)
					return true;
				//gray if we do not have a UoM
				final Unit<?> uom=sampleDimensions[0].getUnits();
				if(uom==null|| uom.equals(Unit.ONE))
					return true;
				return false;
					
			}
			
			
			final ColorSpace cs = cm.getColorSpace();
			//IHS
			if(cs instanceof IHSColorSpace)
				return true;
			//YCbCr, LUV, LAB, HLS, IEXYZ 
			switch(cs.getType()){
			case ColorSpace.TYPE_YCbCr:case ColorSpace.TYPE_Luv:case ColorSpace.TYPE_Lab:case ColorSpace.TYPE_HLS:case ColorSpace.CS_CIEXYZ:
				return true;
			default:
				return false;
			
				
			}

		}

