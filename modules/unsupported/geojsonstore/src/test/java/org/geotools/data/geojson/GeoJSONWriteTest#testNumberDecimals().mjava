    @Test
    public void testNumberDecimals() throws SchemaException, IOException {
        GeometryFactory gf = new GeometryFactory();
        SimpleFeatureType type = DataUtilities.createType("test", "the_geom:Point:srid=4326");
        SimpleFeatureBuilder builder = new SimpleFeatureBuilder(type);
        builder.add(gf.createPoint(new Coordinate(1.23456789, 0.123456789)));
        SimpleFeature feature = builder.buildFeature(null);
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        GeoJSONWriter writer = new GeoJSONWriter(out);
        writer.setMaxDecimals(6);

        writer.write(feature);

        assertTrue("Incorrect number of decimals", out.toString().contains("[0.123457,1.234568]"));
        out.close();
        writer.close();
        out = new ByteArrayOutputStream();
        writer = new GeoJSONWriter(out);
        writer.write(feature);
        assertTrue("Incorrect number of decimals", out.toString().contains("[0.1235,1.2346]"));
        out.close();
        writer.close();
        out = new ByteArrayOutputStream();
        writer = new GeoJSONWriter(out);
        writer.setMaxDecimals(0);
        writer.write(feature);

        assertTrue("Incorrect number of decimals", out.toString().contains("[0,1]"));
    }

