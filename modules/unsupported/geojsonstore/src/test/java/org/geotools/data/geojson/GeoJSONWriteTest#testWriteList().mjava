    @Test
    public void testWriteList() throws Exception {
        // test feature
        SimpleFeatureTypeBuilder tb = new SimpleFeatureTypeBuilder();
        tb.setName("test");
        tb.add("the_geom", Point.class, 4326);
        tb.add("list", List.class);
        SimpleFeatureType type = tb.buildFeatureType();
        SimpleFeatureBuilder builder = new SimpleFeatureBuilder(type);
        builder.add(new GeometryFactory().createPoint(new Coordinate(1, 2)));
        builder.add(Arrays.asList(1, "two", null));
        SimpleFeature feature = builder.buildFeature(null);

        String json = writeSingleFeature(feature);
        JsonNode root = new ObjectMapper().readTree(json);
        assertTrue(root.get("properties").get("list").isArray());
        ArrayNode array = (ArrayNode) root.get("properties").get("list");
        assertEquals(JsonNodeType.NUMBER, array.get(0).getNodeType());
        assertEquals(1, array.get(0).intValue());
        assertEquals(JsonNodeType.STRING, array.get(1).getNodeType());
        assertEquals("two", array.get(1).textValue());
        assertEquals(JsonNodeType.NULL, array.get(2).getNodeType());
    }

