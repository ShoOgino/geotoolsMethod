    @Test
    public void testBoundingBox() throws SchemaException, IOException {
        GeometryFactory gf = new GeometryFactory();
        SimpleFeatureType type = DataUtilities.createType("test", "the_geom:Polygon:srid=27700");
        SimpleFeatureBuilder builder = new SimpleFeatureBuilder(type);
        Coordinate[] coords = {
            new Coordinate(100, 200),
            new Coordinate(140, 500),
            new Coordinate(300, 600),
            new Coordinate(100, 200)
        };
        builder.add(gf.createPolygon(coords));
        SimpleFeature feature = builder.buildFeature(null);
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        GeoJSONWriter writer = new GeoJSONWriter(out);
        writer.setEncodeFeatureBounds(true);

        writer.write(feature);

        assertTrue(
                "missing bbox in " + out.toString(),
                out.toString().contains("\"bbox\":[-7.556,49.7687,-7.5536,49.7724]"));
        out.close();
        writer.close();
    }

