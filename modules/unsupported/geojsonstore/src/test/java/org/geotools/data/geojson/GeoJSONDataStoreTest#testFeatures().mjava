    @Test
    public void testFeatures() throws IOException {
        URL url = TestData.url(GeoJSONDataStore.class, "featureCollection.json");
        // URL url = new
        // URL("http://geojson.xyz/naturalearth-3.3.0/ne_110m_admin_1_states_provinces.geojson");
        GeoJSONDataStore fds = new GeoJSONDataStore(url);
        String type = fds.getNames().get(0).getLocalPart();
        DefaultQuery query = new DefaultQuery(type);
        FeatureReader<SimpleFeatureType, SimpleFeature> reader = fds.getFeatureReader(query, null);
        SimpleFeatureType schema = reader.getFeatureType();
        // System.out.println(schema);
        assertEquals(
                "com.vividsolutions.jts.geom.Point",
                schema.getGeometryDescriptor().getType().getBinding().getCanonicalName());
        assertNotNull(schema);
        int count = 0;
        while (reader.hasNext()) {
            SimpleFeature next = reader.next();
            // System.out.println(next.getAttribute("name"));
            count++;
        }
        assertEquals(7, count);
    }

