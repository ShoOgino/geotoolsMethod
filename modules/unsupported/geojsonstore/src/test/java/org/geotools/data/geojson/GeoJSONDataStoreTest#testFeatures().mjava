    @Test
    public void testFeatures() throws IOException {
        URL url = TestData.url(GeoJSONDataStore.class, "featureCollection.json");

        GeoJSONDataStore fds = new GeoJSONDataStore(url);
        String type = fds.getNames().get(0).getLocalPart();
        Query query = new Query(type);
        try (FeatureReader<SimpleFeatureType, SimpleFeature> reader =
                fds.getFeatureReader(query, null)) {
            SimpleFeatureType schema = reader.getFeatureType();
            assertTrue(
                    Geometry.class.isAssignableFrom(
                            schema.getGeometryDescriptor().getType().getBinding()));
            assertNotNull(schema);
            int count = 0;
            while (reader.hasNext()) {
                reader.next();
                count++;
            }

            assertEquals(7, count);
        }
    }

