    @Override
    public Geometry geometryFromJson(JsonNode node) throws JsonMappingException {
        String typeName = node.get(TYPE).asText();
        GeometryParser parser = parsers.get(typeName);
        if (parser != null) {
            return parser.geometryFromJson(node);
        } else {
            // TODO find a better way of doing this!
            throw new JsonMappingException((Closeable) null, "Invalid geometry type: " + typeName);
        }
    }

