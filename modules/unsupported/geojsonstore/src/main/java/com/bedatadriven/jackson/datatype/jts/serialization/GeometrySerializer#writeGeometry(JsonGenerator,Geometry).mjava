    public void writeGeometry(JsonGenerator jgen, Geometry value) throws IOException {

        if (value instanceof Polygon) {
            writePolygon(jgen, (Polygon) value);

        } else if (value instanceof Point) {
            writePoint(jgen, (Point) value);

        } else if (value instanceof MultiPoint) {
            writeMultiPoint(jgen, (MultiPoint) value);

        } else if (value instanceof MultiPolygon) {
            writeMultiPolygon(jgen, (MultiPolygon) value);

        } else if (value instanceof LineString) {
            writeLineString(jgen, (LineString) value);

        } else if (value instanceof MultiLineString) {
            writeMultiLineString(jgen, (MultiLineString) value);

        } else if (value instanceof GeometryCollection) {
            writeGeometryCollection(jgen, (GeometryCollection) value);

        } else {
            throw new JsonMappingException(
                    jgen,
                    "Geometry type "
                            + value.getClass().getName()
                            + " cannot be serialized as GeoJSON."
                            + "Supported types are: "
                            + Arrays.asList(
                                    Point.class.getName(),
                                    LineString.class.getName(),
                                    Polygon.class.getName(),
                                    MultiPoint.class.getName(),
                                    MultiLineString.class.getName(),
                                    MultiPolygon.class.getName(),
                                    GeometryCollection.class.getName()));
        }
    }

