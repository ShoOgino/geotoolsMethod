    /** @throws IOException */
    private void initialise() throws IOException {
        if (!singleFeature) {
            generator.writeStartObject();
            generator.writeStringField("type", "FeatureCollection");
            if (bounds != null && isEncodeFeatureBounds()) {
                /* If they have provided a bbox we can write it out at the top of the file,
                 * else we'll need to do it at the bottom.
                 */
                writeBoundingEnvelope();
                notWritenBbox = false;
            }
            generator.writeFieldName("features");
            generator.writeStartArray();
            inArray = true;
        }
        initalised = true;
    }

