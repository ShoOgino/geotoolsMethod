    private void writeBoundingEnvelope() throws IOException {
        if (!CRS.equalsIgnoreMetadata(bounds.getCoordinateReferenceSystem(), outCRS)) {
            // reproject
            try {
                bounds = bounds.transform(outCRS, true);
            } catch (MismatchedDimensionException | TransformException | FactoryException e) {
                throw new RuntimeException(e);
            }
        }
        generator.writeArrayFieldStart("bbox");
        double[] coords = {bounds.getMinX(), bounds.getMinY(), bounds.getMaxX(), bounds.getMaxY()};
        formatter.setMaximumFractionDigits(maxDecimals);

        for (double c : coords) {
            generator.writeNumber(formatter.format(c));
        }
        generator.writeEndArray();
    }

