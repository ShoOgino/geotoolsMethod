    /**
     * Returns a SQLBuilder for the requested FeatureType.
     * <p>
     * If the requested FeatureType corresponds to an in-process view (a view
     * specified through {@linkplain #registerView(String, String)}, the
     * returned SQLBuilder takes care of it.
     * </p>
     */
    public SQLBuilder getSqlBuilder(String typeName) throws IOException {
        BypassSqlFeatureTypeHandler ftHandler = (BypassSqlFeatureTypeHandler) super.typeHandler;
        FilterToSQL encoder = new UnaliasSQLEncoder();
        SimpleFeatureType schema = getSchema( typeName );
		encoder.setFeatureType( schema );
        encoder.setFIDMapper(getFIDMapper(typeName));
        SQLBuilder sqlBuilder;
        /*
         * if (ftHandler.isView(typeName)) { sqlBuilder = new
         * GeometrylessSQLBuilder(encoder, ftHandler); } else {
         */
        sqlBuilder = new GeometrylessSQLBuilder(encoder);
        /*
         * }
         */
        return sqlBuilder;
    }

