    public void testOidFidMapper() throws IOException, IllegalAttributeException {
        // get the schema and make sure the FID mapper is an OID one
        FIDMapper mapper = ((PostgisDataStore) data).getFIDMapper("lake");
        FIDMapper base = null;
        if (mapper instanceof TypedFIDMapper) {
            base = ((TypedFIDMapper) mapper).getWrappedMapper();
        } else
            base = mapper;

        assertTrue(base instanceof OIDFidMapper);

        // read features from the database, just check we don't crash and that id's are not null
         FeatureReader<SimpleFeatureType, SimpleFeature> reader = ((PostgisDataStore) data).getFeatureReader(data.getSchema("lake"),
                Filter.INCLUDE, Transaction.AUTO_COMMIT);

        while (reader.hasNext()) {
            SimpleFeature f = (SimpleFeature) reader.next();
            assertNotNull(f.getID());
        }
        reader.close();

        FeatureWriter<SimpleFeatureType, SimpleFeature> writer = data.getFeatureWriterAppend("lake", Transaction.AUTO_COMMIT);
        SimpleFeature f = (SimpleFeature) writer.next();
        f.setAttributes(lakeFeatures[0].getAttributes());
        writer.write();
        writer.close();

        String id = f.getID();
        assertNotNull(id);
        assertTrue(!id.trim().equals(""));
        Long.parseLong(id.substring(5)); // make sure it's a number
    }

