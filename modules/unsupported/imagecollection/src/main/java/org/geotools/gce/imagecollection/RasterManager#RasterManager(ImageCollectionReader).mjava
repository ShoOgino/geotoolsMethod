    public RasterManager(final ImageCollectionReader reader) throws DataSourceException {

        Utilities.ensureNonNull("ImageCollectionReader", reader);
        this.parent = reader;
        this.expandMe = parent.expandMe;
        inputURL = reader.sourceURL;
        coverageIdentifier = reader.getName();
        hints = reader.getHints();
        coverageFactory = reader.getGridCoverageFactory();
        // get the overviews policy
        extractOverviewPolicy();
        highestRes = new double[] {1.0, 1.0};

        // TODO: What to do when I remove that default file?

        ImageManager imageManager = getDatasetManager(Utils.FAKE_IMAGE_PATH);

        //        ImageManager imageManager = getDatasetManager(parent.rootPath +
        // parent.defaultPath);
        coverageEnvelope = imageManager.coverageEnvelope;
        coverageGridrange = new GridEnvelope2D(imageManager.coverageRasterArea);
        coverageCRS = imageManager.coverageCRS;
        raster2Model = imageManager.coverageGridToWorld2D;
        if (imageManager.property.isGeoSpatial()) {
            // Updating highestRes
            OverviewLevel level0 = imageManager.overviewsController.resolutionsLevels.get(0);
            highestRes[0] = level0.resolutionX;
            highestRes[1] = level0.resolutionY;
        }

        //        coverageEnvelope = reader.getOriginalEnvelope();
        //        coverageGridrange = reader.getOriginalGridRange();
        //        coverageCRS = reader.getCrs();
        //        highestRes = reader.getHighestRes();

        //
        //        // TODO: USE IDENTITY??
        //        raster2Model = ProjectiveTransform.create(Utils.IDENTITY);
        //        raster2Model = ProjectiveTransform.create(Utils.IDENTITY_HALFPIXEL);
        // reader.getOriginalGridToWorld(PixelInCell.CELL_CENTER);

        // resolution values
        //        numberOfOverwies = reader.getNumberOfOverviews();
        //        overviewsResolution = reader.getOverviewsResolution();

        // instantiating controller for subsampling and overviews
        decimationController = new DecimationController();
    }

