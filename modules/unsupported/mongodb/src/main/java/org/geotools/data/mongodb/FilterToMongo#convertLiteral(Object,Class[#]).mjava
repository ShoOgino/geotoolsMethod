    /**
     * Helper method that tries to convert a literal to the expected type.
     */
    private Object convertLiteral(Object literal, Class<?> targetType) {
        if (literal == null || targetType == null) {
            // return the literal as is
            return literal;
        }
        Object converted = Converters.convert(literal, targetType);
        if (converted == null) {
            // no conversion found return the literal as string
            return literal.toString();
        }
        // return the converted value
        return converted;
    }

