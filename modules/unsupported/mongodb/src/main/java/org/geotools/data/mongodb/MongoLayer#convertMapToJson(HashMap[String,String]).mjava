    /**
     * Convert map of field names and Java Classes to JSON representation
     * 
     * @param finalMap map with field names and types
     * @return metadata GeoJSON representation as DBObject
     */
    private DBObject convertMapToJson (HashMap<String, String> finalMap)
    {
        BasicDBObject metaData = new BasicDBObject();

        // add geometry type
        BasicDBObject geometry = new BasicDBObject();
        geometry.append( "type", finalMap.get( "geometry.type" ) );
        metaData.append( "geometry", geometry );

        // add properties
        BasicDBObject properties = new BasicDBObject();
        properties = (BasicDBObject) recreateJson( "properties", properties, finalMap );
        metaData.append( "properties", properties );

        return metaData;
    }

