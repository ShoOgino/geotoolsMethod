    public void populateFeatureData() throws IOException {

        List<AttributeMapping> attMap = getAttributeMappings();
        if (attOrderedTypeList == null) {
            initialiseAttributeLists(attMap);
        }
        PathAttributeList elements = new PathAttributeList();
        elements.put(rootAttribute.getLabel(), itemXpath, null);
        String id = rootAttribute.getInstanceXpath() + XPATH_SEPARATOR
                + rootAttribute.getIdentifierExpression();
        mapping.put("@gml:id", id);
        mapping.put("@gsml:id", id);
        // create required elements

        // iterator returns the attribute mappings starting from the root of the tree.
        // parents are always returned before children elements.
        Iterator<TreeAttributeMapping> it = attOrderedTypeList.iterator();
        addComplexAttributes(elements, it);
        addSetterAttributes(elements);
        
        index++;
        removeAllRelativePaths();
    }

