    public AttributeType getAttributeType(final Name typeName, CoordinateReferenceSystem crs,
            List<AttributeMapping> attMappings) {
        AttributeType type = (AttributeType) typeRegistry.get(typeName);
        if (type == null) {
            XSDTypeDefinition typeDef = getTypeDefinition(typeName);

            LOGGER.finest("Creating attribute type " + typeDef.getQName());
            type = createType(typeDef, crs, attMappings);
            LOGGER.finest("Registering attribute type " + type.getName());
        } else {
            // LOGGER.finer("Ignoring type " +
            // typeDef.getQName()
            // + " as it already exists in the registry");
        }
        return type;
    }

