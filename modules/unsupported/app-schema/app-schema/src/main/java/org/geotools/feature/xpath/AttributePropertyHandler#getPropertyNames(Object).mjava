    public String[] getPropertyNames(Object o) {
        Attribute att = (Attribute) o;

        // we only work on complex attributes
        if (att instanceof ComplexAttribute) {

            ComplexType type = (ComplexType) att.getType();
            Collection attributes = type.getDescriptors();

            String[] propNames = new String[attributes.size()];
            int i = 0;
            for (Iterator itr = attributes.iterator(); itr.hasNext(); i++) {
                AttributeDescriptor descriptor = (AttributeDescriptor) itr.next();

                // JD: this ignores namespaces
                propNames[i] = descriptor.getName().getLocalPart();
            }

            return propNames;
        }

        return null;
    }

