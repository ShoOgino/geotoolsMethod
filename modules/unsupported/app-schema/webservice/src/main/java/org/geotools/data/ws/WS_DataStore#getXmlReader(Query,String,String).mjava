    /**
     * For feature chaining
     *
     * @param xpath Linking attribute
     * @param value Foreign key value
     * @return
     * @throws IOException
     */
    public XmlResponse getXmlReader(Query query, String xpath, String value) throws IOException {
        WSResponse response = wsProtocol.issueGetFeature(query);
        Document doc = getXmlResponse(response);

        List<Integer> validFeatureIndex =
                determineValidFeatures(xpath, value, doc, query.getMaxFeatures());
        return new XmlResponse(doc, validFeatureIndex);
    }

