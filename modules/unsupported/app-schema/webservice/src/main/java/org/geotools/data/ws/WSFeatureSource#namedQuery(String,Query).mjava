    private Query namedQuery(final String typeName, final Query query) {
        String quertyTypeName = query.getTypeName();
        if (quertyTypeName != null && !quertyTypeName.equals(typeName)) {
            throw new IllegalArgumentException(
                    "Wrong query type name: " + quertyTypeName + ". Name should be " + typeName);
        }
        Query named = new Query(query);
        named.setTypeName(typeName);
        return named;
    }

