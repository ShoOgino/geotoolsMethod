    /**
     * Checks whether {@code params} contains a valid set of parameters to connecto to a WS.
     *
     * <p>Rules are:
     *
     * <ul>
     *   <li>the mandatory {@link #URL} is provided.
     *   <li>whether both {@link #USERNAME} and {@link #PASSWORD} are provided, or none.
     * </ul>
     *
     * Availability of the other optional parameters is not checked for existence.
     *
     * @param params non null map of datastore parameters.
     * @see org.geotools.data.DataStoreFactorySpi#canProcess(java.util.Map)
     */
    public boolean canProcess(final Map params) {
        if (params == null) {
            throw new NullPointerException("params");
        }
        try {
            // mandatory fields
            GET_CONNECTION_URL.lookUp(params);
            TEMPLATE_NAME.lookUp(params);
            TEMPLATE_DIRECTORY.lookUp(params);
            CAPABILITIES_FILE_LOCATION.lookUp(params);
        } catch (Exception e) {
            return false;
        }

        return true;
    }

