    @Test
    public void testRgbSldTransformation() throws Exception {
        MBStyle rgbTest = MBStyle.create(mbstyle);
        SymbolMBLayer rgbLayer = (SymbolMBLayer) rgbTest.layer("rgbExpression");
        List<FeatureTypeStyle> rgbFeatures = rgbLayer.transformInternal(rgbTest);
        Color sldColor =
                (((TextSymbolizer) rgbFeatures.get(0).rules().get(0).symbolizers().get(0))
                        .getFill()
                        .getColor()
                        .evaluate(null, Color.class));
        assertEquals(new Color(0, 111, 222), sldColor);
        String xml = new SLDTransformer().transform(rgbFeatures.get(0));
        assertTrue(
                xml.contains(
                        "<sld:Fill><sld:CssParameter name=\"fill\"><ogc:Function name=\"torgb\">"
                                + "<ogc:Function name=\"round_2\"><ogc:Literal>0</ogc:Literal></ogc:Function>"
                                + "<ogc:Function name=\"round_2\"><ogc:Literal>111</ogc:Literal></ogc:Function><ogc:Function name=\"round_2\">"
                                + "<ogc:Literal>222</ogc:Literal></ogc:Function></ogc:Function></sld:CssParameter></sld:Fill>"));
    }

