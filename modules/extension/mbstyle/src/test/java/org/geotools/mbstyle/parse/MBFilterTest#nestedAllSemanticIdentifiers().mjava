    @Test
    public void nestedAllSemanticIdentifiers() throws ParseException {
        JSONArray json =
                array(
                        "[\n"
                                + "        'all',\n"
                                + "        ['==', '$type', 'LineString'],\n"
                                + "        ['all', ['==', 'brunnel', 'tunnel'], ['==', 'class', 'path']]\n"
                                + "      ]");
        MBFilter mbfilter = new MBFilter(json);
        // used to go in infinite recursion
        Set<SemanticType> identifiers = mbfilter.semanticTypeIdentifiers();
        assertEquals(Collections.singleton(SemanticType.LINE), identifiers);
    }

