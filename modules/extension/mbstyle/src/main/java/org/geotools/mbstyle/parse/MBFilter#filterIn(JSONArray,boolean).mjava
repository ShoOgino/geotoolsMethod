    private Filter filterIn(JSONArray array, boolean in) {
        String key = parse.get(array, 1);
        Expression[] args = new Expression[array.size() - 1];
        args[0] = ff.property(key);
        for (int i = 1; i < args.length; i++) {
            Expression expression = parse.string(array, i + 1);
            args[i] = expression;
        }
        Function function = ff.function("in", args);
        return ff.equals(function, ff.literal(in));
    }

