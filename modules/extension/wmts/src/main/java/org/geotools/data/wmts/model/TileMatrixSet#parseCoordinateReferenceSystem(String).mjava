    /**
     * Try and parse the crs string.
     *
     * Also takes care of including deprecated codes like EPSG:900913 replacing them with EPSG:3857.
     */
    protected CoordinateReferenceSystem parseCoordinateReferenceSystem(String crs)
            throws NoSuchAuthorityCodeException, FactoryException {

        if (crs.equalsIgnoreCase("epsg:900913")
                || crs.equalsIgnoreCase("urn:ogc:def:crs:EPSG::900913")) {
            return WEB_MERCATOR_CRS;
        }

        return CRS.decode(crs);
    }

