    private TileMatrixSet parseMatrixSet(TileMatrixSetType tm)
            throws RuntimeException, IllegalArgumentException, ServiceException {
        TileMatrixSet matrixSet = new TileMatrixSet();
        matrixSet.setCRS(tm.getSupportedCRS());
        matrixSet.setWellKnownScaleSet(tm.getWellKnownScaleSet());
        matrixSet.setIdentifier(tm.getIdentifier().getValue());
        if (tm.getBoundingBox() != null) {
            matrixSet.setBbox(bbox2bbox(tm.getBoundingBox()));
        }
        for (TileMatrixType mat : tm.getTileMatrix()) {
            TileMatrix matrix = new TileMatrix();

            matrix.setIdentifier(mat.getIdentifier().getValue());
            matrix.setDenominator(mat.getScaleDenominator());
            matrix.setMatrixHeight(mat.getMatrixHeight().intValue());
            matrix.setMatrixWidth(mat.getMatrixWidth().intValue());
            matrix.setTileHeight(mat.getTileHeight().intValue());
            matrix.setTileWidth(mat.getTileWidth().intValue());
            matrix.setParent(matrixSet);
            if (matrix.getCrs() == null) {
                throw new ServiceException(
                        "MatrixSet "
                                + tm.getIdentifier().getValue()
                                + ": unable to create CRS "
                                + matrixSet.getCrs());
            }
            List<Double> c = mat.getTopLeftCorner();

            matrix.setTopLeft(gf.createPoint(new Coordinate(c.get(0), c.get(1))));
            matrixSet.addMatrix(matrix);
        }
        return matrixSet;
    }

