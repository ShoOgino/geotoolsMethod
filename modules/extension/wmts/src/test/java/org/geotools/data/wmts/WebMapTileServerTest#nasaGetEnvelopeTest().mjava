    @Test
    public void nasaGetEnvelopeTest() throws Exception {
        WMTSCapabilities caps = createCapabilities("nasa.getcapa.xml");
        WebMapTileServer wmts = new WebMapTileServer(caps);

        Layer layer = (Layer) caps.getLayer("AMSRE_Surface_Rain_Rate_Night");
//        urn:ogc:def:crs:OGC:1.3:CRS84

//         <ows:WGS84BoundingBox crs="urn:ogc:def:crs:OGC:2:84">
//            <ows:LowerCorner>-180 -90</ows:LowerCorner>
//            <ows:UpperCorner>180 90</ows:UpperCorner>
//        </ows:WGS84BoundingBox>

        assertNotNull(wmts.getEnvelope(layer, CRS.decode("urn:ogc:def:crs:OGC:1.3:CRS84")));
        assertNotNull(wmts.getEnvelope(layer, CRS.decode("CRS:84")));

        assertNull(wmts.getEnvelope(layer, CRS.decode("EPSG:4326")));

        CoordinateReferenceSystem crs = CRS.decode("CRS:84");

        GeneralEnvelope envelope = wmts.getEnvelope(layer, crs);
        assertNotNull(envelope);
        assertEquals(-90.0, envelope.getMinimum(1), 0.0001);
        assertEquals(-180.0, envelope.getMinimum(0), 0.0001);
        assertEquals(90.0, envelope.getMaximum(1), 0.0001);
        assertEquals(180.0, envelope.getMaximum(0), 0.0001);
    }

