    @Test
    public void testRESTInitMapRequestWithJpegTemplatesOnly() throws Exception {
        WebMapTileServer server = createServer("test-data/GetCapaJPEGOnly.xml");
        WMTSLayer layer = server.getCapabilities().getLayer("bmaphidpi");
        WMTSCoverageReader wcr = new WMTSCoverageReader(server, layer);
        ReferencedEnvelope bbox = new ReferencedEnvelope(5, 12, 45, 49, CRS.decode("EPSG:4326"));
        int width = 400;
        int height = 200;
        ReferencedEnvelope grid = wcr.initTileRequest(bbox, width, height, null);
        assertNotNull(grid);
        GetTileRequest mapRequest = wcr.getTileRequest();
        String templateURL = mapRequest.getFinalURL().toExternalForm();
        assertEquals(
                "https://maps.wien.gv.at/basemap/bmaphidpi/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.jpeg",
                templateURL);
    }

