    public void testGetEnvelope() throws Exception {
        WebMapTileServer wms = new WebMapTileServer(serverURL);

        WMTSCapabilities caps = wms.getCapabilities();

        Layer layer = (Layer) caps.getLayer("topp:states");
        CoordinateReferenceSystem crs = CRS.decode("EPSG:4326");
       
        GeneralEnvelope envelope = wms.getEnvelope(layer, crs);
        assertNotNull(envelope);
        // <ows:LowerCorner>-134.731422 24.955967</ows:LowerCorner>
        // <ows:UpperCorner>-66.969849 49.371735</ows:UpperCorner>
        assertEquals(-124.731422, envelope.getMinimum(1), 0.0001);
        assertEquals(24.955967, envelope.getMinimum(0), 0.0001);
        assertEquals(-66.969849, envelope.getMaximum(1), 0.0001);
        assertEquals(49.371735, envelope.getMaximum(0), 0.0001);
    }

