    @Test
    public void testFindRightNeighbour() throws Exception {
        for (WMTSServiceType t : WMTSServiceType.values()) {
            WMTSTileService service = (WMTSTileService) createService(t);
            WMTSZoomLevel zoomLevel = service.getZoomLevel(5);
            WMTSTile tile = new WMTSTile(20, 15, zoomLevel, service);

            Tile neighbour = factory.findRightNeighbour(tile, service);
            Assert.assertNotNull(neighbour);
            // assertTrue(neighbour.getContextState().equals(ContextState.OKAY));
            WMTSTile expectedNeighbour = new WMTSTile(21, 15, zoomLevel, service);

            Assert.assertEquals(
                    expectedNeighbour.getTileIdentifier(), neighbour.getTileIdentifier());
        }
    }

