    /**
     * Implementation of ImageLoader. Has been moved to {@link
     * @see org.geotools.tile.TileService#loadImageTileImage(Tile)}
     */
    @Override
    public BufferedImage loadImageTileImage(Tile tile) throws IOException {
        if (service == null) {
            throw new IllegalStateException("service cannot be null.");
        }
        final HTTPResponse response = service.getHttpClient().get(tile.getUrl());
        try {
            return ImageIOExt.readBufferedImage(response.getResponseStream());
        } finally {
            response.dispose();
        }
    }

