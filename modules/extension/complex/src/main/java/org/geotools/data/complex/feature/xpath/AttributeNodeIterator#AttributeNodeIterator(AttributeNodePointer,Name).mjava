    public AttributeNodeIterator(AttributeNodePointer pointer, Name name) {
        this.pointer = pointer;
        feature = (ComplexAttribute) pointer.getImmediateAttribute();

        AttributeDescriptor descriptor = feature.getDescriptor();
        Name attName = descriptor == null ? feature.getType().getName() : descriptor.getName();
        if (attName.equals(name)) {
            children = Collections.singletonList(feature);
        } else {
            children = new ArrayList<>(feature.getProperties(name));
        }

        position = children.isEmpty() ? 0 : 1;
    }

