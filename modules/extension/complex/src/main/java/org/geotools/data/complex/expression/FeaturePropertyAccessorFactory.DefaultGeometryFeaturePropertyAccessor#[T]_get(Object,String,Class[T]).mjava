        @Override
        @SuppressWarnings("unchecked")
        public <T> T get(Object object, String xpath, Class<T> target)
                throws IllegalArgumentException {
            if (object instanceof Feature)
                return (T) ((Feature) object).getDefaultGeometryProperty();
            if (object instanceof FeatureType) {
                FeatureType ft = (FeatureType) object;
                GeometryDescriptor gd = ft.getGeometryDescriptor();
                if (gd == null) {
                    // look for any geometry descriptor
                    for (PropertyDescriptor pd : ft.getDescriptors()) {
                        if (Geometry.class.isAssignableFrom(pd.getType().getBinding())) {
                            return (T) pd;
                        }
                    }
                }
                return (T) gd;
            }
            return null;
        }

