    private void createFoundationTypes() {
        Map<Name, AttributeType> foundationTypes =
                FOUNDATION_TYPES.computeIfAbsent(
                        helper.getClass(), o -> new HashMap<Name, AttributeType>());
        synchronized (foundationTypes) {
            if (!foundationTypes.isEmpty()) {
                typeRegistry.putAll(foundationTypes);
                return;
            }

            importSchema(new XSSchema());

            for (Schema schema : helper.getSchemas()) {
                importSchema(schema);
            }

            for (Configuration config : helper.getConfigurations()) {
                addSchemas(Schemas.findSchemas(config));
            }

            foundationTypes.putAll(typeRegistry);
        }
    }

