    /**
     * Loads all the test suites in the validations directory
     *
     * @param plugInDTOs Already loaded list of plug-ins to link.
     */
    public static Map<String, TestSuiteDTO> loadValidations(File validationDir, Map plugInDTOs)
            throws ValidationException {
        Map<String, TestSuiteDTO> r = null;

        try {
            validationDir = ReaderUtils.initFile(validationDir, true);
        } catch (IOException dirException) {
            throw new ValidationException(
                    "Problem opening " + validationDir.getName(), dirException);
        }
        File[] fileList = validationDir.listFiles();
        r = new HashMap<>();

        if (fileList != null) {
            for (File file : fileList) {
                try {
                    if (file.canWrite() && file.isFile()) {
                        try (FileReader fr = new FileReader(file)) {
                            TestSuiteDTO dto =
                                    XMLReader.readTestSuite(file.getName(), fr, plugInDTOs);
                            r.put(dto.getName(), dto);
                        }
                    }
                } catch (IOException open) {
                    throw new ValidationException("Could not open " + file.getName(), open);
                }
            }
        }
        return r;
    }

