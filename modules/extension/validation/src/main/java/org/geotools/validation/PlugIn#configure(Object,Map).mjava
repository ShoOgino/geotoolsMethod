    protected void configure(Object bean, Map config) throws ValidationException {
        if ((config == null) || (config.isEmpty())) {
            return;
        }

        PropertyDescriptor property;

        for (Object o : config.entrySet()) {
            Map.Entry entry = (Map.Entry) o;
            property = propertyInfo((String) entry.getKey());

            if (property == null) {
                // error here
                continue;
            }

            try {
                property.getWriteMethod().invoke(bean, new Object[] {entry.getValue()});
            } catch (IllegalArgumentException e) {
                String val = entry.getValue() == null ? entry.getValue().toString() : "null";
                throw new ValidationException(
                        "test failed to configure " + plugInName + " " + entry.getKey() + " " + val,
                        e);
            } catch (IllegalAccessException e) {
                String val = entry.getValue() == null ? entry.getValue().toString() : "null";
                throw new ValidationException(
                        "test failed to configure " + plugInName + " " + entry.getKey() + " " + val,
                        e);
            } catch (InvocationTargetException e) {
                String val = entry.getValue() == null ? entry.getValue().toString() : "null";
                throw new ValidationException(
                        "test failed to configure " + plugInName + " " + entry.getKey() + " " + val,
                        e);
            }
        }
    }

