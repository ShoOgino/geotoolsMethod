    /**
     * addToLookup
     *
     * <p>Description: Add the validation test to the map for every featureType that it validates.
     * If the FeatureTypes array is ALL, then the validation is added to the ANYTYPENAME entry.
     */
    private void addToFVLookup(FeatureValidation validation) {
        String[] featureTypeList = validation.getTypeRefs();

        if (featureTypeList == Validation.ALL) // if null (ALL)
        {
            List<FeatureValidation> tests = featureLookup.get(ANYTYPENAME);

            if (tests == null) { // if an ALL test doesn't exist yet
                tests = new ArrayList<>(); // create it
            }

            tests.add(validation);
            featureLookup.put(ANYTYPENAME, tests); // add the ALL test to it
        } else // a non ALL FeatureTypeInfo validation
        {
            for (String s : featureTypeList) {
                List<FeatureValidation> tests = featureLookup.get(s);

                if (tests == null) { // if this FeatureTypeInfo doesn't have a validation test yet
                    tests = new ArrayList<>(); // put it in the list
                }

                tests.add(validation);
                featureLookup.put(s, tests); // add a validation to it
            }
        }
    }

