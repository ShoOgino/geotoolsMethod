    /**
     * <b>getIntegrityValidationResults Purpose:</b> <br>
     *
     * <p>Gets the validation results for Integrity tests. <b>Description:</b><br>
     *
     * <p>DOCUMENT ME!! Author: bowens<br>
     * Created on: Jun 26, 2004<br>
     *
     * @param failed the map of failed features
     */
    private ValidationResults makeIntegrityValidationResults(final Map failed) {
        ValidationResults results =
                new ValidationResults() {
                    String name;
                    String description;

                    public void setValidation(Validation validation) {
                        name = validation.getName();
                        description = validation.getDescription();
                    }

                    public void error(SimpleFeature feature, String message) {
                        LOGGER.warning(name + ": " + message + " (" + description + ")");
                        if (feature == null) {
                            failed.put(
                                    "ALL", name + ": " + message + " " + "(" + description + ")");
                        } else {
                            failed.put(
                                    feature.getID(),
                                    name + ": " + message + " " + "(" + description + ")");
                        }
                    }

                    public void warning(SimpleFeature feature, String message) {
                        LOGGER.warning(name + ": " + message + " (" + description + ")");
                    }
                };
        return results;
    }

