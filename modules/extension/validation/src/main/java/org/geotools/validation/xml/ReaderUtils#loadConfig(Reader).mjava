    /**
     * loadConfig purpose.
     *
     * <p>Parses the specified file into a DOM tree.
     *
     * @param configFile The file to parse int a DOM tree.
     * @return the resulting DOM tree
     * @throws ParserConfigurationException
     */
    public static Element loadConfig(Reader configFile)
            throws IOException, ParserConfigurationException, SAXException {
        LOGGER.finest("loading configuration file " + configFile);

        InputSource in = new InputSource(configFile);
        DocumentBuilderFactory dfactory = DocumentBuilderFactory.newInstance();
        dfactory.setNamespaceAware(true);

        // TODO turn on validation
        dfactory.setValidating(false);
        dfactory.setIgnoringComments(true);
        dfactory.setCoalescing(true);
        dfactory.setIgnoringElementContentWhitespace(true);

        Document serviceDoc = dfactory.newDocumentBuilder().parse(in);
        Element configElem = serviceDoc.getDocumentElement();

        return configElem;
    }

