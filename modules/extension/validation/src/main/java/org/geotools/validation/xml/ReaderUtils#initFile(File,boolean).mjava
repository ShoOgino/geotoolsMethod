    /**
     * initFile purpose.
     * 
     * <p>
     * Checks to ensure the file is valid. Returns the file passed in to allow
     * this to wrap file creations.
     * </p>
     *
     * @param f A file Handle to test.
     * @param isDir true when the File passed in is expected to be a directory,
     *        false when the handle is expected to be a file.
     *
     * @return the File handle passed in
     *
     * @throws IOException When the file does not exist or is not the type
     *         specified.
     */
    public static File initFile(File f, boolean isDir)
        throws IOException {
        if (!f.exists()) {
            throw new IOException(
                "Path specified does not have a valid file.\n" + f + "\n\n");
        }

        if (isDir && !f.isDirectory()) {
            throw new IOException(
                "Path specified does not have a valid file.\n" + f + "\n\n");
        }

        if (!isDir && !f.isFile()) {
            throw new IOException(
                "Path specified does not have a valid file.\n" + f + "\n\n");
        }

        LOGGER.fine("File is valid: " + f);

        return f;
    }

