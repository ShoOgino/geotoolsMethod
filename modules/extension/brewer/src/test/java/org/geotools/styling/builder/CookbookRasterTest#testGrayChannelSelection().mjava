    @Test
    public void testGrayChannelSelection() {
        final RasterSymbolizerBuilder rsb = new RasterSymbolizerBuilder();
        rsb.channelSelection().gray().channelName("BAND1");
        Style style = rsb.buildStyle();
        StyleCollector collector = new StyleCollector();
        style.accept(collector);
        assertSimpleStyle(collector);

        // check the symbolizer
        RasterSymbolizer rs = (RasterSymbolizer) collector.symbolizers.get(0);
        final SelectedChannelType[] rgbChannels = rs.getChannelSelection().getRGBChannels();
        assertNull(rgbChannels[0]);
        assertNull(rgbChannels[1]);
        assertNull(rgbChannels[2]);
        assertEquals(
                "BAND1",
                rs.getChannelSelection()
                        .getGrayChannel()
                        .getChannelName()
                        .evaluate(null, String.class));
    }

