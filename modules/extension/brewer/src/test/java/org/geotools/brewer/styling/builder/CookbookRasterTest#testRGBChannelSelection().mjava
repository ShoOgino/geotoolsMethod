    @Test
    public void testRGBChannelSelection() {
        final RasterSymbolizerBuilder rsb = new RasterSymbolizerBuilder();
        final ChannelSelectionBuilder cs = rsb.channelSelection();
        cs.red().channelName("BAND1");
        cs.green().channelName("BAND3");
        cs.blue().channelName("BAND5");
        Style style = rsb.buildStyle();

        StyleCollector collector = new StyleCollector();
        style.accept(collector);
        assertSimpleStyle(collector);

        // check the symbolizer
        RasterSymbolizer rs = (RasterSymbolizer) collector.symbolizers.get(0);
        final SelectedChannelType[] rgbChannels = rs.getChannelSelection().getRGBChannels();
        assertEquals("BAND1", rgbChannels[0].getChannelName().evaluate(null, String.class));
        assertEquals("BAND3", rgbChannels[1].getChannelName().evaluate(null, String.class));
        assertEquals("BAND5", rgbChannels[2].getChannelName().evaluate(null, String.class));
        assertNull(rs.getChannelSelection().getGrayChannel());
    }

