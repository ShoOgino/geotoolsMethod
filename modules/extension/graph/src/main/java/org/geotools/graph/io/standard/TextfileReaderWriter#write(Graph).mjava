    /**
     * Performs a write on the graph out to a text file. If the NODES property is set, the nodes of
     * the graph will be written, and if the EDGES property is set, the edges of the graph will be
     * written.
     *
     * <p>* @see GraphGenerator#write()
     */
    public void write(Graph g) throws Exception {
        // create the file writer
        BufferedWriter out = new BufferedWriter(new FileWriter((String) getProperty(FILENAME)));

        // check NODES property
        if (getProperty(NODES) != null) {
            for (Iterator itr = g.getNodes().iterator(); itr.hasNext(); ) {
                writeNode(out, (Node) itr.next());
            }
        }

        // check EDGES property
        if (getProperty(EDGES) != null) {
            for (Iterator itr = g.getEdges().iterator(); itr.hasNext(); ) {
                writeEdge(out, (Edge) itr.next());
            }
        }
    }

