    @Override
    public Graphable add(Object obj) {
        Node node = (Node) get(obj);
        if (node == null) {
            node = builder.buildNode();
            builder.addNode(node);

            node.setObject(obj);
            relate(node);

            // TODO: the envelope should be buffered by some tolerance
            index.insert(((Polygon) obj).getEnvelopeInternal(), node);
        }

        return node;
    }

