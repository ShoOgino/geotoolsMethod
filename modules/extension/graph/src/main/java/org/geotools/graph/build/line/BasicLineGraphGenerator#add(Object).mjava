  /**
   * Adds a line to the graph. 
   * 
   * @param obj An instance of LineSegment.
   * 
   * @return A BasicEdge.
   * 
   * @see LineSegment
   * @see GraphGenerator#add(Object)
   */
  public Graphable add(Object obj) {
    LineSegment line = (LineSegment)obj;
    Coordinate c; 
    Node n1, n2;
    
    //check first coordinate
    c = line.p0;
    if ((n1 = (Node)m_coord2node.get(c)) == null) {
      //first time coordinate seen, create node for it
      n1 = getGraphBuilder().buildNode();
      
      //set underlying object to coordinate 
      //n1.setObject(c);
      setObject(n1, c);
      
      getGraphBuilder().addNode(n1);
      m_coord2node.put(c,n1);
    }
    
    //check second coordinate
    c = line.p1;
    if ((n2 = (Node)m_coord2node.get(c)) == null) {
      //first time coordinate seen, create node for it
      n2 = getGraphBuilder().buildNode();
      
      //set underlying object to coordiante 
      //n2.setObject(c);
      setObject(n2,c);
      
      getGraphBuilder().addNode(n2);
      m_coord2node.put(c,n2); 
    }
    
    //build the edge setting underlying object to line
    Edge e = getGraphBuilder().buildEdge(n1,n2);
    //e.setObject(line);
    setObject(e, line);
    
    getGraphBuilder().addEdge(e);
    
    //return the created edge
    return(e);  
  }

