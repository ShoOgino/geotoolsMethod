    /** @deprecated this used to only work on windows */
    @Deprecated
    public static void unzip(String zipFilename, String[] filenames, String outdir)
            throws IOException {

        try (ZipFile zipFile = new ZipFile(zipFilename)) {
            Enumeration entries = zipFile.entries();

            L1:
            while (entries.hasMoreElements()) {
                ZipEntry entry = (ZipEntry) entries.nextElement();

                for (String filename : filenames) {
                    if (entry.getName().equals(filename)) {
                        Utilities.assertNotZipSlipVulnarable(
                                new File(outdir, filename), Paths.get(outdir));
                        byte[] buffer = new byte[1024];
                        int len;

                        try (InputStream zipin = zipFile.getInputStream(entry);
                                BufferedOutputStream fileout =
                                        new BufferedOutputStream(
                                                new FileOutputStream(new File(outdir, filename)))) {

                            while ((len = zipin.read(buffer)) >= 0) fileout.write(buffer, 0, len);

                            zipin.close();
                            fileout.flush();
                            fileout.close();
                        }

                        continue L1;
                    }
                }
            }
        }
    }

