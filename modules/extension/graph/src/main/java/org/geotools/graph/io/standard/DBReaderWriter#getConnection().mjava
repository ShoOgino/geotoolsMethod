    /**
     * Opens a connection to the database, based on set properties.
     *
     * @return Connection to the database.
     * @throws Exception
     */
    protected Connection getConnection() throws Exception {
        // read database + driver properties
        String driverclass = (String) getProperty(DRIVERCLASS);
        String driverurl = (String) getProperty(DRIVERURL);
        String server = (String) getProperty(SERVER);
        String port = (String) getProperty(PORT);
        String dbname = (String) getProperty(DBNAME);
        String username = (String) getProperty(USERNAME);

        Class.forName(driverclass);
        return (DriverManager.getConnection(
                driverurl + server + ":" + port + "/" + dbname + "?user=" + username));
    }

