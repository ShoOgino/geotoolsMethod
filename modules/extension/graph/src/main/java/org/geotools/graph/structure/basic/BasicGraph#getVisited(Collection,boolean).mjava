    /*
     * Internal getVisited method.
     */
    private List getVisited(Collection components, boolean visited) {
        final boolean isVisited = visited;
        return (query(
                components,
                new GraphVisitor() {
                    public int visit(Graphable component) {
                        if (component.isVisited() == isVisited) return (PASS_AND_CONTINUE);
                        return (FAIL_QUERY);
                    }
                }));
    }

