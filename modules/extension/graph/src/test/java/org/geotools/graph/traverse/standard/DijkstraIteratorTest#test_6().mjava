    /**
     * Create a circular graph and perform a full traversal. <br>
     * <br>
     * Expected : 1. For nodes with id < (total # of nodes) / 2: a. parent should be node with id -
     * 1 b. cost == id 2. For nodes with id > (total # of nodes) / 2; a. parent should be node with
     * id + 1 b. cost == total # of nodes - id
     */
    public void test_6() {
        int nnodes = 100;
        Node[] ends = GraphTestUtil.buildCircular(builder(), nnodes);

        CountingWalker walker = new CountingWalker();

        final DijkstraIterator iterator = createIterator();
        iterator.setSource(ends[0]);

        BasicGraphTraversal traversal =
                new BasicGraphTraversal(builder().getGraph(), walker, iterator);
        traversal.init();
        traversal.traverse();

        GraphVisitor visitor =
                new GraphVisitor() {
                    public int visit(Graphable component) {
                        Graphable parent = iterator.getParent(component);
                        if (component.getID() < 50 && component.getID() > 0) {
                            assertEquals(iterator.getCost(component), (double) component.getID());
                            assertEquals(parent.getID(), component.getID() - 1);
                        } else if (component.getID() > 50 && component.getID() < 99) {
                            assertEquals(
                                    iterator.getCost(component), (double) 100 - component.getID());
                            assertEquals(parent.getID(), component.getID() + 1);
                        } else if (component.getID() == 0) {
                            assertNull(parent);
                            assertEquals(0d, iterator.getCost(component));
                        } else if (component.getID() == 99) {
                            assertEquals(0, parent.getID());
                            assertEquals(1d, iterator.getCost(component));
                        }

                        return (0);
                    }
                };

        builder().getGraph().visitNodes(visitor);
        assertEquals(walker.getCount(), nnodes);
    }

