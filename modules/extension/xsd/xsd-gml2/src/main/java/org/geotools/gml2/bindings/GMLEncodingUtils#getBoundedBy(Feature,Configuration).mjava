    /**
     * Return gml:boundedBy property if wanted.
     * 
     * @param feature
     *            feature for which bounds might be required
     * @param configuration
     *            encoder configuration, used to suppress feature bounds
     * @return the feature bounds, or null if none or unwanted
     */
    private BoundingBox getBoundedBy(Feature feature, Configuration configuration) {
        // check for flag not to include bounds
        if (configuration.hasProperty(GMLConfiguration.NO_FEATURE_BOUNDS)) {
            return null;
        } else {
            BoundingBox bounds = feature.getBounds();
            // do a check for the case where the feature has no geometry properties
            if (bounds.isEmpty()
                    && (feature.getDefaultGeometryProperty() == null || feature
                            .getDefaultGeometryProperty().getValue() == null)) {
                return null;
            } else {
                return bounds;
            }
        }
    }

