    public static Integer getEnvelopeDimension(ReferencedEnvelope e, Configuration configuration) {
        if (e == null || e.isNull() || e.getCoordinateReferenceSystem() == null) {
            return null;
        }

        // check if srsDimension is turned off
        if (configuration.hasProperty(GMLConfiguration.NO_SRS_DIMENSION)) {
            return null;
        }

        return e.getCoordinateReferenceSystem().getCoordinateSystem().getDimension();
    }

