    @SuppressWarnings({"unchecked", "rawtypes"})
    void setMetadata(Geometry g, String metadata, String value) {
        if (g.getUserData() == null) {
            g.setUserData(new HashMap());
        }
        if (g.getUserData() instanceof Map) {
            ((Map) g.getUserData()).put(metadata, value);
        }
    }

