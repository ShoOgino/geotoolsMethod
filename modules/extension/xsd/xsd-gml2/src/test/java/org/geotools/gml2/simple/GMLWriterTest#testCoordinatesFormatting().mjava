    public void testCoordinatesFormatting() throws Exception {
        PointEncoder encoder = new PointEncoder(gtEncoder, "gml");
        Geometry geometry = new WKTReader2().read("POINT(21396814.969 0 50)");
        Document doc = encode(encoder, geometry, 2, true, false);
        assertEquals("21396814.97,0,50", xpath.evaluate("//gml:coordinates", doc));

        doc = encode(encoder, geometry, 4, true, true);
        assertEquals("21396814.9690,0.0000,50.0000", xpath.evaluate("//gml:coordinates", doc));

        doc = encode(encoder, geometry, 4, false, false);
        assertEquals("2.1396814969E7,0,50", xpath.evaluate("//gml:coordinates", doc));
    }

