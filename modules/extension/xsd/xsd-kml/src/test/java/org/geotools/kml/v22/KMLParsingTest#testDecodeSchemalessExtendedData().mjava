    public void testDecodeSchemalessExtendedData() throws Exception {
        SimpleFeature doc = parseSamples("schemalessExtendedData.kml");
        @SuppressWarnings("unchecked")
        List<SimpleFeature> features = (List) doc.getAttribute("Feature");

        for (SimpleFeature f : features) {
            Map<Object, Object> ud = f.getUserData();
            Object o = ud.get("UntypedExtendedData");
            // every features from the schemalessExtendedData.kml sample contain at least 1 extended
            // data attribute
            assert (o != null && o instanceof HashMap && ((HashMap) o).keySet().size() > 1);
        }
    }

