    /**
     *
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     *
     * @generated modifiable
     */
    public Object parse(ElementInstance instance, Node node, Object value) throws Exception {
        // retype from the abstract feature type, since extended data could have altered the schema
        // placemarks add an additional geometry field
        SimpleFeature feature = (SimpleFeature) value;
        SimpleFeatureType abstractFeatureType = feature.getFeatureType();
        SimpleFeatureTypeBuilder tb = new SimpleFeatureTypeBuilder();
        tb.init(abstractFeatureType);
        tb.setName("placemark");
        tb.add("Geometry", Geometry.class);
        tb.setDefaultGeometry("Geometry");
        SimpleFeatureType placemarkFeatureType = tb.buildFeatureType();

        SimpleFeatureBuilder b = new SimpleFeatureBuilder(placemarkFeatureType);

        b.init(feature);

        // &lt;element minOccurs="0" ref="kml:Geometry"/&gt;
        for (Object childObj : node.getChildren(Geometry.class)) {
            Node childNode = (Node) childObj;
            String componentName = childNode.getComponent().getName();
            if (SUPPORTED_GEOMETRY_TYPES.contains(componentName)) {
                b.set("Geometry", childNode.getValue());
            }
        }

        return b.buildFeature(feature.getID());
    }

