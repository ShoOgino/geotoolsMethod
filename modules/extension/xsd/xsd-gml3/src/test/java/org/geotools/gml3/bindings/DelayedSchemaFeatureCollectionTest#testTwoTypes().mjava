    @Test
    public void testTwoTypes() {
        DelayedSchemaFeatureCollection fc = new DelayedSchemaFeatureCollection();
        fc.add(riverFeatures[0]);
        fc.add(lakeFeatures[0]);
        // the type is the one of the first feature
        assertEquals(riverType, fc.getSchema());
        // but we can get both un-modified
        try(SimpleFeatureIterator it = fc.features()) {
            assertEquals(riverFeatures[0], it.next());
            assertEquals(lakeFeatures[0], it.next());
            assertFalse(it.hasNext());
        }
    }

