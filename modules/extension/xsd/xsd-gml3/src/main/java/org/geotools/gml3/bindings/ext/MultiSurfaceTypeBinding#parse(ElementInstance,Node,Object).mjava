    public Object parse(ElementInstance instance, Node node, Object value) throws Exception {

        // we keep the same sequence order as in the xsd:

        // &lt;element maxOccurs="unbounded" minOccurs="0" ref="gml:surfaceMember"/&gt;
        @SuppressWarnings("unchecked")
        List<MultiPolygon> surfaceMemberList = node.getChildValues("surfaceMember");
        // &lt;element minOccurs="0" ref="gml:surfaceMembers"/&gt;
        @SuppressWarnings("unchecked")
        MultiPolygon surfaceMembers = (MultiPolygon) node.getChildValue("surfaceMembers");

        List<Polygon> polygons = new ArrayList<>();

        if (surfaceMemberList != null) {
            for (MultiPolygon surface : surfaceMemberList) {
                for (int i = 0; i < surface.getNumGeometries(); i++) {
                    Polygon polygon = (Polygon) surface.getGeometryN(i);
                    polygons.add(polygon);
                }
            }
        }

        if (surfaceMembers != null) {
            for (int i = 0; i < surfaceMembers.getNumGeometries(); i++) {
                Polygon polygon = (Polygon) surfaceMembers.getGeometryN(i);
                polygons.add(polygon);
            }
        }

        return gf.createMultiPolygon(polygons.toArray(new Polygon[polygons.size()]));
    }

