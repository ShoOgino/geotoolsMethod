    /**
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     *
     * @generated modifiable
     */
    public Object parse(ElementInstance instance, Node node, Object value)
        throws Exception {
        SimpleFeatureCollection featureCollection = 
            (SimpleFeatureCollection) node.getChildValue(FeatureCollection.class);
        if (featureCollection == null) {
            featureCollection = new DelayedSchemaFeatureCollection();
        }

        //&lt;element maxOccurs="unbounded" minOccurs="0" ref="gml:featureMember"/&gt;
        List<SimpleFeature> childValues = node.getChildValues(SimpleFeature.class);
        
        // example DefaultFeatureCollections or ListFeatureCollection
        Collection<SimpleFeature> collection = DataUtilities.collectionCast( featureCollection );
        collection.addAll(childValues);

        //&lt;element minOccurs="0" ref="gml:featureMembers"/&gt;
        SimpleFeature[] featureMembers = (SimpleFeature[]) node.getChildValue(SimpleFeature[].class);

        if (featureMembers != null) {
            for (int i = 0; i < featureMembers.length; i++) {
                collection.add(featureMembers[i]);
            }
        }

        return featureCollection;
    }

