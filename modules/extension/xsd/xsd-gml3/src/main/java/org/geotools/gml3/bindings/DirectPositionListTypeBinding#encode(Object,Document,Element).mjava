    /**
     * @param object a CoordinateSequence
     * @see AbstractComplexBinding#encode(java.lang.Object, org.w3c.dom.Document,
     *     org.w3c.dom.Element)
     */
    @Override
    public Element encode(Object object, Document document, Element value) throws Exception {
        CoordinateSequence cs = (CoordinateSequence) object;
        StringBuffer sb = new StringBuffer();

        int dim = CoordinateSequences.coordinateDimension(cs);
        int size = cs.size();
        int nOrdWithSpace = size * dim - 1;
        int count = 0;
        for (int i = 0; i < size; i++) {
            for (int d = 0; d < dim; d++) {
                double ordinate = cs.getOrdinate(i, d);
                if (formatter != null) {
                    formatter.format(ordinate, sb);
                } else {
                    sb.append(ordinate);
                }

                if (count < nOrdWithSpace) {
                    sb.append(" ");
                }
                count++;
            }
        }

        value.appendChild(document.createTextNode(sb.toString()));

        return value;
    }

