    public static EObject FeatureCollectionType_parse(
            EObject fct, ElementInstance instance, Node node) {

        SimpleFeatureCollection fc = null;

        // gml:featureMembers
        fc = (SimpleFeatureCollection) node.getChildValue(FeatureCollection.class);
        if (fc == null) {
            fc = new DefaultFeatureCollection(null, null);
        }

        // check for an array
        SimpleFeature[] featureMembers = node.getChildValue(SimpleFeature[].class);
        if (featureMembers != null) {
            Collection<SimpleFeature> collection = DataUtilities.collectionCast(fc);
            for (int i = 0; i < featureMembers.length; i++) {
                collection.add(featureMembers[i]);
            }
        } else {
            Collection<SimpleFeature> collection = DataUtilities.collectionCast(fc);
            List<SimpleFeature> featureMember = node.getChildValues(SimpleFeature.class);
            for (SimpleFeature f : featureMember) {
                collection.add(f);
            }
        }

        if (!fc.isEmpty()) {
            if (EMFUtils.has(fct, "feature")) {
                // wfs 1.0, 1.1
                EMFUtils.add(fct, "feature", fc);
            } else {
                // wfs 2.0
                EMFUtils.add(fct, "member", fc);
            }
        }

        return fct;
    }

