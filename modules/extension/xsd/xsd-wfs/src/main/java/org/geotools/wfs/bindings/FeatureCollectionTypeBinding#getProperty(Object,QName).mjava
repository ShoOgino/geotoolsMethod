    @Override
    public Object getProperty(Object object, QName name) throws Exception {
        FeatureCollectionType fc = (FeatureCollectionType) object;
        if ( !fc.getFeature().isEmpty() ) {
            FeatureCollection first = (FeatureCollection) fc.getFeature().get( 0 );
            
            if( GML.boundedBy.equals( name ) ) {
                if ( fc.getFeature().size() == 1 ) {
                    return first.getBounds();    
                }
                else {
                    //aggregate
                    ReferencedEnvelope bounds = new ReferencedEnvelope(first.getBounds());
                    for ( int i = 1; i < fc.getFeature().size(); i++ ) {
                        FeatureCollection features = (FeatureCollection) fc.getFeature().get( i );
                        bounds.expandToInclude( features.getBounds() );
                    }
                    return bounds;
                }
                
            }
            
            if ( GML.featureMember.equals( name ) ) {
                if (fc.getFeature().size() > 1) {
                    //wrap in a single
                    return new CompositeFeatureCollection(fc.getFeature());
                }

                //just return the single
                return first;
            }    
        }
        
        return super.getProperty(object, name);
    }

