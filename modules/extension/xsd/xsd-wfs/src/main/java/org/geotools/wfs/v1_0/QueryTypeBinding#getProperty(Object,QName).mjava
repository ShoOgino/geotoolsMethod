    @Override
    public Object getProperty(Object object, QName name) throws Exception {
        if ("typeName".equals(name.getLocalPart())) {
            QueryType query = (QueryType) object;
            if (!query.getTypeName().isEmpty()) {
                // bit of a hack but handle both string and qname
                Object obj = query.getTypeName().get(0);
                if (obj instanceof String) {
                    obj = new XSQNameBinding(namespaceContext).parse(null, obj);
                }
                return obj;
            }
            return null;
        } else if ("PropertyName".equals(name.getLocalPart())) {
            List<PropertyName> l = new ArrayList<>();
            @SuppressWarnings("unchecked")
            List<String> property = (List<String>) super.getProperty(object, name);
            for (String s : property) {
                l.add(filterFactory.property(s));
            }
            return l;
        } else {
            return super.getProperty(object, name);
        }
    }

