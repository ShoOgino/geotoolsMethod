    @Test
    public void testGML3FeatureIterator() throws Exception {
        URL url = TestData.getResource(this, "states.xml");
        GML gml = new GML(Version.GML3);
        try (InputStream in = url.openStream();
                SimpleFeatureIterator iter = gml.decodeFeatureIterator(in)) {
            assertTrue(iter.hasNext());
            int count = 0;
            while (iter.hasNext()) {
                SimpleFeature feature = iter.next();
                assertNotNull(feature);
                count++;
            }
            assertEquals(2, count);
        }
    }

