    void assertOperationsMetadata(WFSCapabilitiesType caps) {
        OperationsMetadataType om = caps.getOperationsMetadata();
        Assert.assertNotNull(om);

        // assertEquals(6, om.getOperation().size());

        OperationType getCapsOp = (OperationType) om.getOperation().get(0);
        Assert.assertEquals("GetCapabilities", getCapsOp.getName());
        Assert.assertEquals(1, getCapsOp.getDCP().size());

        DCPType dcp1 = (DCPType) getCapsOp.getDCP().get(0);
        Assert.assertEquals(1, dcp1.getHTTP().getGet().size());
        Assert.assertEquals(1, dcp1.getHTTP().getPost().size());

        Assert.assertEquals(
                "http://localhost:8080/geoserver/wfs?get",
                ((RequestMethodType) dcp1.getHTTP().getGet().get(0)).getHref());
        Assert.assertEquals(
                "http://localhost:8080/geoserver/wfs?post",
                ((RequestMethodType) dcp1.getHTTP().getPost().get(0)).getHref());

        int i = 1;
        Assert.assertEquals(
                "DescribeFeatureType", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals("GetFeature", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals(
                "GetPropertyValue", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals(
                "ListStoredQueries", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals(
                "DescribeStoredQueries", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals(
                "CreateStoredQuery", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals(
                "DropStoredQuery", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals("LockFeature", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals(
                "GetFeatureWithLock", ((OperationType) om.getOperation().get(i++)).getName());
        Assert.assertEquals("Transaction", ((OperationType) om.getOperation().get(i++)).getName());
    }

