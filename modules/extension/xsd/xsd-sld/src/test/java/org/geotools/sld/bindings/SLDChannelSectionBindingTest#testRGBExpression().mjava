    /** Test Expression ENV function on ChannelSelection */
    public void testRGBExpression() throws Exception {
        SLDMockData.channelSelectionExpression(document, document);

        ChannelSelection cs = (ChannelSelection) parse();
        assertNotNull(cs);

        // test default value: 1
        EnvFunction.removeLocalValue("B1");
        assertEquals(
                cs.getRGBChannels()[0].getChannelName().evaluate(null, Integer.class).intValue(),
                1);
        // test ENV variable B1:20
        EnvFunction.setLocalValue("B1", "20");
        assertEquals(
                cs.getRGBChannels()[0].getChannelName().evaluate(null, Integer.class).intValue(),
                20);
        EnvFunction.removeLocalValue("B1");

        assertEquals(
                cs.getRGBChannels()[1].getChannelName().evaluate(null, Integer.class).intValue(),
                2);
        assertEquals(
                cs.getRGBChannels()[2].getChannelName().evaluate(null, Integer.class).intValue(),
                3);
    }

