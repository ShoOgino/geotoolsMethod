    /**
     * Returns a value from a map based property of an eobject, handling null cases and the case
     * where the property is not actually a map.
     *
     * <p>This method returns null in cases where the the property does not exist, or it is not a
     * map.
     *
     * @param eobject The object.
     * @param property The map property.
     * @param key The key to obtain from the map.
     * @return The map value, possibly <code>null</code>.
     */
    public static Object getFromMapSafe(EObject eobject, String property, String key) {
        if (!has(eobject, property)) {
            return null;
        }

        Object o = get(eobject, property);
        if (o == null || !(o instanceof Map)) {
            return null;
        }

        return ((Map) o).get(key);
    }

