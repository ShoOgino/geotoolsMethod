    @Override
    public ComponentAdapter getComponentAdapter(Object componentKey) {
        if (componentKey == null) {
            return null;
        }

        Object o = get(componentKey);
        if (o == null) {
            return null;
        }

        if (o instanceof Class) {
            // TODO: determine which form of injection to use
            return new ConstructorInjectionComponentAdapter(componentKey, (Class) o);
        }

        return new InstanceComponentAdapter(componentKey, o);
    }

