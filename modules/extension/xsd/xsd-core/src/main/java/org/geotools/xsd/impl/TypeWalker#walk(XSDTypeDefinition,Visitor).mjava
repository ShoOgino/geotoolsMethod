    /** Walks from the bottom of the type hierarchy to the top. */
    public void walk(XSDTypeDefinition base, Visitor visitor) {
        List types = types(base);

        for (Object o : types) {
            XSDTypeDefinition type = (XSDTypeDefinition) o;

            // do the visit, if visitor returns false, break out
            if (!visitor.visit(type)) {
                break;
            }
        }
    }

