        public void addEdge(Configuration from, Configuration to) {
            DepNode src = addNode(from);
            DepNode dst = addNode(to);

            DepEdge dep = src.getEdge(dst);
            if (dep != null) {
                return;
            }

            // ensure two configurations not dependent on each other
            if (dst.getEdge(src) != null) {
                throw new IllegalArgumentException("Cycle between " + from + ", " + to);
            }

            dep = new DepEdge(src, dst);
            src.edges.add(dep);
            dst.edges.add(dep);
        }

