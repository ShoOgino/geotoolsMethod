    @Override
    protected void endElementInternal(ElementHandler handler) {
        super.endElementInternal(handler);

        if (stream(handler)) {
            // throw value into buffer
            buffer.put(handler.getParseNode().getValue());

            // remove this node from parse tree
            if (handler.getParentHandler() instanceof ElementHandler) {
                ElementHandler parent = (ElementHandler) handler.getParentHandler();
                ((NodeImpl) parent.getParseNode()).removeChild(handler.getParseNode());

                // parent.endChildHandler(handler);
            }
        }
    }

