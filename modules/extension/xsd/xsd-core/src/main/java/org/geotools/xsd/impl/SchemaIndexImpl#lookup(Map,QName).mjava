    protected XSDNamedComponent lookup(Map index, QName qName) {
        XSDNamedComponent component = (XSDNamedComponent) index.get(qName);

        if (component != null) {
            return component;
        }

        // check for namespace wildcard
        if ("*".equals(qName.getNamespaceURI())) {
            List<XSDNamedComponent> matches = new ArrayList<>();

            for (Object o : index.entrySet()) {
                Map.Entry entry = (Map.Entry) o;
                QName name = (QName) entry.getKey();

                if (name.getLocalPart().equals(qName.getLocalPart())) {
                    matches.add((XSDNamedComponent) entry.getValue());
                }
            }

            if (matches.size() == 1) {
                return matches.get(0);
            }
        }

        return null;
    }

