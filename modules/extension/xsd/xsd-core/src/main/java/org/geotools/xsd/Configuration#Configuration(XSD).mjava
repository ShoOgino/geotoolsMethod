    /**
     * Creates a new configuration.
     *
     * <p>Any dependent schemas should be added in subclass constructor. The xml schema dependency
     * does not have to be added.
     */
    public Configuration(XSD xsd) {
        this.xsd = xsd;
        dependencies = Collections.synchronizedList(new ArrayList<>());

        // bootstrap check
        if (!(this instanceof XSConfiguration)) {
            dependencies.add(new XSConfiguration());
        }

        properties = Collections.synchronizedSet(new HashSet<>());
        context = new DefaultPicoContainer();
    }

