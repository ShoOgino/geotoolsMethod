    /**
     * Returns the subset of {@link #getTypeSchema()} which maintains a unique java class to xml
     * type mapping.
     */
    public final Schema getTypeMappingProfile() {
        if (typeMappingProfile == null) {
            synchronized (this) {
                typeMappingProfile = buildTypeMappingProfile(getTypeSchema());
            }
        }
        return typeMappingProfile;
    }

