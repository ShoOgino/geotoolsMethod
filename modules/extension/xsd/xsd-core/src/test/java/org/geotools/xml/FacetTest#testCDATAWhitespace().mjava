    public void testCDATAWhitespace() throws Exception {
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        dbf.setNamespaceAware(true);

        DocumentBuilder db = dbf.newDocumentBuilder();
        Document doc = db.parse(getClass().getResourceAsStream("whitespace-cdata.xml"));

        String schemaLocation = "http://geotools.org/test "
            + getClass().getResource("facets.xsd").getFile();

        doc.getDocumentElement()
           .setAttributeNS("http://www.w3.org/2001/XMLSchema-instance", "schemaLocation",
            schemaLocation);

        DOMParser parser = new DOMParser(new XSConfiguration(), doc);
        String s = (String) parser.parse();

        assertEquals(" this is a \n" + " normal string \n" + " with some whitespace and \n"
                + " some new lines", s);
    }

