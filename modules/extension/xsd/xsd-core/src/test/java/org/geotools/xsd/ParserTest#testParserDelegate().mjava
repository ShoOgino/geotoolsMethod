    @Test
    public void testParserDelegate() throws Exception {
        MLConfiguration config = new MLConfiguration();

        MyParserDelegate delegate = new MyParserDelegate();
        Assert.assertFalse(delegate.foo);
        Assert.assertFalse(delegate.bar);

        config.getContext().registerComponentInstance(delegate);

        Parser parser = new Parser(config);
        Object o = parser.parse(ParserTest.class.getResourceAsStream("parserDelegate.xml"));

        Assert.assertTrue(delegate.foo);
        Assert.assertTrue(delegate.bar);
    }

