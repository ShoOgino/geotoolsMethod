    @Override
    public List getProperties(Object object, XSDElementDeclaration element) throws Exception {
        BBOX box = (BBOX) object;

        List properties = new ArrayList();
        Envelope env = null;
        try {
            String srs = box.getSRS();
            if (srs != null) {
                CoordinateReferenceSystem crs = CRS.decode(srs);
                env =
                        new ReferencedEnvelope(
                                box.getMinX(), box.getMaxX(), box.getMinY(), box.getMaxY(), crs);
            }
        } catch (Throwable t) {
            // never mind
        }
        if (env == null) {
            env = new Envelope(box.getMinX(), box.getMaxX(), box.getMinY(), box.getMaxY());
        }

        properties.add(new Object[] {ENVELOPE_PARTICLE, env});
        return properties;
    }

