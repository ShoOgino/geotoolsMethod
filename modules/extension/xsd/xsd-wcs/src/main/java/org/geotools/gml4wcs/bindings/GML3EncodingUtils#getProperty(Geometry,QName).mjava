    /**
     * Helper method used to implement {@link ComplexBinding#getProperty(Object, QName)} for
     * bindings of geometry reference types:
     *
     * <ul>
     *   <li>GeometryPropertyType
     *   <li>PointPropertyType
     *   <li>LineStringPropertyType
     *   <li>PolygonPropertyType
     * </ul>
     */
    static Object getProperty(Geometry geometry, QName name) {

        if (GML._Geometry.equals(name)
                || GML.Point.equals(name)
                || GML.LineString.equals(name)
                || GML.Polygon.equals(name)) {
            // if the geometry is null, return null
            if (isEmpty(geometry)) {
                return null;
            }

            return geometry;
        }

        if (XLINK.HREF.equals(name)) {
            // only process if geometry is empty
            if (isEmpty(geometry)) {
                String id = GML3EncodingUtils.getID(geometry);
                if (id != null) {
                    return "#" + id;
                }
            }
        }

        return null;
    }

