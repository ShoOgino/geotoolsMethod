    public void testBackwardLikeFilterWithFunction() throws Exception {
        String f =
                "<ogc:Filter  xmlns:ogc=\"http://www.opengis.net/ogc\"><ogc:PropertyIsLike wildCard=\"*\" singleChar=\"#\" escapeChar=\"!\">\n"
                        + "<ogc:Literal>M*</ogc:Literal>\n"
                        + "<ogc:Function name=\"strToLowerCase\"><ogc:PropertyName>gml:name</ogc:PropertyName></ogc:Function>\n"
                        + "</ogc:PropertyIsLike></ogc:Filter>";
        Configuration configuration = new org.geotools.filter.v1_0.OGCConfiguration();
        Parser parser = new Parser(configuration);
        Filter filter = (Filter) parser.parse(new ByteArrayInputStream(f.getBytes()));
        Document doc = encode(filter, OGC.Filter);
        // print(doc);

        assertEquals(
                1,
                doc.getDocumentElement()
                        .getElementsByTagNameNS(OGC.NAMESPACE, OGC.PropertyName.getLocalPart())
                        .getLength());
        assertEquals(
                1,
                doc.getDocumentElement()
                        .getElementsByTagNameNS(OGC.NAMESPACE, OGC.Literal.getLocalPart())
                        .getLength());

        Element e = getElementByQName(doc, OGC.PropertyIsLike);
        assertEquals("*", e.getAttribute("wildCard"));
        assertEquals("#", e.getAttribute("singleChar"));
        assertEquals("!", e.getAttribute("escape"));
    }

