    public void testDWithinUnitsInCustomFormat() throws Exception {
        Document dom = encode(FilterMockData.dwithin(1.0, "mi"), OGC.DWithin);

        assertEquals(1, dom.getElementsByTagNameNS(OGC.NAMESPACE, "Distance").getLength());
        assertEquals(
                "1.0",
                dom.getElementsByTagNameNS(OGC.NAMESPACE, "Distance")
                        .item(0)
                        .getFirstChild()
                        .getNodeValue());
        assertEquals(
                "mi",
                ((Element)
                                dom.getElementsByTagNameNS(
                                                OGC.NAMESPACE, OGC.Distance.getLocalPart())
                                        .item(0))
                        .getAttribute("units"));
    }

