    /**
     *
     * <!-- begin-user-doc -->
     * <!-- end-user-doc -->
     *
     * @generated modifiable
     */
    public Object parse(ElementInstance instance, Node node, Object value) throws Exception {
        // TODO: crs
        PropertyName propertyName = node.getChildValue(PropertyName.class);
        Envelope box = node.getChildValue(Envelope.class);

        if (box instanceof ReferencedEnvelope) {
            return factory.bbox(
                    propertyName == null ? factory.property("") : propertyName,
                    (ReferencedEnvelope) box);
        } else {
            String name = null;
            if (propertyName != null) {
                name = propertyName.getPropertyName();
            }
            // JD: this is a bit hackish, we know that "" means default geometry
            // in SimpleFeaturePropertyAccessor, so instead of dying here set
            // to empty string to mean defualt geometry
            // TODO: come up with something a bit more concrete
            if (name == null) {
                name = "";
            }

            Node srsNode = node.getChild(Envelope.class).getAttribute("srsName");
            String srs = (srsNode != null) ? srsNode.getValue().toString() : null;

            if ((srs == null) && (crs != null)) {
                srs = GML2EncodingUtils.toURI(crs);
            }

            return factory.bbox(
                    name, box.getMinX(), box.getMinY(), box.getMaxX(), box.getMaxY(), srs);
        }
    }

