    /**
     * Encodes an object representing a {@link Quantity} into a DistanceType element type.
     *
     * @throws IncommensurableException If the supplied object does not represent a valid Length
     *     unit type (such as m, mi, etc.)
     */
    public Element encode(Object object, Document document, Element value) throws Exception {
        // noinspection unchecked
        Quantity<Length> distance = (Quantity<Length>) object;
        if (!distance.getUnit().isCompatible(SI.METRE)) {
            throw new IncommensurableException(
                    "Could not parse type: " + distance.getUnit() + " into SI Metres");
        }
        value.appendChild(document.createTextNode(distance.getValue().toString()));
        value.setAttribute("units", distance.getUnit().toString());

        return value;
    }

