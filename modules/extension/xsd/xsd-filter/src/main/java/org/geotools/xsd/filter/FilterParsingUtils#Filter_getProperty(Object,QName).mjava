    public static Object Filter_getProperty(Object object, QName qName) {
        Filter filter = (Filter) object;

        // use the local name to handle oth the OGC and FES namespaces
        String name = qName.getLocalPart();

        // &lt;xsd:element ref="ogc:spatialOps"/&gt;
        if ("spatialOps".equals(name) && filter instanceof BinarySpatialOperator) {
            return filter;
        }

        // &lt;xsd:element ref="ogc:comparisonOps"/&gt;
        if ("comparisonOps".equals(name)) {
            // JD: extra check here because many of our spatial implementations
            // extend both
            if (filter instanceof BinaryComparisonOperator
                    && !(filter instanceof BinarySpatialOperator)) {
                return filter;
            } else {
                // filters that don't extend BinaryComparisonOperator but are still
                // comparisonOps
                if (filter instanceof PropertyIsLike
                        || filter instanceof PropertyIsNull
                        || filter instanceof PropertyIsBetween) {
                    return filter;
                }
            }
        }

        // &lt;xsd:element ref="ogc:logicOps"/&gt;
        if ("logicOps".equals(name)
                && (filter instanceof BinaryLogicOperator || filter instanceof Not)) {
            return filter;
        }
        // &lt;xsd:element ref="ogc:temporalOps"/&gt;
        if ("temporalOps".equals(name) && (filter instanceof BinaryTemporalOperator)) {
            return filter;
        }

        // &lt;xsd:element maxOccurs="unbounded" ref="ogc:_Id"/&gt;
        if (filter instanceof Id
                && ("_Id".equals(name) /*1.1/2.0*/ || "FeatureId".equals(name) /*1.0*/)) {
            // unwrap
            Id id = (Id) filter;

            return id.getIdentifiers();
        }

        return null;
    }

