    /**
     * Internal cast to map used by constructor.
     * 
     * @param obj
     * @return Map
     * @throws IllegalArgumentException
     */
    static Map<String, Object> cast(Object obj) {
        if (!(obj instanceof Map)) {
            throw new IllegalArgumentException(obj + " is not a map");
        }
        return (Map<String, Object>) obj;
    }

