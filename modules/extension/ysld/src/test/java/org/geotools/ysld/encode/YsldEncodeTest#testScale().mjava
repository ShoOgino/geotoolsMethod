    @Test
    public void testScale() throws Exception {
        FilterFactory2 filterFactory = CommonFactoryFinder.getFilterFactory2();
        StyleFactory styleFactory = CommonFactoryFinder.getStyleFactory();

        StyledLayerDescriptor sld = styleFactory.createStyledLayerDescriptor();

        UserLayer layer = styleFactory.createUserLayer();
        sld.layers().add(layer);

        Style style = styleFactory.createStyle();
        layer.userStyles().add(style);

        style.featureTypeStyles().add(styleFactory.createFeatureTypeStyle());

        Rule rule = styleFactory.createRule();

        rule.setMinScaleDenominator(5_000_000);
        rule.setMaxScaleDenominator(10_000_000);

        style.featureTypeStyles().get(0).rules().add(rule);

        rule = styleFactory.createRule();

        rule.setMinScaleDenominator(2_000_000);
        rule.setMaxScaleDenominator(5_000_000);

        style.featureTypeStyles().get(0).rules().add(rule);

        StringWriter out = new StringWriter();
        Ysld.encode(sld, out);

        YamlMap obj = new YamlMap(new Yaml().load(out.toString()));
        YamlSeq result = obj.seq("feature-styles").map(0).seq("rules");

        assertThat(
                result,
                yHasItem(
                        0,
                        yHasEntry(
                                "scale",
                                yTuple(numEqualTo(5_000_000, 0.1), numEqualTo(10_000_000, 0.1)))));
        assertThat(
                result,
                yHasItem(
                        1,
                        yHasEntry(
                                "scale",
                                yTuple(numEqualTo(2_000_000, 0.1), numEqualTo(5_000_000, 0.1)))));
    }

