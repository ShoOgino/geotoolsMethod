    @SuppressWarnings("unchecked")
    @Test
    public void testColourMapEntries() throws Exception {
        StringBuilder builder = new StringBuilder();
        builder.append("raster: \n" + "  color-map:\n" + "    type: values\n" + "    entries:\n");
        builder.append("    - [\"#ff0000\", 1.0, 0, \"start\"]\n"); // 5 OK
        builder.append("    - [red, 1, 0, \"blah\"]\n"); // 6 OK
        builder.append("    - [\"rgb(0,0,0)\", null, 0, \"start\"]\n"); // 7 OK
        builder.append("    - [\"#ff0000\", '', 0, null]\n"); // 8 OK
        builder.append(
                "    - [\"${[something]}\", \"${[something]}\", \"${[something]}\", null]\n"); // 9
        // OK

        builder.append(
                "    - [\"#ff0000\", \"${round([len] 1000)}\", 0, \"start\"]\n"); // 10 Bad opacity
        builder.append("    - [\"#ff0000\", 1.0, \"${round([len] 1000)}\", \"start\"]\n"); // 11 Bad
        // quantity

        List<MarkedYAMLException> errors = validate(builder.toString());
        assertThat(
                errors,
                contains(
                        hasProperty("problemMark", problemOn(10)),
                        hasProperty("problemMark", problemOn(11))));
    }

