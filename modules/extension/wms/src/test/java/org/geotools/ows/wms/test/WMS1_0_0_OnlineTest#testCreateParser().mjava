    @Test
    public void testCreateParser() throws Exception {
        WMSCapabilities capabilities = createCapabilities("1.0.0Capabilities.xml");
        Assert.assertEquals(capabilities.getVersion(), "1.0.0");
        Assert.assertEquals(capabilities.getService().getName(), "GetMap");
        Assert.assertEquals(capabilities.getService().getTitle(), "World Map");

        for (int i = 0; i < capabilities.getService().getKeywordList().length; i++) {
            Assert.assertEquals(
                    capabilities.getService().getKeywordList()[i],
                    "OpenGIS WMS Web Map Server".split(" ")[i]);
        }

        Assert.assertEquals(
                capabilities.getService().getOnlineResource(), new URL("http://www2.demis.nl"));
        Assert.assertEquals(
                capabilities.getRequest().getGetCapabilities().getFormats().get(0),
                "application/vnd.ogc.wms_xml");
        Assert.assertEquals(
                capabilities.getRequest().getGetFeatureInfo().getGet(),
                new URL("http://www2.demis.nl/wms/wms.asp?wms=WorldMap&"));
        Assert.assertEquals(capabilities.getRequest().getGetMap().getFormats().size(), 4);

        Assert.assertEquals(capabilities.getLayerList().size(), 21);

        Layer[] layers =
                capabilities.getLayerList().toArray(new Layer[capabilities.getLayerList().size()]);
        Assert.assertEquals(layers[0].getTitle(), "World Map");
        Assert.assertNull(layers[0].getParent());
        Assert.assertTrue(layers[0].getSrs().contains("EPSG:4326")); //  case should not matter
        Assert.assertTrue(layers[0].getSrs().contains("EPSG:4327"));
        Assert.assertEquals(layers[1].getTitle(), "Bathymetry");
        Assert.assertEquals(layers[1].getName(), "Bathymetry");
        Assert.assertEquals(layers[20].getTitle(), "Ocean features");
        Assert.assertEquals(layers[20].getName(), "Ocean features");
        Assert.assertEquals(layers[0].getBoundingBoxes().size(), 1);

        CRSEnvelope bbox = layers[1].getBoundingBoxes().get("EPSG:4326");
        Assert.assertNotNull(bbox);
    }

