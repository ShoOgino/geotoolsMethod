        /*
         * (non-Javadoc)
         *
         * @see org.geotools.xml.schema.Type#getValue(org.geotools.xml.schema.Element,
         *      org.geotools.xml.schema.ElementValue[], org.xml.sax.Attributes,
         *      java.util.Map)
         */
        @Override
        public Object getValue(Element element, ElementValue[] value, Attributes attrs, Map hints)
                throws SAXException, OperationNotSupportedException {
            AddressImpl address = new AddressImpl();

            for (ElementValue elementValue : value) {
                //				if (sameName(elems[0], value[i])) {
                //					String addressType = (String) value[0].getValue();
                //					//nothing to do with address Type - it does not fit into the
                //					GeoAPI citation
                // model
                //				}

                if (sameName(elems[1], elementValue)) {
                    String address1 = (String) elementValue.getValue();
                    address.setDeliveryPoints(Collections.singleton(address1));
                }

                if (sameName(elems[2], elementValue)) {
                    String city = (String) elementValue.getValue();
                    address.setCity(new SimpleInternationalString(city));
                }

                if (sameName(elems[3], elementValue)) {
                    String state = (String) elementValue.getValue();
                    address.setAdministrativeArea(new SimpleInternationalString(state));
                }

                if (sameName(elems[4], elementValue)) {
                    String postalCode = (String) elementValue.getValue();
                    address.setPostalCode(postalCode);
                }

                if (sameName(elems[5], elementValue)) {
                    String country = (String) elementValue.getValue();
                    address.setCountry(new SimpleInternationalString(country));
                }
            }

            return address;
        }

