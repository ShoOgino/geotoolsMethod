		/*
		 * (non-Javadoc)
		 * 
		 * @see org.geotools.xml.schema.Type#getValue(org.geotools.xml.schema.Element,
		 *      org.geotools.xml.schema.ElementValue[], org.xml.sax.Attributes,
		 *      java.util.Map)
		 */
		public Object getValue(Element element, ElementValue[] value,
				Attributes attrs, Map hints) throws SAXException,
				OperationNotSupportedException {

			if (value != null && value.length >= 1) {
				try {
					return new URL((String) value[value.length - 1].getValue());
				} catch (MalformedURLException e1) {
				}
			}

			String href = attrs.getValue("", "href");
			href = href != null ? href : attrs.getValue(XLinkSchema.NAMESPACE
					.toString(), "href");
			try {
				return new URL(href);
			} catch (MalformedURLException e) {
				e.printStackTrace();
				return null;
			}
		}

