    /**
     * Creates a GetFeatureInfoRequest that can be configured and then passed to issueRequest().
     *
     * @param getMapRequest a previous configured GetMapRequest
     * @return a GetFeatureInfoRequest
     * @throws UnsupportedOperationException if the server does not support GetFeatureInfo
     */
    public GetFeatureInfoRequest createGetFeatureInfoRequest(GetMapRequest getMapRequest) {
        if (getCapabilities().getRequest().getGetFeatureInfo() == null) {
            throw new UnsupportedOperationException(
                    "This Web Map Server does not support GetFeatureInfo requests");
        }

        URL onlineResource = findURL(getCapabilities().getRequest().getGetFeatureInfo());

        GetFeatureInfoRequest request =
                getSpecification().createGetFeatureInfoRequest(onlineResource, getMapRequest);

        return request;
    }

