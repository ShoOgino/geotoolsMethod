        /*
         * (non-Javadoc)
         *
         * @see org.geotools.xml.schema.Type#getValue(org.geotools.xml.schema.Element,
         *      org.geotools.xml.schema.ElementValue[], org.xml.sax.Attributes,
         *      java.util.Map)
         */
        public Object getValue(Element element, ElementValue[] value, Attributes attrs, Map hints)
                throws SAXException, OperationNotSupportedException {

            ResponsiblePartyImpl contactPerson = null;
            for (ElementValue elementValue1 : value) {
                if (sameName(elems[0], elementValue1)) {
                    contactPerson = (ResponsiblePartyImpl) elementValue1.getValue();
                }
            }
            if (contactPerson == null) {
                contactPerson = new ResponsiblePartyImpl();
            }

            TelephoneImpl telephone = null;
            AddressImpl address = null;
            ContactImpl contact = new ContactImpl();

            for (ElementValue item : value) {

                contactPerson.setContactInfo(contact);

                if (sameName(elems[1], item)) {
                    String positionName = (String) item.getValue();
                    contactPerson.setPositionName(new SimpleInternationalString(positionName));
                }

                if (sameName(elems[2], item)) {
                    address = (AddressImpl) item.getValue();
                }

                if (sameName(elems[3], item)) {
                    Collection<String> voices = Collections.singleton((String) item.getValue());
                    if (telephone == null) {
                        telephone = new TelephoneImpl();
                    }
                    telephone.setVoices(voices);
                }

                if (sameName(elems[4], item)) {
                    Collection<String> fax = Collections.singleton((String) item.getValue());
                    if (telephone == null) {
                        telephone = new TelephoneImpl();
                    }
                    telephone.setFacsimiles(fax);
                }

                contact.setPhone(telephone);
            }

            for (ElementValue elementValue : value) {
                if (sameName(elems[5], elementValue)) {
                    String email = (String) elementValue.getValue();

                    if (address == null) {
                        address = new AddressImpl();
                    }
                    address.setElectronicMailAddresses(Collections.singleton(email));
                }
            }
            contact.setAddress(address);

            return contactPerson;
        }

