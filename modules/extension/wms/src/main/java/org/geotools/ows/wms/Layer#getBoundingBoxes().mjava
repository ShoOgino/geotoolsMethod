    /**
     * Returns every BoundingBox associated with this layer. The <code>HashMap</code> returned has
     * each bounding box's SRS Name (usually an EPSG code) value as the key, and the value is the
     * <code>BoundingBox</code> object itself.
     *
     * <p>Implements inheritance: if this layer's bounding box is null, query ancestors until the
     * first bounding box is found or no more ancestors
     *
     * @return a HashMap of all of this layer's bounding boxes or null if no bounding boxes found
     */
    public synchronized Map<String, CRSEnvelope> getBoundingBoxes() {
        if (allBoundingBoxesCache == null) {
            allBoundingBoxesCache = new HashMap<String, CRSEnvelope>();

            for (CRSEnvelope bbox : getLayerBoundingBoxes()) {
                allBoundingBoxesCache.put(bbox.getSRSName(), bbox);
            }

            Layer parent = this.getParent();
            while (parent != null && allBoundingBoxesCache.size() == 0) {
                for (CRSEnvelope bbox : parent.getLayerBoundingBoxes()) {
                    allBoundingBoxesCache.put(bbox.getSRSName(), bbox);
                }
                parent = parent.getParent();
            }
        }
        // May return empty. But that is OK since spec says 0 or more may be specified
        return allBoundingBoxesCache;
    }

