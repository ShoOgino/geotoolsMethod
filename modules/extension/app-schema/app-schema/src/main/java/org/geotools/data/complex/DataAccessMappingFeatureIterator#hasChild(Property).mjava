    private boolean hasChild(Property property) throws DataSourceException {
        boolean result = false;

        if (hasChildElementOnUserData(property)) {
            return true;
        } else if (property.getValue() instanceof Collection) {

            Collection collection = (Collection) property.getValue();

            if (this.getClientProperties(property).containsKey(XLINK_HREF_NAME)) {
                return true;
            }

            ArrayList values = new ArrayList();
            for (Object o : collection) {
                if (o instanceof Property) {
                    if (hasChild((Property) o)) {
                        values.add(o);
                        result = true;
                    } else if (getEncodeIfEmpty((Property) o)) {
                        values.add(o);
                        result = true;
                    } else if (((Property) o).getDescriptor().getMinOccurs() > 0) {
                        if (((Property) o).getDescriptor().isNillable()) {
                            // add nil mandatory property
                            values.add(o);
                        }
                    }
                }
            }
            property.setValue(values);
        } else if (property.getName().equals(ComplexFeatureConstants.FEATURE_CHAINING_LINK_NAME)) {
            // ignore fake attribute FEATURE_LINK
            result = false;
        } else if (property.getValue() != null && property.getValue().toString().length() > 0) {
            result = true;
        }
        return result;
    }

