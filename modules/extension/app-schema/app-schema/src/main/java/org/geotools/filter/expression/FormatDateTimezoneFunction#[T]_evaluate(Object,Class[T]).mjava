    @SuppressWarnings("unchecked")
    public <T> T evaluate(Object object, Class<T> context) {
        if (parameters.size() != 3) {
            throw new RuntimeException(getName() + ": wrong number of parameters ("
                    + parameters.size() + " not 3)");
        }
        // can this ever fail?
        String pattern = parameters.get(0).evaluate(object, String.class);
        // seems to only ever return null of failure
        Date date = parameters.get(1).evaluate(object, Date.class);
        if (date == null) {
            throw new RuntimeException(getName() + ": could not parse date: "
                    + (String) parameters.get(1).evaluate(object, String.class));
        }
        // fails silently for unrecognised time zone
        TimeZone timezone = TimeZone.getTimeZone(parameters.get(2).evaluate(object, String.class));
        // broken patterns corrupt output but do not cause exceptions
        DateFormat dateFormat = new SimpleDateFormat(pattern);
        dateFormat.setTimeZone(timezone);
        return (T) dateFormat.format(date);
    }

