    /**
     * Open an instance (cursor) for a specific caller. An instance holds a cursor and any
     * additional information to move through the features.
     *
     * @param caller
     * @param baseTableQuery
     * @throws IOException
     */
    public void open(Object caller, Query baseTableQuery, FeatureTypeMapping mapping)
            throws IOException {
        if (instances.get(caller) != null) {
            throw new IllegalArgumentException(
                    "Trying to open Joining Nested Attribute Mapping that is already open!");
        } else {
            Instance instance = new Instance();
            instance.baseTableQuery = baseTableQuery;
            instance.mapping = mapping;

            instances.put(caller, instance);
        }
    }

