    public XmlMappingFeatureIterator(AppSchemaDataAccess store, FeatureTypeMapping mapping,
            Query query, String xpath, String value) throws IOException {
        super(store, mapping, query, false);

        idXpath = mapping.getFeatureIdExpression().equals(Expression.NIL) ? "@id" : mapping
                                .getFeatureIdExpression().toString();

        if (xmlResponse == null) {
            this.xmlResponse = ((XmlFeatureCollection) sourceFeatures).xmlResponse(xpath, value);
        }

        List<Integer> ls = xmlResponse.getValidFeatureIndex();
        count = ls.size();
    }

