    protected Map<Name, Expression> getClientProperties(Property attribute)
            throws DataSourceException {

        Map<Object, Object> userData = attribute.getUserData();
        Map<Name, Expression> clientProperties = new HashMap<>();
        if (userData != null && userData.containsKey(Attributes.class)) {
            @SuppressWarnings("unchecked")
            Map<Name, Expression> props = (Map) userData.get(Attributes.class);
            if (!props.isEmpty()) {
                clientProperties.putAll(props);
            }
        }
        return clientProperties;
    }

