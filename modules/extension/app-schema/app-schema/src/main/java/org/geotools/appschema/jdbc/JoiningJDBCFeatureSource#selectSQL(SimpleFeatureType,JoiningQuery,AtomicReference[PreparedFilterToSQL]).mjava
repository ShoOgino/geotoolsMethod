    /**
     * Generates a 'SELECT p1, p2, ... FROM ... WHERE ...' prepared statement.
     *
     * @param featureType the feature type that the query must return (may contain less attributes
     *     than the native one)
     * @param query the query to be run. The type name and property will be ignored, as they are
     *     supposed to have been already embedded into the provided feature type
     * @param toSQLref atomic reference to a FilterToSQL able to works with PreparedStament
     *     parameters
     */
    public String selectSQL(
            SimpleFeatureType featureType,
            JoiningQuery query,
            AtomicReference<PreparedFilterToSQL> toSQLref)
            throws SQLException, IOException, FilterToSQLException {
        return selectSQL(featureType, query, toSQLref, false);
    }

