    /**
     * A filter is considered <em>nested</em> if it operates on at least one nested attribute.
     * 
     * <p>
     * Technically, this means that at least one of the expressions in it is an instance of {@link NestedAttributeExpression}.
     * </p>
     * 
     * @param filter the filter to test
     * @return <code>true</code> if the filter involves at least one nested attribute, <code>false</code> otherwise
     */
    public static boolean isNestedFilter(Filter filter) {
        FilterAttributeExtractor extractor = new FilterAttributeExtractor();
        filter.accept(extractor, null);
        return hasNestedAttributes(extractor.getPropertyNameSet());
    }

