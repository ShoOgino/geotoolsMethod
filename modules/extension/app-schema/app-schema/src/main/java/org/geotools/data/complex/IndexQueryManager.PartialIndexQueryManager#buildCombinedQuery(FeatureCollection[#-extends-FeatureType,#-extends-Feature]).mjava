        public Query buildCombinedQuery(
                FeatureCollection<? extends FeatureType, ? extends Feature> featureCollection) {
            List<String> ids =
                    FeatureStreams.toFeatureStream(featureCollection)
                            .map(Feature::getIdentifier)
                            .map(FeatureId::getID)
                            .collect(Collectors.toList());
            Filter filter1 = buildCombinedFilter(ids);
            Query query1 = new Query(query);
            query1.setFilter(filter1);
            return query1;
        }

