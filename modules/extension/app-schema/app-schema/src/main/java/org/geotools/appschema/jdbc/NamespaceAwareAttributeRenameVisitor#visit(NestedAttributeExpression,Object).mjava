    /**
     * Creates a copy of the input {@link NestedAttributeExpression} with renamed attributes.
     *
     * @param expression the expression to visit
     * @param extraData if an instance of {@link FilterFactory2} is passed, it is used to build the
     *     returned expression
     * @return a new {@link NestedAttributeExpression} expression with renamed attributes
     */
    public Expression visit(NestedAttributeExpression expression, Object extraData) {
        if (expression == null) return null;
        if (expression.getPropertyName().equals(sourceProperty)) {
            return getFactory(extraData).property(targetProperty, expression.getNamespaceContext());
        }
        return expression;
    }

