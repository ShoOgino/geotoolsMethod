    private void setIdValues(AttributeMapping mapping, List<Feature> features, List<Object> values) {
        Expression exp = null;
        if (mapping == null || mapping.getIdentifierExpression() == Expression.NIL) {
            // no specific attribute mapping or that idExpression is not mapped
            // use primary key
            exp = CommonFactoryFinder.getFilterFactory(null).property("@id");
        } else {
            exp = mapping.getIdentifierExpression();
        }    
        if (exp != null) {
            for (Feature f : features) {
                Object value = getValue(exp, f);
                if (value != null) {
                    values.add(value);
                }
            }  
        }
    }

