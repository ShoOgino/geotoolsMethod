    /** Checks that an attribute value is correctly converted to the expected type. */
    public void testAttributeConversion() {
        // create an attribute containing a double
        AttributeDescriptor descriptor =
                new AttributeDescriptorImpl(
                        XSSchema.DOUBLE_TYPE,
                        ComplexFeatureConstants.SIMPLE_CONTENT,
                        1,
                        1,
                        true,
                        null);
        AttributeImpl attribute = new AttributeImpl(35.0, descriptor, null);
        // convert the attribute to a number
        Object result = Converters.convert(attribute, Double.class);
        assertThat(result, instanceOf(Double.class));
        assertThat(result, is(35.0));
        // convert the attribute to a string
        result = Converters.convert(attribute, String.class);
        assertThat(result, instanceOf(String.class));
        assertThat(result, is("35.0"));
    }

