    @Test
    public void testPartialInstance() throws IOException {
        try (TestFeatureSource fsource =
                new TestFeatureSource(
                        "/test-data/index/",
                        "stationsIndexed.xml",
                        "http://www.stations.org/1.0",
                        "stationsIndexed")) {
            FeatureCollection<FeatureType, Feature> fcoll =
                    fsource.getMappedSource()
                            .getFeatures(this.partialIndexedFilter_2idxfilterResults());
            FeatureIterator<Feature> iterator = fcoll.features();
            assertTrue(iterator instanceof PartialIndexedMappingFeatureIterator);
            List<Feature> features =
                    FeatureStreams.toFeatureStream(fcoll).collect(Collectors.toList());
            assertEquals(features.size(), 6);
            assertEquals(features.get(0).getIdentifier().getID(), "st.1");
            assertEquals(features.get(1).getIdentifier().getID(), "st.2");
            assertEquals(features.get(2).getIdentifier().getID(), "st.5");
            assertEquals(features.get(3).getIdentifier().getID(), "st.6");
            assertEquals(features.get(4).getIdentifier().getID(), "st.10");
            assertEquals(features.get(5).getIdentifier().getID(), "st.11");
        }
    }

