    protected List<Feature> getFeatures(FeatureCollection<FeatureType, Feature> features) {
        try (FeatureIterator<Feature> iterator = features.features()) {
            List<Feature> retVal = new ArrayList<>();
            while (iterator.hasNext()) {
                retVal.add(iterator.next());
            }
            return retVal;
        }
    }

