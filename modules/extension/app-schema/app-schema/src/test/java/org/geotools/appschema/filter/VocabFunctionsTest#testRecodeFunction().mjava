    /** Test RecodeFunction */
    @Test
    public void testRecodeFunction() throws IOException {
        final Map<String, String> VALUE_MAP =
                new HashMap<String, String>() {
                    {
                        put("sc.1", "a");
                        put("sc.2", "b");
                        put("sc.3", "c");
                    }
                };
        try (FeatureIterator<Feature> features = exCollection.features()) {
            while (features.hasNext()) {
                Feature feature = features.next();
                String fId = feature.getIdentifier().getID();
                String recodedName = VALUE_MAP.get(fId);
                // gml[3]: <OCQL>Recode(STRING, 'string_one', 'a', 'string_two', 'b',
                // 'string_three',
                // 'c')</OCQL>
                ComplexAttribute complexAttribute =
                        (ComplexAttribute) ff.property("gml:name[3]").evaluate(feature);
                String value =
                        Converters.convert(
                                GML3EncodingUtils.getSimpleContent(complexAttribute), String.class);
                assertEquals(recodedName, value);
            }
        }
    }

