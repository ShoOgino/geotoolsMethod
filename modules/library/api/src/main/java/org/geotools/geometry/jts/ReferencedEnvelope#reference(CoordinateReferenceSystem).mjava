    /**
     * Utility method to create a ReferencedEnvelope from an opengis Envelope class,
     * supporting 2d as well as 3d envelopes (returning the right class).
     * 
     * @param env The opgenis Envelope object
     * @return ReferencedEnvelope, ReferencedEnvelope3D if it is 3d
     */
    public static ReferencedEnvelope reference(CoordinateReferenceSystem crs) {
        if (crs != null && crs.getCoordinateSystem().getDimension() > 2 ){
            return new ReferencedEnvelope3D(crs);
        }
        return new ReferencedEnvelope(crs);
    }

