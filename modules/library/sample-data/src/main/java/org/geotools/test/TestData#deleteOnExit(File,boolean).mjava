    /**
     * Requests that the file or directory denoted by the specified pathname be deleted when the
     * virtual machine terminates. This method can optionnaly delete the file only if it has been
     * modified, thus giving a chance for test suites to copy their resources only once.
     *
     * @param file The file to delete.
     * @param force If {@code true}, delete the file in all cases. If {@code false}, delete the file
     *     if and only if it has been modified. The default value if {@code true}.
     * @since 2.4
     */
    protected static void deleteOnExit(final File file, final boolean force) {
        if (force) {
            file.deleteOnExit();
        }
        final Deletable entry = new Deletable(file, force);
        synchronized (toDelete) {
            if (file.isFile()) {
                toDelete.addFirst(entry);
            } else {
                toDelete.addLast(entry);
            }
        }
    }

