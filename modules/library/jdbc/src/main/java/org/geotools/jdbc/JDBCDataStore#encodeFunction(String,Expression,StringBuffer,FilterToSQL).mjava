    protected void encodeFunction(String function,  Expression expression, StringBuffer sql, FilterToSQL filterToSQL) {
        sql.append(function).append("(");
        if (expression == null) {
            sql.append("*");
        } else {
            try {
                sql.append(filterToSQL.encodeToString(expression));
            } catch (FilterToSQLException e) {
                throw new RuntimeException(e);
            }
        }
        sql.append(")");
    }

