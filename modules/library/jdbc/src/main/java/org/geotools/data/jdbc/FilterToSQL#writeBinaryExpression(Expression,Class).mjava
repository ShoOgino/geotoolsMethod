    /*
     * write out the binary expression and cast only the end result, not passing any context into
     * encoding the individual parts
     */
    void writeBinaryExpression(Expression e, Class context) throws IOException {
        Writer tmp = out;
        try {
            out = new StringWriter();
            out.write("(");
            e.accept(this, null);
            out.write(")");
            tmp.write(cast(out.toString(), context));
        
        }
        finally {
            out = tmp;
        }
    }

