    /**
     * Constructs WHERE clause, if needed, for FILTER.
     * 
     * <p>
     * sql: <code>WHERE filter encoding</code>
     * </p>
     *
     * @param sql The StringBuffer that the WHERE clause should be appended to
     * @param preFilter The filter to be used by the encoder class to generate
     *        the WHERE clause
     *
     * @throws SQLEncoderException Not thrown here but may be thrown by the
     *         encoder
     * FIXME:  Throw FilterToSQLException when the parent interface is fixed.
     */
    public void sqlWhere(StringBuffer sql, Filter preFilter)
        throws SQLEncoderException {
        if ((preFilter != null) && (preFilter != Filter.INCLUDE)) {
            try {
                String where = encoder.encodeToString(preFilter);
                sql.append(" ");
                sql.append(where);
            } catch (FilterToSQLException fse) {
                throw new SQLEncoderException("", fse);
            }
        }
    }

