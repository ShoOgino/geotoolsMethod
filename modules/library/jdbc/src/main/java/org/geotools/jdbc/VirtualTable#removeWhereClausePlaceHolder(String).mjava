    /**
     * Helper method that will remove, if present, the where clause place holder from the provided
     * SQL query. If multiple where clause place holders are present an exception will be throw.
     */
    private static String removeWhereClausePlaceHolder(String sql) {
        int whereClauseIndex = sql.indexOf(WHERE_CLAUSE_PLACE_HOLDER);
        if (whereClauseIndex < 0) {
            // no where clause place holder provided
            return sql;
        }
        if (whereClauseIndex != sql.lastIndexOf(WHERE_CLAUSE_PLACE_HOLDER)) {
            // only a single where clause place holder is supported
            throw new RuntimeException(
                    String.format("SQL contains multiple where clause placeholders: %s.", sql));
        }
        // remove the where clause place holder
        return sql.replace(WHERE_CLAUSE_PLACE_HOLDER, "");
    }

