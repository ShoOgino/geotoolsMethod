    /**
     * Fills the insert parameters
     * 
     * @param statement
     * @param current
     * @param live DOCUMENT ME!
     * @throws IOException
     * @throws SQLException
     */
    private void fillUpdateParameters(PreparedStatement statement,
            SimpleFeature current,
            SimpleFeature live) throws IOException, SQLException {
        List<Object> attributes = current.getAttributes();
        List<AttributeDescriptor> attributeTypes = current.getFeatureType().getAttributeDescriptors();
        AttributeIO[] aios = queryData.getAttributeHandlers();
        FeatureTypeInfo ftInfo = queryData.getFeatureTypeInfo();

        // set new vales for other fields
        for (int i = 0; i < attributeTypes.size(); i++) {
            aios[i].write(statement, i + 1, attributes.get(i));
        }

        // set new values for the primary key
        int baseIndex = attributeTypes.size() + 1;

        if (!mapper.returnFIDColumnsAsAttributes() && !mapper.hasAutoIncrementColumns()) {
            baseIndex = fillPrimaryKeyParameters(statement, current, baseIndex);
        }

        // set the old values of the primary key in order to look up for the right tuple
        fillPrimaryKeyParameters(statement, live, baseIndex + 1);
    }

