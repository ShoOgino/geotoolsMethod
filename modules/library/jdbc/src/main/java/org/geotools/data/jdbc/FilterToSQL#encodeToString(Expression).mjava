    /**
     * purely a convenience method.
     *
     * <p>Equivalent to:
     *
     * <p>StringWriter out = new StringWriter(); new FilterToSQL(out).encode(filter);
     * out.getBuffer().toString();
     *
     * @param filter
     * @return a string representing the filter encoded to SQL.
     * @throws FilterToSQLException
     */
    public String encodeToString(Expression expression) throws FilterToSQLException {
        StringWriter out = new StringWriter();
        this.out = out;
        this.encode(expression);
        return out.getBuffer().toString();
    }

