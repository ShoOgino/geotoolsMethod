    /**
     * Releases an existing connection.
     */
    protected final void releaseConnection( Connection cx, JDBCState state ) {
        //if the state is based off the AUTO_COMMIT transaction, close the 
        // connection, otherwise wait until the transaction itself is closed to 
        // close the connection
        if ( state.getTransaction() == Transaction.AUTO_COMMIT ) {
            closeSafe( cx );
        }
    }

