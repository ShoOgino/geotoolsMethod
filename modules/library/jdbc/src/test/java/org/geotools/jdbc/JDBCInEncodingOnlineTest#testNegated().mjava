    public void testNegated() throws IOException {
        FilterFactory ff = dataStore.getFilterFactory();
        Function function = ff.function("in", ff.property(aname("intProperty")), ff.literal("1"), ff.literal("2"));
        Filter filter = ff.not(ff.equal(function, ff.literal("true"), false));

        SimpleFeatureSource fs = dataStore.getFeatureSource(tname("ft1"));
        SimpleFeatureCollection fc = fs.getFeatures(filter);
        assertEquals(getCaseInsensitiveSet("ft1.0"), collectFeatureIds(fc));
    }

