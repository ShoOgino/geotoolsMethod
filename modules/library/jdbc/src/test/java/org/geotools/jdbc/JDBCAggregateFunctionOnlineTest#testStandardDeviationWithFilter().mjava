    public void testStandardDeviationWithFilter() throws Exception {
        FilterFactory ff = dataStore.getFilterFactory();
        PropertyName p = ff.property(aname("doubleProperty"));

        MyStandardDeviationVisitor v = new MyStandardDeviationVisitor(p);
        Filter f = ff.greater(ff.property(aname("doubleProperty")), ff.literal(1));
        Query q = new Query(tname("ft1"), f);
        dataStore.getFeatureSource(tname("ft1")).accepts(q, v, null);
        assertFalse(visited);
        assertEquals(0.55, v.getResult().toDouble(), 0.01);
    }

