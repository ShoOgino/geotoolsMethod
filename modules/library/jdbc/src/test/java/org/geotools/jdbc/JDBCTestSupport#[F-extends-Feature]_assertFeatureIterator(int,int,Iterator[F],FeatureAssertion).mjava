    protected <F extends Feature>
        void assertFeatureIterator(int startIndex,
                                 int numberExpected,
                                 final Iterator<F> iterator,
                                 FeatureAssertion assertion) {
        FeatureIterator<F> adapter = new FeatureIterator<F>() {
            @Override
            public boolean hasNext() {
                return iterator.hasNext();
            }
            @Override
            public F next() {
                return iterator.next();
            }
            @Override
            public void close() {}
        };
        assertFeatureIterator(startIndex,numberExpected,adapter,assertion);
    }

