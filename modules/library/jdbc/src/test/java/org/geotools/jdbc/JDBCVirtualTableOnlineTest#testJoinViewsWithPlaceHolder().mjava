    public void testJoinViewsWithPlaceHolder() {
        Query joinQuery = new Query("riverFullPlaceHolder");
        FilterFactory ff = dataStore.getFilterFactory();
        Join join =
                new Join(
                        "riverFullPlaceHolder",
                        ff.equal(
                                ff.property("a." + aname("river")),
                                ff.property(aname("river")),
                                false));
        join.setAlias("a");
        joinQuery.getJoins().add(join);
        try {
            dataStore.getFeatureSource("riverFullPlaceHolder").getCount(joinQuery);
        } catch (Exception exception) {
            assertTrue(
                    exception
                            .getMessage()
                            .contains(
                                    "Joins between virtual tables that provide a "
                                            + ":where_placeholder: are not supported"));
            return;
        }
        fail("count query should have fail with an exception");
    }

