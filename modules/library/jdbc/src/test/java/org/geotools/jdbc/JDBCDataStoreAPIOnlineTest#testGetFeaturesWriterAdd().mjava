    public void testGetFeaturesWriterAdd() throws IOException {
        try (FeatureWriter<SimpleFeatureType, SimpleFeature> writer =
                dataStore.getFeatureWriter(tname("road"), Transaction.AUTO_COMMIT)) {
            while (writer.hasNext()) {
                writer.next();
            }

            assertFalse(writer.hasNext());

            SimpleFeature feature = writer.next();
            feature.setAttributes(td.newRoad.getAttributes());
            writer.write();

            assertFalse(writer.hasNext());

            assertEquals(td.roadFeatures.length + 1, count(tname("road")));
        }
    }

