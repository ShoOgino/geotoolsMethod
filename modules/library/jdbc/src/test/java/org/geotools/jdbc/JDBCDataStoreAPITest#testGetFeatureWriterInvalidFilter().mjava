    public void testGetFeatureWriterInvalidFilter() {
        FeatureWriter<SimpleFeatureType, SimpleFeature> writer;

        FilterFactory ff = CommonFactoryFinder.getFilterFactory(null);
        PropertyIsEqualTo f = ff.equals(ff.property("invalidAttribute"), ff.literal(5));

        // make sure a complaint related to the invalid filter is thrown here
        try { 
            writer= dataStore.getFeatureWriter("river", f, Transaction.AUTO_COMMIT);
            writer.close();
            fail("This query should have failed, it contains an invalid filter");
        } catch(Exception e) {
            // fine
        }

    }

