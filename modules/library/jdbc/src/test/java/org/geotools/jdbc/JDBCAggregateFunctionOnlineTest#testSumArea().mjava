    public void testSumArea() throws Exception {
        FilterFactory ff = dataStore.getFilterFactory();
        PropertyName p = ff.property( aname("geom") );
        
        SumAreaVisitor v = new MySumAreaVisitor(p);
        dataStore.getFeatureSource(tname("aggregate")).accepts(Query.ALL, v, null);
        assertEquals(visited, !dataStore.getFilterCapabilities().supports(FilterFunction_area.class));
        assertEquals( 30.0, v.getResult().toDouble(), 0.01 );
    }

