    public void testModifyMadeUpGeometry() throws IOException {
        // GEOT-2371
        SimpleFeatureType t = featureStore.getSchema();
        GeometryFactory gf = new GeometryFactory();
        Point point = gf.createPoint(new Coordinate(-10, 0));
        
        // make up a fake attribute with the same name, something that might happen
        // in chains of retyping where attributes are rebuilt
        AttributeTypeBuilder ab = new AttributeTypeBuilder();
        ab.binding(Point.class);
        AttributeDescriptor madeUp = ab.buildDescriptor(aname("geometry"));
        
        featureStore.modifyFeatures(new AttributeDescriptor[] { madeUp },
            new Object[] { point }, Filter.INCLUDE);

        SimpleFeatureCollection features = featureStore.getFeatures();
        try(SimpleFeatureIterator i = features.features()) {
            assertTrue(i.hasNext());
    
            while (i.hasNext()) {
                SimpleFeature feature = (SimpleFeature) i.next();
                assertTrue(point.equalsExact((Geometry) feature.getAttribute(aname("geometry"))));
            }
        }
    }

