    //put in more unPackOR's
    public void testComplex() throws IllegalFilterException {
        Filter orFilter = likeFilter.or(btwnFilter);
        Filter andFilter = orFilter.and(compFilter);
        unpacker.unPackAND(andFilter);

        //compFilter supported, none of orFilter: (orFilter, compFilter)
        assertEquals(orFilter, unpacker.getUnSupported());
        assertEquals(compFilter, unpacker.getSupported());

        Filter bigOrFilter = (andFilter.or(compFilter)).or(nullFilter);
        Filter biggerOrFilter = bigOrFilter.or(nullFilter);

        //Top level or with one unsupported (like from orFilter)
        //makes all unsupported: (bigOrFilter, null)
        unpacker.unPackAND(biggerOrFilter);
        assertEquals(biggerOrFilter, unpacker.getUnSupported());
        assertNull(unpacker.getSupported());

        Filter bigAndFilter = (geomFilter.and(compFilter)).and(orFilter);

        //comp supported, orFilter not, geomFilter not:
        //(orFilter AND geomFilter, compFilter)
        unpacker.unPackAND(bigAndFilter);
        assertEquals((orFilter.and(geomFilter)), unpacker.getUnSupported());
        assertEquals(compFilter, unpacker.getSupported());
        unpacker.unPackOR(bigAndFilter);
        assertEquals(bigAndFilter, unpacker.getUnSupported());
        assertNull(unpacker.getSupported());

        Filter hugeAndFilter = (bigAndFilter.and(andFilter)).and(bigOrFilter);
        unpacker.unPackAND(hugeAndFilter);

        // two comps should be supported; geom, or and bigOr unsupported
        // (compFilter AND compFilter, geomFilter AND orFilter AND orFilter AND bigOrFilter)
        assertEquals( (compFilter.and(compFilter)), unpacker.getSupported() );
        
        Filter expected = (((geomFilter.and(orFilter)).and(orFilter)).and(
                bigOrFilter));
        org.opengis.filter.Filter unsupported = unpacker.getUnSupported();

        assertEquals( expected, unsupported );
    }

