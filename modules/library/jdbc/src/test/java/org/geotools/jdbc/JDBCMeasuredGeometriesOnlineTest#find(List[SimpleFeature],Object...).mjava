    /** Gets all the features that match the provided attributes values. */
    private List<SimpleFeature> find(List<SimpleFeature> features, Object... attributesValues) {
        List<SimpleFeature> found = new ArrayList<>();
        for (SimpleFeature feature : features) {
            boolean matches = true;
            // check that this feature attributes match the provided attributes values
            for (int i = 0; i < attributesValues.length; i += 2) {
                String attribute = (String) attributesValues[i];
                Object value = feature.getAttribute(attribute);
                matches = Objects.equals(value, attributesValues[i + 1]);
            }
            if (matches) {
                // we got a match
                found.add(feature);
            }
        }
        return found;
    }

