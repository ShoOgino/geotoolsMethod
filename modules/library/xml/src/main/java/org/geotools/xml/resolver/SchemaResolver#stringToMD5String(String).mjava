    /**
     * Convert a string into an MD5 digest.
     * 
     * @param message
     *            The string whose MD5 digest you want to generate.
     * 
     * @return An MD5 digest generated from message, this string is always 32 characters long. Or
     *         returns null if there was an error.
     */
    private static String stringToMD5String(String message) {
        byte[] bytesOfMessage = null;
        MessageDigest md = null;
        try {
            bytesOfMessage = message.getBytes("UTF-8");
            md = MessageDigest.getInstance("MD5");
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
        return String.format("%032x", new BigInteger(1, md.digest(bytesOfMessage)));
    }

