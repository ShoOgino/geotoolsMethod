    /**
     * Entry Point to Document writer.
     *
     * <p>Hints:
     *
     * <ul>
     *   <li>BASE_ELEMENT - (Element) mapping of value to element instance
     *   <li>USE_NEAREST - (Boolean) not implemented
     *   <li>SCHEMA_ORDER - (String[] or Schema[]) resolve ambiguity & import
     * </ul>
     *
     * @param hints optional hints for writing
     */
    public static void writeFragment(
            Object value, Schema schema, Writer w, Map<String, Object> hints)
            throws OperationNotSupportedException, IOException {
        WriterContentHandler wch =
                new WriterContentHandler(schema, w, hints); // should deal with xmlns declarations

        writeFragment(value, wch);

        w.flush();
    }

