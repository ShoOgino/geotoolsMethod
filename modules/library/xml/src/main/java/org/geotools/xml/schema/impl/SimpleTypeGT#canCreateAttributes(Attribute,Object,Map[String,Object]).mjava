    /**
     * @see
     *     org.geotools.xml.schema.SimpleType#canCreateAttributes(org.geotools.xml.schema.Attribute,
     *     java.lang.Object, java.util.Map)
     */
    @Override
    public boolean canCreateAttributes(
            Attribute attribute, Object value, Map<String, Object> hints) {
        if (value == null) {
            return false;
        }

        if (type == UNION) {
            for (SimpleType parent : parents) {
                // finds first that works
                // TODO check that 'equals' works here
                if (parent.equals(attribute.getSimpleType())
                        && parent.canCreateAttributes(attribute, value, hints)) {
                    return true;
                }
            }

            return false;
        }

        if (type == LIST) {
            return parents[0].canCreateAttributes(attribute, value, hints);
        }

        return parents[0].canCreateAttributes(attribute, value, hints);
    }

