    public static FeatureReader<SimpleFeatureType, SimpleFeature> getFeatureReader(
            URI document, int capacity, int timeout, SimpleFeatureType ft) throws SAXException {
        FCBuffer fc = new FCBuffer(document, capacity, timeout, ft);
        fc.start(); // calls run

        if (fc.exception != null) {
            throw fc.exception;
        }

        if (fc.getFeatureType() != null
                && fc.getFeatureType().getGeometryDescriptor() != null
                && fc.getFeatureType().getGeometryDescriptor().getCoordinateReferenceSystem()
                        == null) {
            // load crs
            //                Feature f = fc.peek();
            // TODO set crs here.
        }
        return fc;
    }

