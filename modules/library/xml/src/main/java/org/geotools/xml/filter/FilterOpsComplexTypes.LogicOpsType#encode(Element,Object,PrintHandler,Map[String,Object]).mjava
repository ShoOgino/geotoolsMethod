        /**
         * @see org.geotools.xml.schema.Type#encode(org.geotools.xml.schema.Element,
         *     java.lang.Object, org.geotools.xml.PrintHandler, java.util.Map)
         */
        public void encode(
                Element element, Object value, PrintHandler output, Map<String, Object> hints)
                throws IOException, OperationNotSupportedException {
            if (!canEncode(element, value, hints)) {
                return;
            }
            if (value instanceof And) {
                BinaryLogicOpType.getInstance()
                        .encode(
                                new FilterElement("And", BinaryLogicOpType.getInstance(), element),
                                value,
                                output,
                                hints);
            } else if (value instanceof Or) {
                BinaryLogicOpType.getInstance()
                        .encode(
                                new FilterElement("Or", BinaryLogicOpType.getInstance(), element),
                                value,
                                output,
                                hints);

            } else if (value instanceof Not) {
                UnaryLogicOpType.getInstance()
                        .encode(
                                new FilterElement("Not", UnaryLogicOpType.getInstance(), element),
                                value,
                                output,
                                hints);
            } else {
                throw new OperationNotSupportedException(
                        "Unknown filter type in LogicFilter: " + value.getClass().getName());
            }
        }

