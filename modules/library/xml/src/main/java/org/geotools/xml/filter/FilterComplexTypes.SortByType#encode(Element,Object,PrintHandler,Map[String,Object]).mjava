        /**
         * @see org.geotools.xml.schema.Type#encode(org.geotools.xml.schema.Element,
         *     java.lang.Object, org.geotools.xml.PrintHandler, java.util.Map)
         */
        @Override
        public void encode(
                Element element, Object value, PrintHandler output, Map<String, Object> hints)
                throws IOException, OperationNotSupportedException {
            if (!canEncode(element, value, hints)) throw new IOException("Cannot encode");

            PropertyName[] pns = (PropertyName[]) value;

            AttributesImpl ai = null;
            if (hints != null && hints.containsKey(SortOrderType.SORT_ORDER_KEY)) {
                if (hints.get(SortOrderType.SORT_ORDER_KEY) == SortOrderType.SORT_ORDER_ASC) {
                    ai = new AttributesImpl();
                    ai.addAttribute(
                            FilterSchema.NAMESPACE.toString(), "sortOrder", null, "string", "ASC");
                }
            }
            output.startElement(element.getNamespace(), element.getName(), ai);
            for (PropertyName pn : pns) {
                elems[0].getType().encode(elems[0], pn, output, hints);
            }
            output.endElement(element.getNamespace(), element.getName());
        }

