    /**
     * Grab provided FilterFactory from hints, or use default provided by
     * FilterFactoryFinder.createFilterFactory();
     *
     * @param hints
     * @return FilterFactory
     */
    static FilterFactory2 filterFactory(Map map) {
        Hints hints = null;
        if (map instanceof Hints) {
            hints = (Hints) map;
        }
        return CommonFactoryFinder.getFilterFactory2(hints);
    }

