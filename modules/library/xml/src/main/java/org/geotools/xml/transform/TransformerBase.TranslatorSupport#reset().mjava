        /**
         * Discard pending write operations after a mark() has been set.
         *
         * <p>This method is safe to call even if no mark is set - so it returns to a "known good"
         * state as far as marks are concerned.
         *
         * @see #mark()
         */
        protected void reset() {
            pending.clear();
            backend = directBackend;
        }

