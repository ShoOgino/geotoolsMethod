        /**
         * @see org.geotools.xml.schema.Type#getValue(org.geotools.xml.schema.Element,
         *     org.geotools.xml.schema.ElementValue[], org.xml.sax.Attributes, java.util.Map)
         */
        public Object getValue(
                Element element, ElementValue[] value, Attributes attrs, Map<String, Object> hints)
                throws SAXException {

            FilterFactory2 factory = FilterSchema.filterFactory(hints);

            try {
                String string = (String) value[0].getValue(); // the spec says string!
                Object literal = string;
                try {
                    if (string.indexOf('.') != -1) {
                        literal = Double.valueOf(Double.parseDouble(string));
                    } else {
                        literal = Integer.valueOf(Integer.parseInt(string));
                    }
                } catch (NumberFormatException nonNumber) {
                    // ignore
                }
                return factory.literal(literal);
            } catch (IllegalFilterException e) {
                throw new SAXException("Illegal filter for " + element, e);
            }
        }

