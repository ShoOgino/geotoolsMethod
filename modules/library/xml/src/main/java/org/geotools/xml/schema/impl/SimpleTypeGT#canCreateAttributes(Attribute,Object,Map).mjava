    /**
     * @see
     *     org.geotools.xml.schema.SimpleType#canCreateAttributes(org.geotools.xml.schema.Attribute,
     *     java.lang.Object, java.util.Map)
     */
    public boolean canCreateAttributes(Attribute attribute, Object value, Map hints) {
        if (value == null) {
            return false;
        }

        if (type == UNION) {
            for (int i = 0; i < parents.length; i++) {
                // finds first that works
                // TODO check that 'equals' works here
                if (parents[i].equals(attribute.getSimpleType())
                        && parents[i].canCreateAttributes(attribute, value, hints)) {
                    return true;
                }
            }

            return false;
        }

        if (type == LIST) {
            return parents[0].canCreateAttributes(attribute, value, hints);
        }

        return parents[0].canCreateAttributes(attribute, value, hints);
    }

