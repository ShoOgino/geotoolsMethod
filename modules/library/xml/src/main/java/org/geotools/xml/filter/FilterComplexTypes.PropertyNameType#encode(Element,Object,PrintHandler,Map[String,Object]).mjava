        /**
         * @see org.geotools.xml.schema.Type#encode(org.geotools.xml.schema.Element,
         *     java.lang.Object, org.geotools.xml.PrintHandler, java.util.Map)
         */
        public void encode(
                Element element, Object value, PrintHandler output, Map<String, Object> hints)
                throws IOException, OperationNotSupportedException {
            if (!canEncode(element, value, hints)) {
                throw new OperationNotSupportedException(
                        "Cannot encode "
                                + ((element == null) ? "null" : element.getName())
                                + " "
                                + ((element == null) ? "null" : element.getNamespace().toString())
                                + " "
                                + ((value == null) ? null : value.getClass().getName()));
            }

            output.startElement(element.getNamespace(), element.getName(), null);

            if (value instanceof String) {
                output.characters((String) value);
            } else {
                PropertyName name = (PropertyName) value;
                output.characters(name.getPropertyName());
            }

            output.endElement(element.getNamespace(), element.getName());
        }

