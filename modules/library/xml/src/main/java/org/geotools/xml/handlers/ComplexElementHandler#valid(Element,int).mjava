    /*
     * Validates an Element tag
     * @see valid(ElementGrouping)
     */
    private int[] valid(Element element, int index) {

        // does this element equate to the index in the doc?

        int[] r = null;

        XMLElementHandler indexHandler = null;
        if (index < elements.size()) {
            indexHandler = elements.get(index);
        } else {
            // not found :)
            return new int[] {index, 0};
        }

        if (r == null && (indexHandler == null || indexHandler.getElement() == null))
            return new int[] {index, 0};

        if (r == null && indexHandler.getElement() == element) r = new int[] {index + 1, 1};

        if (r == null && element.getName() == null) return new int[] {index, 0};

        if (r == null
                && (element.getName() != null
                        && element.getName().equalsIgnoreCase(indexHandler.getName())))
            r = new int[] {index + 1, 1};
        if (r == null && element.getName() != null) {
            Element e = indexHandler.getElement();
            while (r == null && e != null) {
                if (element.getName().equalsIgnoreCase(e.getName())) {
                    r = new int[] {index + 1, 1};
                }
                e = e.getSubstitutionGroup();
            }
        }

        if (r == null) {
            r = new int[] {index, 0};
        }
        return r;
    }

