        /**
         * Encode the supplied feature type.
         *
         * @param type the feature type to encode
         */
        protected void encode(SimpleFeatureType type) {
            List attributes = type.getAttributeDescriptors();

            try {
                startSchemaType(type.getTypeName(), type.getName().getNamespaceURI());

                for (Object attribute : attributes) {
                    encode((AttributeDescriptor) attribute);
                }

                endSchemaType();
            } catch (SAXException e) {
                throw new RuntimeException(e);
            }
        }

