        /**
         * @see org.geotools.xml.schema.Type#canEncode(org.geotools.xml.schema.Element,
         *     java.lang.Object, java.util.Map)
         */
        public boolean canEncode(Element element, Object value, Map hints) {
            // TODO ensure equals works here
            return (value != null)
                    && value.getClass().equals(getInstanceType())
                    && (element.getType() != null)
                    && this.getClass().equals(element.getType().getClass());
        }

