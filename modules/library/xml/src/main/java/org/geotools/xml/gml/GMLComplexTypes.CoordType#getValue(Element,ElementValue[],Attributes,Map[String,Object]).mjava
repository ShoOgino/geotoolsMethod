        /** @see schema.Type#getValue(java.util.List) */
        public Object getValue(
                Element element, ElementValue[] value, Attributes attrs, Map<String, Object> hints)
                throws SAXException {
            Element e = value[0].getElement();

            if (e == null) {
                if (!element.isNillable())
                    throw new SAXException(
                            "Internal error, ElementValues require an associated Element.");
                return null;
            }

            Double x;
            Double y;
            Double z;
            x = y = z = null;

            for (ElementValue elementValue : value) {
                if (elements[0].getName().equals(elementValue.getElement().getName())) {
                    x = (Double) elementValue.getValue();
                }

                if (elements[1].getName().equals(elementValue.getElement().getName())) {
                    y = (Double) elementValue.getValue();
                }

                if (elements[2].getName().equals(elementValue.getElement().getName())) {
                    z = (Double) elementValue.getValue();
                }
            }

            if (x == null) {
                throw new SAXException("An X coord is required");
            }

            if (y == null) {
                return new Coordinate(x.doubleValue(), 0);
            }

            if (z == null) {
                return new Coordinate(x.doubleValue(), y.doubleValue());
            }

            return new Coordinate(x.doubleValue(), y.doubleValue(), z.doubleValue());
        }

