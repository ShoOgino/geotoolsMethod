    @Test
    public void testMaxRedirectionLimit() throws IOException, URISyntaxException {
        URL url = new URL("http://inspire.ec.europa.eu/schemas/common/1.0");
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        // this url has the header with a redirect
        Assert.assertNotNull(conn.getHeaderField("Location"));
        URI uri = new URI("http://inspire.ec.europa.eu/schemas/common/1.0");
        byte[] responseBody = SchemaCache.download(uri, 4096, 16);
        Assert.assertNull(responseBody);
    }

