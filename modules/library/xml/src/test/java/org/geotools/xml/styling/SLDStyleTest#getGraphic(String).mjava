    private ExternalGraphic getGraphic(String resourceName) throws IOException {
        URL surl = TestData.getResource(this, resourceName);
        SLDParser stylereader = new SLDParser(sf, surl);

        Style[] styles = stylereader.readXML();
        Assert.assertEquals(1, styles.length);
        Assert.assertEquals(1, styles[0].featureTypeStyles().size());
        Assert.assertEquals(1, styles[0].featureTypeStyles().get(0).rules().size());

        Rule r = styles[0].featureTypeStyles().get(0).rules().get(0);
        Assert.assertEquals(1, r.symbolizers().size());

        PolygonSymbolizer symbolizer = (PolygonSymbolizer) r.symbolizers().get(0);

        Fill fill = symbolizer.getFill();
        Assert.assertNotNull(fill);

        Graphic graphicFill = fill.getGraphicFill();
        Assert.assertNotNull(graphicFill);

        Assert.assertEquals(1, graphicFill.graphicalSymbols().size());

        GraphicalSymbol symbol = graphicFill.graphicalSymbols().get(0);
        Assert.assertTrue(symbol instanceof ExternalGraphic);
        return (ExternalGraphic) symbol;
    }

