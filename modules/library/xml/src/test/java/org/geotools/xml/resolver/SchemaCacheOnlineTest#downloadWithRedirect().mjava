    @Test
    public void downloadWithRedirect() throws IOException {
        URL url = new URL("http://inspire.ec.europa.eu/schemas/common/1.0");
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        // this url has the header with a redirect
        Assert.assertNotNull(conn.getHeaderField("Location"));
        byte[] responseBody =
                SchemaCache.download("http://inspire.ec.europa.eu/schemas/common/1.0");
        Assert.assertNotNull(responseBody);
        Assert.assertTrue(responseBody.length > 0);
    }

