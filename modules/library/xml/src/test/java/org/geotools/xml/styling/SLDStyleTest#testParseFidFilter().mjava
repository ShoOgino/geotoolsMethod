    /**
     * Verifies that a FID Filter is correctly parsed (GEOT-992).
     *
     * @throws IOException boom
     */
    @Test
    public void testParseFidFilter() throws IOException {
        Style[] styles = getStyles("fidFilter.xml");

        final int expectedStyleCount = 1;
        Assert.assertEquals(expectedStyleCount, styles.length);

        Style style = styles[0];
        Assert.assertEquals(1, style.featureTypeStyles().size());

        FeatureTypeStyle fts = style.featureTypeStyles().get(0);
        Assert.assertEquals("Feature", fts.featureTypeNames().iterator().next().getLocalPart());
        Assert.assertEquals(1, fts.rules().size());

        Filter filter = fts.rules().get(0).getFilter();
        Assert.assertTrue(filter instanceof Id);

        Id fidFilter = (Id) filter;
        String[] fids =
                fidFilter.getIDs().stream().map(id -> (String) id).toArray(n -> new String[n]);
        Assert.assertEquals("Wrong number of fids", 5, fids.length);

        Arrays.sort(fids);

        Assert.assertEquals("fid.0", fids[0]);
        Assert.assertEquals("fid.1", fids[1]);
        Assert.assertEquals("fid.2", fids[2]);
        Assert.assertEquals("fid.3", fids[3]);
        Assert.assertEquals("fid.4", fids[4]);
    }

