    @Test
    public void testAttributeDefaultValue() {
        SimpleFeatureTypeBuilder builder = new SimpleFeatureTypeBuilder();
        builder.setName("buggy");
        builder.nillable(false).defaultValue(12).add("attrWithDefault", Integer.class);
        builder.nillable(true).defaultValue(null).add("attrWithoutDefault", Integer.class);
        SimpleFeatureType featureType = builder.buildFeatureType();
        Assert.assertFalse(featureType.getDescriptor("attrWithDefault").isNillable());
        Assert.assertEquals(12, featureType.getDescriptor("attrWithDefault").getDefaultValue());
        Assert.assertTrue(featureType.getDescriptor("attrWithoutDefault").isNillable());
        Assert.assertNull(featureType.getDescriptor("attrWithoutDefault").getDefaultValue());
    }

