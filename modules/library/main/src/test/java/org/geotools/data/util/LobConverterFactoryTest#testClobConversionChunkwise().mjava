    public void testClobConversionChunkwise() throws Exception {
        String expected = "abc";
        StringReader reader = new StringReader(expected);

        Clob clob = EasyMock.createMock(Clob.class);
        EasyMock.expect(clob.length()).andThrow(new SQLFeatureNotSupportedException());
        EasyMock.expect(clob.getCharacterStream()).andReturn(reader);
        EasyMock.replay(clob);

        String actual = convert(clob);
        assertEquals(expected, actual);
    }

