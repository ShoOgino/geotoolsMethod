        @Test
        public void testMoreClassesThanFeatures() throws SchemaException, IOException {
            ListFeatureCollection fc = getSimplifiedStatesCollection();

            // twice as many classes
            org.opengis.filter.expression.Expression function =
                    FF.function("EqualArea", PERSONS, FF.literal(fc.size() * 2));
            RangedClassifier ranged = assertRangedClassifier(function.evaluate(fc));

            // check the number of classes has been reduced (not 49 but 43, with high
            // number of classes it's likely that it's not possible to fill bins
            assertEquals(ranged.getSize(), 43);
        }

