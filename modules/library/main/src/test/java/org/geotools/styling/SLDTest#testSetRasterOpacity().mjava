    /**
     * Test that setting the raster opacity correct duplicates the raster symbolizer as a different
     * object and correctly sets the opacity.
     */
    @Test
    public void testSetRasterOpacity() {
        RasterSymbolizer rs = sb.createRasterSymbolizer();
        Style s = sb.createStyle(rs);

        assertEquals(1.0, SLD.opacity(SLD.rasterSymbolizer(s)), 0d);

        SLD.setRasterOpacity(s, 0.25);
        assertEquals(0.25, SLD.opacity(SLD.rasterSymbolizer(s)), 0d);
        assertNotSame(SLD.rasterSymbolizer(s), rs);
    }

