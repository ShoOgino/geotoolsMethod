    /** The provided target CRS (3857) should override the native one (4326). */
    public void testBboxReprojectWithTargetCrsProvided() throws FactoryException {
        CoordinateReferenceSystem webMercator = CRS.decode("EPSG:3857");
        ReprojectingFilterVisitor reprojector = new ReprojectingFilterVisitor(ff, ft, webMercator);
        BBOX bbox = ff.bbox(ff.property("geom"), 10, 15, 20, 25, "EPSG:4326");
        Filter clone = (Filter) bbox.accept(reprojector, null);
        assertNotSame(bbox, clone);
        BBOX clonedBbox = (BBOX) clone;
        assertEquals(bbox.getExpression1(), clonedBbox.getExpression1());
        assertTrue(
                JTS.equals(
                        new ReferencedEnvelope(
                                1113194.9079327357,
                                2226389.8158654715,
                                1689200.1396078924,
                                2875744.6243522423,
                                webMercator),
                        clonedBbox.getBounds(),
                        1e-6));
    }

