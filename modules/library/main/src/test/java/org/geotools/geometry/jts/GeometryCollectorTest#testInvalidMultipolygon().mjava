    @Test
    public void testInvalidMultipolygon() throws Exception {
        WKTReader reader = new WKTReader();

        // three triangles that united form a rectangle with a triangular hole in the middle
        GeometryCollector collector = new GeometryCollector();
        collector.setFactory(null);
        final Geometry p0 = reader.read("POLYGON((0 0, 0 3, 3 3, 3 0, 0 0))");
        collector.add(p0);
        final Geometry p1 = reader.read("POLYGON((1 1, 1 2, 2 2, 2 1, 1 1))");
        collector.add(p1);

        GeometryCollection result = collector.collect();
        assertEquals(1, result.getNumGeometries());
        Polygon p = (org.locationtech.jts.geom.Polygon) result.getGeometryN(0);
        assertTrue(p.isValid());
    }

