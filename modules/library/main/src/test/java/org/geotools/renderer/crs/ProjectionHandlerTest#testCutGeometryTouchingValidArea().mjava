    @Test
    public void testCutGeometryTouchingValidArea() throws Exception {
        // for some reason JTS won't cut correctly this geometry with an zero height, but not empty, reference cutting
        // envelope (result of intersecting the valid area with the geometry own bbox, which results in a "line" polygon
        // Used a BASE64 encoded WKB as WKT is not precise enough to make it happen
        String wkb = "AAAAAAMAAAACAAAAJsBX4dme0ZBrwBBHY3zBphTAV9wm/XQjVMAN5aZ25n+AwFfRnB4QLcDACkbY\n" +
                "u6mfgMBX0IDk68FEwAn9i4xuQADAV9LyxRH1/MAKtRmwO4KAwFfFCYjFNfzABzwNbZWeAMBXro+u\n" +
                "Q3TIwAMozHt2zADAV5nQ8kYDGMAABfJy8QWAwFdz2+lf1Xy/9dkUVMuzAMBXK24mVt9kv9u1veRJ\n" +
                "CADAVxApDvwLFD0wAAAAAAAAwFlKt6hdgbi+jC+LAAAAAMBZS9W86QecwAP6Pg0jSwDAWOUBPzQM\n" +
                "OMAD1MCXZ+6AwFiD2a7LN6jABO4o20CCgMBYcM4alj+AwAVxI3rh+4DAWGFB3LdZJMAGMd3VXb+A\n" +
                "wFhJc+py+vDACDw/gWQHAMBYO+vyzRGUwAnbp1i4wgDAWDEaWTENgMALgYeOOnuAwFgpGBGENtjA\n" +
                "DRepG9PXAMBYIP4dLlt8wA+klG+5IADAWBwX+BP4WMARKUKeEtiAwFgXoZhXNYDAExH5Zal0QMBY\n" +
                "GEP/ANogwBbbF0xESIDAWBN/U/McQMAYXuP5jyKAwFgKqiyQ+gTAGix578FUgMBYA1s+gKpwwBsT\n" +
                "o7wYhYDAV/qZDD5aYMAbwu+JuyoAwFfqj6KbhxTAHIrvGplNAMBX4hOw7Jx0wBy+1+x/XkDAV9vV\n" +
                "ZESR7MAca5H4ZYHAwFfWkK/y7sDAG3TJ1EFXgMBX1+eqod08wBrqABEuC8DAV+jS2XIy3MAYBQgf\n" +
                "RHnAwFfslYpsZkDAFphJ8XbhQMBX6mVp0arUwBOSV/ye1QDAV+HZntGQa8AQR2N8waYUAAAABMBX\n" +
                "4dme0ZBrwBBHY3zBphTAV+GPbx9YxMAQMbM4fB1AwFfivDEmxxzAEIAAI+c6wMBX4dme0ZBrwBBH\n" +
                "Y3zBphQ=";
        Geometry geometry = new WKBReader().read(Base64.decode(wkb));

        CoordinateReferenceSystem lambertPolar = getLambertPolar();
        ReferencedEnvelope renderingEnvelope = new ReferencedEnvelope(-14542204.652543461,15480411.404320458,-18705497.11355389,11278026.995319324, lambertPolar);
        ReferencedEnvelope validAreaBounds = new ReferencedEnvelope(-180, 180, 0, 90, DefaultGeographicCRS.WGS84);
        ProjectionHandler ph = new ProjectionHandler(DefaultGeographicCRS.WGS84, validAreaBounds, renderingEnvelope);

        // should not return anything
        assertNull(ph.preProcess(geometry));
    }

