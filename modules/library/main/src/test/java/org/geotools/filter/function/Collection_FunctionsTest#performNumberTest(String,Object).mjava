     /**
     * Tests a function class of org.geotools.filter.function.Collection_*Function
     * 
     * Example: performTest("Collection_Min", 4);
     */
    public void performNumberTest(String functionName, Object expectedValue) throws Exception{
        PropertyName exp = ff.property("foo");
        Function func = ff.function(functionName, exp);
        Object obj = func.evaluate(featureCollection);
        Number result = (Number) obj;
        Number expected = (Number) expectedValue;
        assertEquals(expected.doubleValue(), result.doubleValue(), 0);
    }

