    /**
     * Tests the max function expression over other kind of object than Feature.
     *
     * @throws IllegalFilterException if filter problems
     */
    public void testMaxFunctionObject() throws IllegalFilterException {
        MockDataObject testObj = new MockDataObject(10, "diez");
        org.opengis.filter.expression.Expression a = new AttributeExpressionImpl("intVal");
        org.opengis.filter.expression.Expression b = new LiteralExpressionImpl(new Double(1004));

        Function max = ff.function("max", a, b);
        assertEquals("max", max.getName());

        Object maxValue = max.evaluate(testObj);
        assertEquals(1004d, ((Double) maxValue).doubleValue(), 0);

        b = new LiteralExpressionImpl(new Double(-100.001));

        max = ff.function("max", a, b);
        maxValue = max.evaluate(testObj);

        assertEquals(10, ((Double) maxValue).doubleValue(), 0);
    }

