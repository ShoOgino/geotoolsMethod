    protected double computeExpectedRescaleSize(
            double size, double scaleMetersToPixel, Unit<Length> uom) {
        double expectedRescaledSize = size;

        // uom == null means pixels (rescalesize == size)
        if (uom != null) {
            double scaleUomToMeters = 1;
            if (uom.equals(USCustomary.FOOT)) scaleUomToMeters *= 0.3048006096012;
            if (!uom.equals(Units.PIXEL))
                expectedRescaledSize *= scaleUomToMeters * scaleMetersToPixel;
        }

        return expectedRescaledSize;
    }

