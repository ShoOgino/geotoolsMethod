    @Test
    public void testGetFeaturesWriterModify() throws IOException {
        FeatureWriter<SimpleFeatureType, SimpleFeature> writer =
                data.getFeatureWriter("road", Transaction.AUTO_COMMIT);
        SimpleFeature feature;

        while (writer.hasNext()) {
            feature = writer.next();

            if (feature.getID().equals("road.rd1")) {
                feature.setAttribute("name", "changed");
                writer.write();
            }
        }

        feature = data.entry("road").getMemory().get("road.rd1");
        Assert.assertEquals("changed", feature.getAttribute("name"));
    }

