    @Test
    public void testStrReplace() {
        Literal foo = ff.literal("foo");
        Literal o = ff.literal("o");
        Literal bar = ff.literal("bar");

        Function f = ff.function("strReplace", new Expression[] {foo, o, bar, ff.literal(true)});
        String s = f.evaluate(null, String.class);
        assertEquals("fbarbar", s);

        f = ff.function("strReplace", new Expression[] {foo, o, bar, ff.literal(false)});
        s = f.evaluate(null, String.class);
        assertEquals("fbaro", s);
    }

