    @Test
    public void testSortNaturalPartialLastPage() throws IOException {
        // make it so that we are not going to hit the disk, but 
        // some of the data won't fit in the last page, used to be
        // left in memory and forgotten
        SimpleFeatureReader sr = null;
        try {
            final int PRIME = 173;
            sr = new SortedFeatureReader(fr, fidAsc, PRIME);
            String prev = null;
            int count = 0;
            while (sr.hasNext()) {
                SimpleFeature f = sr.next();
                String id = f.getID();
                if (prev != null) {
                    assertTrue(id.compareTo(prev) >= 0);
                }
                prev = id;
                count++;
            }
            assertEquals(fc.size(), count);
        } finally {
            if (sr != null) {
                sr.close();
            }
        }
    }

