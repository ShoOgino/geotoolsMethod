    @Test
    public void testCallingAddFeaturesWithReaderTwiceAndExtentInitialCollection()
            throws IOException {
        FeatureReader<SimpleFeatureType, SimpleFeature> reader = DataUtilities.reader(roadFeatures);
        MemoryDataStore mds = new MemoryDataStore(reader);

        Assert.assertEquals(
                roadFeatures.length, mds.entry(roadType.getTypeName()).getMemory().size());

        FeatureReader<SimpleFeatureType, SimpleFeature> secondReader =
                DataUtilities.reader(
                        new SimpleFeature[] {SimpleFeatureBuilder.template(roadType, null)});

        mds.addFeatures(secondReader);
        Assert.assertEquals(roadFeatures.length + 1, mds.entry("road").getMemory().size());
    }

