        public Map<String, String> parseQueryString(URL url) {
            if (url.getQuery() == null || url.getQuery().isEmpty()) {
                return Collections.emptyMap();
            }
            return Arrays.stream(url.getQuery().split("&"))
                    .map(s -> s.split("="))
                    .collect(Collectors.toMap(o -> decode(o[0]), o -> decode(o[1])));
        }

