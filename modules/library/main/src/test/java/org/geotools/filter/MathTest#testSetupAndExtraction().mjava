    @Test
    public void testSetupAndExtraction() throws Exception {
        // this should move out to a more configurable system run from scripts
        // but we can start with a set of hard coded tests
        SimpleFeature[] f = sampleFeatures();

        AttributeExpressionImpl e1 = new AttributeExpressionImpl(schema, "value");
        AttributeExpressionImpl e2 = new AttributeExpressionImpl(schema, "name");

        Assert.assertEquals(12d, ((Integer) e1.evaluate(f[0])).doubleValue(), 0);
        Assert.assertEquals(3d, ((Integer) e1.evaluate(f[1])).doubleValue(), 0);
        Assert.assertEquals(15d, ((Integer) e1.evaluate(f[2])).doubleValue(), 0);
        Assert.assertEquals("first", (String) e2.evaluate(f[0]));
        Assert.assertEquals("second", (String) e2.evaluate(f[1]));
    }

