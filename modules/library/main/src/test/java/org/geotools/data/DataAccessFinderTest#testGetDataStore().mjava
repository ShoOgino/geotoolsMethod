    @Test
    public void testGetDataStore() throws IOException {
        DataStore dataStore;

        Map<String, Serializable> params = new HashMap<>();
        params.put(MOCK_DS_PARAM_KEY, MockUnavailableDataStoreFactory.class);

        dataStore = DataStoreFinder.getDataStore(params);
        Assert.assertNull(dataStore);

        params.put(MOCK_DS_PARAM_KEY, MockDataStoreFactory.class);

        dataStore = DataStoreFinder.getDataStore(params);
        Assert.assertSame(MOCK_DATASTORE, dataStore);
    }

