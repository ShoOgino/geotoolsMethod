    @Test
    public void testRetypeGeometryless() {
        builder.setName("testGeometryless");
        builder.add("geo1", Point.class, DefaultGeographicCRS.WGS84);
        builder.add("integer", Integer.class);
        builder.setDefaultGeometry("geo1");
        SimpleFeatureType type = builder.buildFeatureType();

        // performing an attribute selection, even changing order, should not change
        // the default geometry, that had a special meaning in the original source
        SimpleFeatureType retyped = SimpleFeatureTypeBuilder.retype(type, "integer");
        Assert.assertNotNull(retyped);
        Assert.assertNull(retyped.getGeometryDescriptor());
        Assert.assertEquals(1, retyped.getAttributeCount());
        Assert.assertEquals("integer", retyped.getAttributeDescriptors().get(0).getLocalName());
    }

