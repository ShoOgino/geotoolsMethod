    @Test
    public void testEvaluateNotNumericalWithPercentages() throws SchemaException {
        SimpleFeatureType dataType =
                DataUtilities.createType("classification.test1", "id:0,value:String");
        String sVal[] = new String[] {"a", "b", "c", "d", "e", "f"};
        SimpleFeature[] myfeatures = new SimpleFeature[sVal.length];
        for (int i = 0; i < sVal.length; i++) {
            myfeatures[i] =
                    SimpleFeatureBuilder.build(
                            dataType,
                            new Object[] {Integer.valueOf(i + 1), sVal[i]},
                            "classification.test1" + (i + 1));
        }

        SimpleFeatureCollection myFeatureCollection = DataUtilities.collection(myfeatures);
        org.opengis.filter.expression.Expression func2 =
                ff.function("Quantile", ff.property("value"), ff.literal(6), ff.literal(true));

        Object value2 = func2.evaluate(myFeatureCollection);
        Classifier ranged2 = (Classifier) value2;
        double[] percentages2 = ranged2.getPercentages();
        assertEquals(percentages2.length, 6);
        for (double v : percentages2) {
            assertEquals(Math.floor(v), 16.0, 0d);
        }
    }

