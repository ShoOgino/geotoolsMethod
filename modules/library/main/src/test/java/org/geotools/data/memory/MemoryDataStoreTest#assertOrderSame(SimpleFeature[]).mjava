    void assertOrderSame(SimpleFeature[] features) throws Exception {
        // init using readers
        try (FeatureReader<SimpleFeatureType, SimpleFeature> reader =
                DataUtilities.reader(features)) {
            DataStore store1 = new MemoryDataStore(reader);
            assertReaderOrderSame(features, store1);
        }

        // init using array directly
        DataStore store2 = new MemoryDataStore(features);
        assertReaderOrderSame(features, store2);
    }

