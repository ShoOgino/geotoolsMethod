    @Test
    public void testHasNext() throws Exception {
        Assert.assertTrue(writer.hasNext());
        Assert.assertEquals(2, writer.diff.getAdded().size() + writer.diff.getModified().size());
        writer.next();
        Assert.assertTrue(writer.hasNext());
        Assert.assertEquals(2, writer.diff.getAdded().size() + writer.diff.getModified().size());
        writer.next();
        Assert.assertFalse(writer.hasNext());
        Assert.assertEquals(2, writer.diff.getAdded().size() + writer.diff.getModified().size());
    }

