    @Test
    public void testContrastEnhancementDuplication() throws Exception {

        ContrastEnhancement ce = sf.createContrastEnhancement();
        ce.setGammaValue(sb.literalExpression(0.5));
        ce.setMethod(ContrastMethod.HISTOGRAM);

        ce.accept(visitor);
        ContrastEnhancement ce2 = (ContrastEnhancement) visitor.getCopy();

        Assert.assertEquals(
                "Gamma value incorrest after duplication",
                ((Literal) ce.getGammaValue()).getValue(),
                ((Literal) ce2.getGammaValue()).getValue());
        Assert.assertEquals(
                "ContrastMethod must be equal after duplication ", ce.getMethod(), ce2.getMethod());
    }

