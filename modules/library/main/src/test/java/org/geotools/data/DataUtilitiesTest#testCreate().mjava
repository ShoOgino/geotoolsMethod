    /**
     * Test createType and createFeature methods as per GEOT-4150
     */
    public void testCreate() throws Exception {
        SimpleFeatureType featureType = DataUtilities.createType("Contact","id:Integer,party:String,geom:Geometry:srid=4326");
        SimpleFeature feature1 =  DataUtilities.createFeature( featureType, "fid1=1|Jody Garnett\\nSteering Committee|POINT(1 2)" );
        SimpleFeature feature2 =  DataUtilities.createFeature( featureType, "2|John Hudson\\|Hapless Victim|POINT(6 2)" );

        assertNotNull( featureType.getCoordinateReferenceSystem() );
        
        Geometry geometry = (Geometry)feature1.getAttribute("geom");
        assertEquals( "geom", 2.0, geometry.getCoordinate().y );
        assertEquals( "fid preservation", "fid1", feature1.getID() );
        
        // test escape handling
        assertEquals( "newline decode check", "Jody Garnett\nSteering Committee", feature1.getAttribute("party") );
        assertEquals( "escape check", "John Hudson|Hapless Victim", feature2.getAttribute("party") );
    }

