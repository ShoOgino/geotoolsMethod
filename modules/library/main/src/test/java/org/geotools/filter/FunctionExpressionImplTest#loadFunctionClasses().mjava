    private List<Class<?>> loadFunctionClasses() throws IOException, ClassNotFoundException {
        final String spiDefinitionResource =
                "/META-INF/services/org.opengis.filter.expression.Function";
        try (InputStream in = getClass().getResourceAsStream(spiDefinitionResource)) {
            if (in == null) {
                throw new FileNotFoundException(spiDefinitionResource);
            }

            List<Class<?>> functionClasses = new LinkedList<>();
            try (BufferedReader reader = new BufferedReader(new InputStreamReader(in))) {
                String className;
                while ((className = reader.readLine()) != null) {
                    Class<?> functionClazz = Class.forName(className);
                    functionClasses.add(functionClazz);
                }
                return functionClasses;
            }
        }
    }

