    @Test
    public void testMercatorBug()
            throws NoSuchAuthorityCodeException, FactoryException, TransformException {
        // see GEOT-6141
        CoordinateReferenceSystem sourceCrs = CRS.decode("EPSG:3857", true);
        CoordinateReferenceSystem targetCrs = CRS.decode("EPSG:31370", true);

        ReferencedEnvelope sourceEnv =
                new ReferencedEnvelope(
                        381033.2707188717,
                        381046.4083331082,
                        6583847.177786637,
                        6583860.315400874,
                        sourceCrs);

        ProjectionHandler projectionHandler =
                ProjectionHandlerFinder.getHandler(sourceEnv, targetCrs, true);

        ReferencedEnvelope targetEnv = projectionHandler.getQueryEnvelopes().get(0);

        assertEquals(83304.59570855058, targetEnv.getMinX(), 0.1);
        assertEquals(83313.02253560493, targetEnv.getMaxX(), 0.1);
        assertEquals(164573.9584101988, targetEnv.getMinY(), 0.1);
        assertEquals(164582.36316849105, targetEnv.getMaxY(), 0.1);
    }

