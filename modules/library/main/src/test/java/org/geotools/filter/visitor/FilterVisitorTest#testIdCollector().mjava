    @Test
    public void testIdCollector() {
        Filter filter = ff.isNull(ff.property("name"));
        Set fids = (Set) filter.accept(IdCollectorFilterVisitor.ID_COLLECTOR, new HashSet());
        Assert.assertTrue(fids.isEmpty());
        Assert.assertFalse(fids.contains("eclesia"));

        filter = ff.id(Collections.singleton(ff.featureId("eclesia")));
        fids = (Set) filter.accept(IdCollectorFilterVisitor.ID_COLLECTOR, new HashSet());
        Assert.assertFalse(fids.isEmpty());
        Assert.assertTrue(fids.contains("eclesia"));
    }

