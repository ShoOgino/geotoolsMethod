    /**
     * Check transformation correctness by transforming forwards and backwards using inverse
     * MathTransforms.
     *
     * @param g
     * @throws TransformException
     */
    private void checkTransform(Geometry g) throws TransformException {
        GeometryCoordinateSequenceTransformer gcsTrans =
                new GeometryCoordinateSequenceTransformer();
        gcsTrans.setCoordinateReferenceSystem(DefaultGeographicCRS.WGS84);
        MathTransform trans = ProjectiveTransform.createTranslation(2, 100);
        gcsTrans.setMathTransform(trans);

        GeometryCoordinateSequenceTransformer gcsTransInv =
                new GeometryCoordinateSequenceTransformer();
        gcsTransInv.setCoordinateReferenceSystem(DefaultGeographicCRS.WGS84);
        MathTransform transInv = ProjectiveTransform.createTranslation(2, -100);
        gcsTransInv.setMathTransform(transInv);

        Geometry gTrans = gcsTrans.transform(g);
        Geometry g2 = gcsTransInv.transform(gTrans);

        // result better be a different geometry
        assertTrue(g != g2);
        assertTrue(hasSameValuesAndStructure(g, g2));
    }

