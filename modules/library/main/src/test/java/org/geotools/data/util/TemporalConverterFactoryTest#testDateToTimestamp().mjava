    @Test
    public void testDateToTimestamp() throws Exception {
        Date date = new Date();
        Assert.assertNotNull(factory.createConverter(Date.class, Timestamp.class, null));

        Timestamp timeStamp =
                factory.createConverter(Date.class, Timestamp.class, null)
                        .convert(date, Timestamp.class);
        Assert.assertNotNull(timeStamp);
        Assert.assertEquals(new Timestamp(date.getTime()), timeStamp);

        // check safe conversion
        Hints h = new Hints();
        h.put(ConverterFactory.SAFE_CONVERSION, Boolean.TRUE);
        Assert.assertNull(factory.createConverter(Timestamp.class, Calendar.class, h));
        h.put(ConverterFactory.SAFE_CONVERSION, Boolean.FALSE);
        Assert.assertNotNull(factory.createConverter(Timestamp.class, Calendar.class, h));
    }

