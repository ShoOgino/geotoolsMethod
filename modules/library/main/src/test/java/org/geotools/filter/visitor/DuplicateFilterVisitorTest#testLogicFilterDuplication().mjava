    public void testLogicFilterDuplication() throws IllegalFilterException {
    	//create a filter
    	PropertyIsGreaterThan greater = fac.greater(fac.literal(2), fac.literal(1));
    	PropertyIsLessThan less = fac.less(fac.literal(3), fac.literal(4));
    	And and = fac.and(greater, less);
    	
    	//duplicate it
    	DuplicatingFilterVisitor visitor = new DuplicatingFilterVisitor();
    	Filter newFilter = (Filter) and.accept(visitor, fac);

    	//compare it
    	assertNotNull(newFilter);
    	assertEquals( and, newFilter );
    }    

