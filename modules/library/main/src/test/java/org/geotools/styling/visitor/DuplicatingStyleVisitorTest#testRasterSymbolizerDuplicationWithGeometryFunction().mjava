    @Test
    public void testRasterSymbolizerDuplicationWithGeometryFunction() {
        // create a default RasterSymbolizer
        RasterSymbolizer original = sb.createRasterSymbolizer();

        // Set a function as geometry
        Function geomFunc = ff.function("centroid", ff.property("thr_geom"));
        original.setGeometry(geomFunc);

        // duplicate it
        original.accept(visitor);
        RasterSymbolizer copy = (RasterSymbolizer) visitor.getCopy();

        // compare it
        assertEquals(
                "Any Expression set as Geometry must be correctly replicated",
                geomFunc,
                copy.getGeometry());
    }

