    public void testBlobConversionDirect() throws Exception {
        byte[] expected = {1, 2, 3};

        Blob blob = EasyMock.createMock(Blob.class);
        EasyMock.expect(blob.length()).andReturn((long) expected.length);
        EasyMock.expect(blob.getBytes(1, expected.length)).andReturn(expected);
        EasyMock.replay(blob);

        byte[] actual = convert(blob);
        assertArrayEquals(expected, actual);
    }

