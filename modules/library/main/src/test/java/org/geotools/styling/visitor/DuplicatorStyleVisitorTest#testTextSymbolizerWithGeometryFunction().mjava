    public void testTextSymbolizerWithGeometryFunction() {
        TextSymbolizer symb = sf.createTextSymbolizer();

        // Set a function as geometry
        Function geomFunc = ff.function("centroid", ff.property("the_geom"));
        symb.setGeometry(geomFunc);

        TextSymbolizer copy = (TextSymbolizer) visitor.copy(symb);

        // compare it
        assertEquals("Any Expression set as Geometry must be correctly replicated", geomFunc, copy
                .getGeometry());
    }

