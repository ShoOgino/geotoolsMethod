    @Test
    public void testDensification() throws Exception {
        CoordinateReferenceSystem utm32n = CRS.decode("EPSG:32632", true);
        ReferencedEnvelope wgs84Envelope = new ReferencedEnvelope(-190, 60, -90, 45, WGS84);
        ProjectionHandler handler = ProjectionHandlerFinder.getHandler(wgs84Envelope, WGS84, true);
        Geometry line =
                gf.createLineString(
                        new Coordinate[] {new Coordinate(40, 45), new Coordinate(40, 88)});
        LineString notDensified = (LineString) handler.preProcess(line);
        assertTrue(notDensified.getCoordinates().length == 2);

        Map params = new HashMap();
        params.put("advancedProjectionDensify", 1.0);
        handler = ProjectionHandlerFinder.getHandler(wgs84Envelope, WGS84, true, params);
        LineString densified = (LineString) handler.preProcess(line);
        assertFalse(densified.getCoordinates().length == 2);
    }

