    @Test
    public void testQueryEnvelopeFarAway() throws Exception {
        final double minX = 2170;
        final double maxX = 2220;
        // [2170, 2220] is the same as [10, 60]

        ReferencedEnvelope re = new ReferencedEnvelope(minX, maxX, -40, 30, WGS84);
        ProjectionHandler ph = ProjectionHandlerFinder.getHandler(re, WGS84, true);
        List<ReferencedEnvelope> queryEnvelopes = ph.getQueryEnvelopes();
        ReferencedEnvelope qe = queryEnvelopes.get(queryEnvelopes.size() - 1);

        final double wrappedMinX = minX % 360;
        final double wrappedMaxX = maxX % 360;
        assertEquals(wrappedMinX, qe.getMinX(), 1e-3);
        assertEquals(wrappedMaxX, qe.getMaxX(), 1e-3);
    }

