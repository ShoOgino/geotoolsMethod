    private byte[] toByteArray(InputStream is) throws IOException {
        byte[] result;
        try {
            result = new byte[is.available()];
            is.read(result);
        } finally {
            is.close();
        }
        return result;
    }

