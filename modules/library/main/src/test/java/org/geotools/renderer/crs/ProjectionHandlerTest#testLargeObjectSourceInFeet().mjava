    @Test
    public void testLargeObjectSourceInFeet() throws Exception {
        String worldMercatorFeet =
                "PROJCS[\"World_Mercator\",\n"
                        + "    GEOGCS[\"GCS_WGS_1984\",\n"
                        + "        DATUM[\"WGS_1984\",\n"
                        + "            SPHEROID[\"WGS_1984\",6378137,298.257223563]],\n"
                        + "        PRIMEM[\"Greenwich\",0],\n"
                        + "        UNIT[\"Degree\",0.017453292519943295]],\n"
                        + "    PROJECTION[\"Mercator_1SP\"],\n"
                        + "    PARAMETER[\"False_Easting\",0],\n"
                        + "    PARAMETER[\"False_Northing\",0],\n"
                        + "    PARAMETER[\"Central_Meridian\",0],\n"
                        + "    UNIT[\"Foot_US\",0.3048006096012192],\n"
                        + "    AUTHORITY[\"EPSG\",\"54004\"]]";
        CoordinateReferenceSystem WOLD_MERCATOR_FEET = CRS.parseWKT(worldMercatorFeet);

        Geometry g =
                new WKTReader()
                        .read(
                                "POLYGON ((-35061186 -725700, -35061186 33191143, 48574352 33191143, 48574352 -725700, -35061186 -725700))");
        Geometry original = g.copy();
        // area large enough to wrap 3 times
        ReferencedEnvelope re = new ReferencedEnvelope(-540, 540, -90, 90, WGS84);
        ProjectionHandler ph = ProjectionHandlerFinder.getHandler(re, WOLD_MERCATOR_FEET, true);
        Geometry preProcessed = ph.preProcess(original);
        MathTransform mt = CRS.findMathTransform(WOLD_MERCATOR_FEET, WGS84, true);
        Geometry transformed = JTS.transform(preProcessed, mt);
        Geometry postProcessed = ph.postProcess(mt.inverse(), transformed);
        assertThat(postProcessed, CoreMatchers.instanceOf(MultiPolygon.class));
        assertEquals(3, postProcessed.getNumGeometries());
        // and still large objects
        assertEquals(228, postProcessed.getGeometryN(0).getEnvelopeInternal().getWidth(), 1);
        assertEquals(228, postProcessed.getGeometryN(1).getEnvelopeInternal().getWidth(), 1);
        assertEquals(228, postProcessed.getGeometryN(2).getEnvelopeInternal().getWidth(), 1);
    }

