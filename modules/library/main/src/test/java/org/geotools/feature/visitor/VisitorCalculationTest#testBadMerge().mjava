    // try merging 2 incompatible CalcResults and check for the exception
    @Test
    public void testBadMerge() throws IllegalFilterException, IOException {
        // count + max = boom!
        CountVisitor countVisitor = new CountVisitor();
        countVisitor.setValue(8);
        CalcResult countResult = countVisitor.getResult();
        MaxVisitor maxVisitor = new MaxVisitor((Expression) null);
        maxVisitor.setValue(Double.valueOf(99));
        CalcResult maxResult = maxVisitor.getResult();
        try {
            maxResult.merge(countResult);
            fail(); // merge should throw an exception
        } catch (Exception e) {
            assertEquals("Parameter is not a compatible type", e.getMessage());
        }
    }

