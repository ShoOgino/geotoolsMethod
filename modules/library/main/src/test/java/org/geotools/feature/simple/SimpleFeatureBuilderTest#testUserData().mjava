    @Test
    public void testUserData() throws Exception {
        SimpleFeature feature = buildUserDataFeature();
        Assert.assertNotNull(feature);
        Assert.assertEquals("bar", feature.getUserData().get("foo"));

        builder = new SimpleFeatureBuilder(feature.getFeatureType());
        builder.init(feature);
        feature = builder.buildFeature("fid");
        Assert.assertNotNull(feature);
        Assert.assertEquals("bar", feature.getUserData().get("foo"));
    }

