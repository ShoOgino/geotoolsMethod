    /*
     * Test for FeatureWriter getFeatureWriter(String, Filter, Transaction)
     */
    @Test(expected = IOException.class)
    public void testGetFeatureWriter() throws NoSuchElementException, IOException {
        try (FeatureWriter<SimpleFeatureType, SimpleFeature> writer =
                data.getFeatureWriter("road", Transaction.AUTO_COMMIT)) {
            Assert.assertEquals(roadFeatures.length, count(writer));

            assertFalse(writer.hasNext());
            writer.next();
            fail("Should not be able to use a closed writer");
        }
    }

