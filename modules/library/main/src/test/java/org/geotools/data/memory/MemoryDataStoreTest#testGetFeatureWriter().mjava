    /*
     * Test for FeatureWriter getFeatureWriter(String, Filter, Transaction)
     */
    @Test
    public void testGetFeatureWriter() throws NoSuchElementException, IOException {
        FeatureWriter<SimpleFeatureType, SimpleFeature> writer =
                data.getFeatureWriter("road", Transaction.AUTO_COMMIT);
        Assert.assertEquals(roadFeatures.length, count(writer));

        assertFalse(writer.hasNext());

        try {
            writer.next();
            fail("Should not be able to use a closed writer");
        } catch (IOException expected) {
        }
    }

