    public void visit(org.opengis.feature.Feature feature) {
        Object value = expression.evaluate(feature);

        if (value == null) {
            countNull++; // increment the null count
            return; // don't store this value
        }

        if (value instanceof Double) {
            double doubleVal = ((Double) value).doubleValue();
            if (Double.isNaN(doubleVal) || Double.isInfinite(doubleVal)) {
                countNaN++; // increment the NaN count
                return; // don't store NaN value
            }
        }

        count++;
        Double area = areaExpression.evaluate(feature, Double.class);
        @SuppressWarnings("unchecked")
        Comparable<Object> cast = (Comparable<Object>) value;
        items.add(new ValueArea(cast, area));
    }

