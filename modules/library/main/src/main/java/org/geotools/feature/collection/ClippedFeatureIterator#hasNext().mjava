    @Override
    public boolean hasNext() {
        while (next == null && delegate.hasNext()) {
            // try building the clipped feature out of the original feature, if the
            // default geometry is clipped out, skip it
            SimpleFeature f = delegate.next();
            boolean clippedOut = prepareBuilderForNextFeature(f);

            if (!clippedOut) {
                // build the next feature
                next = fb.buildFeature(f.getID());
            }
            fb.reset();
        }

        return next != null;
    }

