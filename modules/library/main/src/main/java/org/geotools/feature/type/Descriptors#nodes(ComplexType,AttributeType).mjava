    /**
     * List of nodes matching AttributeType.
     *
     * @return List of nodes for the provided type, or empty.
     */
    public static List<AttributeDescriptor> nodes(ComplexType schema, AttributeType type) {
        List<AttributeDescriptor> nodes = new ArrayList<>();
        for (Object o : list(schema)) {
            AttributeDescriptor node = (AttributeDescriptor) o;
            if (node.getType().equals(type)) {
                nodes.add(node);
            }
        }
        return nodes;
    }

