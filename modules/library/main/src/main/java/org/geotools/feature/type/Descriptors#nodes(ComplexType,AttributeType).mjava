    /**
     * List of nodes matching AttributeType.
     *
     * @return List of nodes for the provided type, or empty.
     */
    public static List<AttributeDescriptor> nodes(ComplexType schema, AttributeType type) {
        List<AttributeDescriptor> nodes = new ArrayList<AttributeDescriptor>();
        for (Iterator itr = list(schema).iterator(); itr.hasNext(); ) {
            AttributeDescriptor node = (AttributeDescriptor) itr.next();
            if (node.getType().equals(type)) {
                nodes.add(node);
            }
        }
        return nodes;
    }

