    public MemoryFeatureReader(ContentState state, Query query) throws IOException {
        featureType = state.getFeatureType();
        MemoryEntry entry = (MemoryEntry) state.getEntry();

        final List<SimpleFeature> internalCollection = new ArrayList<>(entry.getMemory().values());
        iterator = internalCollection.iterator();
    }

