	/**
         * Create a SimpleFeatureType with the same content; just updating the geometry
         * attribute to match the provided coordinate reference system.
         * @param original SimpleFeatureType
         * @param crs CoordinateReferenceSystem of result
         * @return SimpleFeatureType updated with the provided CoordinateReferenceSystem
         */
        public static SimpleFeatureType retype( SimpleFeatureType original,CoordinateReferenceSystem crs ) {
            SimpleFeatureTypeBuilder b = new SimpleFeatureTypeBuilder();
            
            //initialize the builder
            b.init( original );
            
            //clear the attributes
            b.attributes().clear();
            
            //add attributes in order
            for( AttributeDescriptor descriptor : original.getAttributeDescriptors() ){
                if( descriptor instanceof GeometryDescriptor ){
                    GeometryDescriptor geometryDescriptor = (GeometryDescriptor) descriptor;
                    AttributeTypeBuilder adjust = new AttributeTypeBuilder( b.factory );
                    adjust.init( geometryDescriptor );
                    adjust.setCRS( crs );
                    b.add( adjust.buildDescriptor( geometryDescriptor.getLocalName() ));
                    continue;
                }
                b.add( descriptor);
            }
            return b.buildFeatureType();
        }

