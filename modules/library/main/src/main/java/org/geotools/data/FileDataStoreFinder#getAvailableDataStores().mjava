    /**
     * Returns an iterator of FileDataStoreFactorySpi to allow for the easy creation of a
     * FileDataStore
     *
     * @see FileDataStoreFactorySpi
     * @see FileDataStore
     */
    public static Iterator<FileDataStoreFactorySpi> getAvailableDataStores() {
        Set availableDS = new HashSet();

        Set all = CommonFactoryFinder.getFileDataStoreFactories(null);

        for (Iterator it = all.iterator(); it.hasNext(); ) {
            FileDataStoreFactorySpi dsFactory = (FileDataStoreFactorySpi) it.next();

            if (dsFactory.isAvailable()) {
                availableDS.add(dsFactory);
            }
        }

        return availableDS.iterator();
    }

