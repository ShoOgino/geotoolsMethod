    /**
     * Creates an offset builder with the given offset and number of quadrant segments
     *
     * @param offset The offset distance. The offset line will be on the left for positive values,
     *     on the right otherwise
     * @param quadrantSegments The number of segments per quadrant, must be positive
     */
    public OffsetCurveBuilder(double offset, int quadrantSegments) {
        this.offset = offset;
        this.maxSearchDistanceSquared = offset * offset * thresholdRatio * thresholdRatio;
        if (quadrantSegments < 1) {
            throw new IllegalArgumentException(
                    "Invalid number of quadrantSegments, must be greater than zero: "
                            + quadrantSegments);
        }
        this.quadrantSegments = quadrantSegments;
    }

