    public static int maxOccurs(ComplexType schema, AttributeType type) {
        List<AttributeDescriptor> nodes = nodes(schema, type);
        if (nodes.isEmpty()) return 0;

        int max = 0;
        for (AttributeDescriptor node : nodes) {
            if (max == Integer.MAX_VALUE) {
                return Integer.MAX_VALUE;
            }
            max += node.getMaxOccurs();
        }
        return max;
    }

