    public Object visit(BBOX filter, Object data) {
        ReferencedEnvelope bbox = bbox(data);

        // consider doing reprojection here into data CRS?
        Envelope bounds = new Envelope(ReferencedEnvelope.reference(filter.getBounds()));
        if (bbox != null) {
            bbox.expandToInclude(bounds);
            return bbox;
        } else {
            return bbox(bounds);
        }
    }

