    /**
     * Initialize the builder with the provided feature.
     *
     * <p>This method adds all the attributes from the provided feature. It is useful when copying a
     * feature.
     */
    public void init(SimpleFeature feature) {
        reset();

        // optimize the case in which we just build
        if (feature instanceof SimpleFeatureImpl) {
            SimpleFeatureImpl impl = (SimpleFeatureImpl) feature;
            System.arraycopy(impl.values, 0, values, 0, impl.values.length);

            if (impl.userData != null) {
                featureUserData = new HashMap<>(impl.userData);
            }
        } else {
            for (Object value : feature.getAttributes()) {
                add(value);
            }

            if (!feature.getUserData().isEmpty()) {
                featureUserData = new HashMap<>(feature.getUserData());
            }
        }
    }

