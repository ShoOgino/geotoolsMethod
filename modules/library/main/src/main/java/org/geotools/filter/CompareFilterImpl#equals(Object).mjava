    /**
     * Compares this filter to the specified object.  Returns true  if the
     * passed in object is the same as this filter.  Checks  to make sure the
     * filter types are the same as well as both of the values.
     *
     * @param obj - the object to compare this CompareFilter against.
     *
     * @return true if specified object is equal to this filter; false
     *         otherwise.
     */
    public boolean equals(Object obj) {
        if (obj instanceof CompareFilter) {
            CompareFilter cFilter = (CompareFilter) obj;

            // todo - check for nulls here, or make immutable.
            //
            return
                filterType == cFilter.getFilterType()
            	&& (    expression1 == cFilter.getLeftValue()
            			|| (expression1 != null && expression1.equals( cFilter.getLeftValue() ) )
            	    )
            	&& (    expression2 == cFilter.getRightValue()
            			|| (expression2 != null && expression2.equals( cFilter.getRightValue() ) )
            			);            
        } else {
            return false;
        }
    }

