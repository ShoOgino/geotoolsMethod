    protected FilterFactory2 getFactory(Object extraData) {
        if (extraData instanceof FilterFactory2) return (FilterFactory2) extraData;
        return ff;
    }

