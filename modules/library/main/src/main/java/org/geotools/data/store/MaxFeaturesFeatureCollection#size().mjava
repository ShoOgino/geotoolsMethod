    @Override
    public int size() {
        return (int) Math.min(delegate.size(), max);
    }

