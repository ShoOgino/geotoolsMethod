    protected void setCentralMeridian(double centralMeridian) {
        // compute the earth half circle in target CRS coordinates
        try {
            CoordinateReferenceSystem targetCRS = renderingEnvelope.getCoordinateReferenceSystem();
            MathTransform mt = CRS.findMathTransform(WGS84, targetCRS, true);
            double[] src = {centralMeridian, 0, 180 + centralMeridian, 0};
            double[] dst = new double[4];
            mt.transform(src, 0, dst, 0, 2);

            if (CRS.getAxisOrder(targetCRS) == CRS.AxisOrder.NORTH_EAST) {
                targetHalfCircle = Math.abs(dst[3] - dst[1]);
            } else {
                targetHalfCircle = Math.abs(dst[2] - dst[0]);
            }

            if (targetHalfCircle <= 0) {
                throw new RuntimeException("Computed Earth half circle is 0, what is going on?");
            }
        } catch (Exception e) {
            throw new RuntimeException(
                    "Unexpected error computing the Earth half circle in the current projection",
                    e);
        }

        computeDatelineX();
    }

