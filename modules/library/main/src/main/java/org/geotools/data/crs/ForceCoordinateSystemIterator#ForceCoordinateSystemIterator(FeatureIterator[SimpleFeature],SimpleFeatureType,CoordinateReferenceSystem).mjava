    /**
     * Builds a new ForceCoordinateSystemFeatureReader
     *
     * @param reader
     * @param cs
     * @throws SchemaException
     */
    public ForceCoordinateSystemIterator(
            FeatureIterator<SimpleFeature> reader,
            SimpleFeatureType type,
            CoordinateReferenceSystem cs)
            throws SchemaException {
        if (cs == null) {
            throw new NullPointerException("CoordinateSystem required");
        }
        CoordinateReferenceSystem originalCs =
                type.getGeometryDescriptor().getCoordinateReferenceSystem();

        if (!cs.equals(originalCs)) {
            type = FeatureTypes.transform(type, cs);
        }
        builder = new SimpleFeatureBuilder(type);

        this.reader = reader;
    }

