    /**
     * Returns the list of descriptors defined in the provided schema, preserving declaration order
     * when relevant.
     *
     * @param schema
     * @return
     */
    // @SuppressWarnings("unchecked")
    public static List /* <? extends Descriptor> */ list(AttributeType type) {

        ArrayList list = new ArrayList();

        if (type instanceof ComplexType) {
            list = new ArrayList(((ComplexType) type).getDescriptors());
        }

        return list;

        // if (schema instanceof OrderedDescriptor) {
        // return ((OrderedDescriptor) schema).sequence();
        // } else if (schema instanceof AllDescriptor) {
        // return new ArrayList/*<AttributeDescriptor>*/(((AllDescriptor)
        // schema)
        // .all());
        // } else if (schema instanceof ChoiceDescriptor) {
        // return new ArrayList/*<Descriptor>*/(((ChoiceDescriptor) schema)
        // .options());
        // }
        //
        // return Collections.EMPTY_LIST;

    }

