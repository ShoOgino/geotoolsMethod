    /**
     * Create default values matching the provided feature type.
     * 
     * @param featureType
     * @param values
     * 
     * @return set of default values
     * 
     * @throws IllegalAttributeException
     * @throws ArrayIndexOutOfBoundsException
     */
    public static Object[] defaultValues(SimpleFeatureType featureType, Object[] values)
            throws IllegalAttributeException {
        if (values == null) {
            values = new Object[featureType.getAttributeCount()];
        } else if (values.length != featureType.getAttributeCount()) {
            throw new ArrayIndexOutOfBoundsException("values");
        }

        for (int i = 0; i < featureType.getAttributeCount(); i++) {
            values[i] = defaultValue(featureType.getDescriptor(i));
        }

        return values;
    }

