    /**
     * Calculates the number of features of a specified query. Subclasses must implement this
     * method. If the computation is not fast, it's possible to return -1.
     */
    protected abstract int getCountInternal(Query query) throws IOException;

