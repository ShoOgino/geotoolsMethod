    /**
     * Adds an association to the complex attribute being built. <br>
     *
     * <p>This method uses the type supplied in {@link #setType(AttributeType)} in order to
     * determine the association type.
     *
     * @param value The value of the association, an attribute.
     * @param name The name of the association.
     * @param namespaceURI The namespace of the association
     */
    public void associate(Attribute value, Name name) {
        AssociationDescriptor descriptor = associationDescriptor(name);
        Association association = attributeFactory.createAssociation(value, descriptor);

        properties().add(association);
    }

