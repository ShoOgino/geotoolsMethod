    /**
     * Creates a restriction based on the attribute value length
     *
     * @param length The maximum allowed length
     * @return The restriction
     */
    public static Filter createLengthRestriction(int length) {
        if (length < 0) {
            return null;
        }
        LengthFunction lengthFunction =
                (LengthFunction) FF.function("LengthFunction", new Expression[] {FF.property(".")});
        if (lengthFunction == null) {
            return null;
        }
        Filter cf = null;
        try {
            cf = FF.lessOrEqual(lengthFunction, FF.literal(length));
        } catch (IllegalFilterException e) {
            // TODO something
        }
        return cf == null ? Filter.EXCLUDE : cf;
    }

