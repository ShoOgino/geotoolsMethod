    /**
     * Clone the StrokeImpl object.
     *
     * <p>The clone is a deep copy of the original, except for the expression values which are
     * immutable.
     *
     * @see org.geotools.styling.Stroke#clone()
     */
    public Object clone() {
        try {
            StrokeImpl clone = (StrokeImpl) super.clone();

            if (dashArray != null) {
                clone.setDashArray((new ArrayList<>(dashArray)));
            }

            if (fillGraphic != null && fillGraphic instanceof Cloneable) {
                clone.fillGraphic = (GraphicImpl) ((Cloneable) fillGraphic).clone();
            }

            if (strokeGraphic != null && fillGraphic instanceof Cloneable) {
                clone.strokeGraphic = (GraphicImpl) ((Cloneable) strokeGraphic).clone();
            }

            return clone;
        } catch (CloneNotSupportedException e) {
            // This will never happen
            throw new RuntimeException("Failed to clone StrokeImpl");
        }
    }

