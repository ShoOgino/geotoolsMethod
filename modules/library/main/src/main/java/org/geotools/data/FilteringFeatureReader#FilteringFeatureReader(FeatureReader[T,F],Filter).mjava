    /**
     * Creates a new instance of AbstractFeatureReader
     *
     * <p>Please don't call this method with Filter.INCLUDE or Filter.EXCLUDE (consider not
     * filtering and EmptyFeatureReader instead)
     *
     * @param featureReader FeatureReader<SimpleFeatureType, SimpleFeature> being filtered
     * @param filter Filter used to limit the results of featureReader
     */
    public FilteringFeatureReader(FeatureReader<T, F> featureReader, Filter filter) {
        this.featureReader = featureReader;
        this.filter =
                (Filter)
                        filter.accept(
                                new BindingFilterVisitor(featureReader.getFeatureType()), null);
        next = null;
    }

