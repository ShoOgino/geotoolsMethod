    /**
     * Convenience method for getting the descriptor of the default geometry type. This method will
     * first try to look up the supplied <code>defaultGeom</code> property, if it cant find, it will
     * try to locate any added geometry.
     */
    protected GeometryDescriptor defaultGeometry() {
        if (defaultGeom != null) {
            for (PropertyDescriptor pd : properties) {
                if (pd.getName().equals(defaultGeom)) {
                    return (GeometryDescriptor) pd;
                }
            }
        }

        // not found or not set, return first geometry
        for (PropertyDescriptor pd : properties) {
            if (pd instanceof GeometryDescriptor) {
                return (GeometryDescriptor) pd;
            }
        }
        return null;
    }

