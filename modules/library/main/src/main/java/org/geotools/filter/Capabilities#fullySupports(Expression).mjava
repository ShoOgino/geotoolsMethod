    /**
     * Determines if the expression and all its sub expressions is supported.
     *
     * <p>The Expression visitor used for this work can handle null, even so care should be taken to
     * useExpression.NIL where you can.
     *
     * <p>
     *
     * @see IsFullySupportedFilterVisitor
     * @param filter the filter to be tested.
     * @return true if all sub filters are supported, false otherwise.
     */
    public boolean fullySupports(Expression expression) {
        if (expression == null) {
            return false;
        }
        if (fullySupportedVisitor == null) {
            fullySupportedVisitor = new IsFullySupportedFilterVisitor(contents);
        }
        return (Boolean) expression.accept(fullySupportedVisitor, null);
    }

