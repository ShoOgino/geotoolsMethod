        @SuppressWarnings("unchecked")
        public <T> T convert(Object source, Class<T> target) throws Exception {
            // checks
            if (source == null || target == null) {
                return null;
            }

            // STRING TO CRS
            if ((source instanceof String)
                    && CoordinateReferenceSystem.class.isAssignableFrom(target)) {
                if (LOGGER.isLoggable(Level.FINE)) {
                    LOGGER.fine(
                            "CRSConverter: Converting object of class "
                                    + source.getClass().getCanonicalName()
                                    + " to "
                                    + target.getCanonicalName());
                }
                // convert
                String input = (String) source;
                input = input.trim();

                // try the decode first for EPSG:XXX
                try {
                    return (T) CRS.decode(input);
                } catch (Exception e) {
                    if (LOGGER.isLoggable(Level.FINE)) {
                        LOGGER.log(Level.FINE, e.getLocalizedMessage(), e);
                    }
                }

                // try the wkt afterwards
                try {
                    return (T) CRS.parseWKT(input);
                } catch (Exception e) {
                    if (LOGGER.isLoggable(Level.FINE)) {
                        LOGGER.log(Level.FINE, e.getLocalizedMessage(), e);
                    }
                }
            }

            // CRS TO STRING
            if ((source instanceof CoordinateReferenceSystem)
                    && String.class.isAssignableFrom(target)) {
                if (LOGGER.isLoggable(Level.FINE)) {
                    LOGGER.fine(
                            "CRSConverter: Converting object of class "
                                    + source.getClass().getCanonicalName()
                                    + " to "
                                    + target.getCanonicalName());
                }
                try {
                    return (T) ((CoordinateReferenceSystem) source).toWKT();
                } catch (Exception e) {
                    if (LOGGER.isLoggable(Level.FINE)) {
                        LOGGER.log(Level.FINE, e.getLocalizedMessage(), e);
                    }
                }
            }

            // failed
            if (LOGGER.isLoggable(Level.FINE)) {
                LOGGER.fine(
                        "CRSConverter: Unable to convert object of class "
                                + source.getClass().getCanonicalName()
                                + " to "
                                + target.getCanonicalName());
            }
            return null;
        }

