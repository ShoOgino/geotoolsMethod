    public <O> O[] toArray(O[] a) {
        List<F> list = new ArrayList<>();
        FeatureIterator<F> i = features();
        try {
            while (i.hasNext()) {
                list.add(i.next());
            }
            return list.toArray(a);
        } finally {
            i.close();
        }
    }

