    private static SimpleFeatureType forceType(
            SimpleFeatureType startingType, CoordinateReferenceSystem forcedCS)
            throws SchemaException {
        if (forcedCS == null) {
            throw new NullPointerException("CoordinateSystem required");
        }
        CoordinateReferenceSystem originalCs =
                startingType.getGeometryDescriptor().getCoordinateReferenceSystem();

        if (forcedCS.equals(originalCs)) {
            return startingType;
        } else {
            return FeatureTypes.transform(startingType, forcedCS);
        }
    }

