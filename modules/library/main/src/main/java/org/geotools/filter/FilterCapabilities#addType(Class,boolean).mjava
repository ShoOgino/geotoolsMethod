    /**
     * Adds a new support type to capabilities. For 2.2 only function expression support is added
     * this way. As of geotools 2.3 this will be the supported way of adding to Filtercapabilities.
     *
     * @param type the Class that indicates the new support.
     */
    public void addType(Class type, boolean addFunctionType) {
        if (org.opengis.filter.Filter.class.isAssignableFrom(type)
                || org.opengis.filter.expression.Expression.class.isAssignableFrom(type)) {
            if (addFunctionType) addType(FUNCTIONS);
            functions.add(type);
        }
    }

