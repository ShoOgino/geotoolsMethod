        /**
         * Creates a new instance of the specified factory using the specified hints.
         *
         * @param category The category to instantiate.
         * @param implementation The factory class to instantiate.
         * @param hints The implementation hints.
         * @return The factory.
         * @throws FactoryRegistryException if the factory creation failed.
         */
        protected Object createServiceProvider(
                final Class category, final Class implementation, final Hints hints)
                throws FactoryRegistryException {
            if (GeometryFactory.class.isAssignableFrom(category)
                    && GeometryFactory.class.equals(implementation)) {
                return new GeometryFactory(
                        getPrecisionModel(hints),
                        getSRID(hints),
                        getCoordinateSequenceFactory(hints));
            }
            return super.createServiceProvider(category, implementation, hints);
        }

