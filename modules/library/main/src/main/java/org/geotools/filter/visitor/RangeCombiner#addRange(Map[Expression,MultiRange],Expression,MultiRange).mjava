    private void addRange(
            Map<Expression, MultiRange> rangeMap, Expression expression, MultiRange other) {
        MultiRange ranges = rangeMap.get(expression);
        if (ranges == null) {
            rangeMap.put(expression, other);
        } else {
            MultiRange combined = combineRanges(ranges, other);
            rangeMap.put(expression, combined);
        }
    }

