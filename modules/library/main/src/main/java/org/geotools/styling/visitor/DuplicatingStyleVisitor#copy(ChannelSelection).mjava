    protected ChannelSelection copy(ChannelSelection channelSelection) {
        if (channelSelection == null) return null;

        if (channelSelection.getGrayChannel() != null) {
            return sf.createChannelSelection(
                    new SelectedChannelType[] {copy(channelSelection.getGrayChannel())});
        } else {
            return sf.createChannelSelection(copy(channelSelection.getRGBChannels()));
        }
    }

