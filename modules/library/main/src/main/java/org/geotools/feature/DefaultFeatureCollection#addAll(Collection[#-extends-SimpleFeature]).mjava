    /**
     * Adds all of the elements in the specified collection to this collection
     * (optional operation).  The behavior of this operation is undefined if
     * the specified collection is modified while the operation is in
     * progress. (This implies that the behavior of this call is undefined if
     * the specified collection is this collection, and this collection is
     * nonempty.)
     *
     * @param collection elements to be inserted into this collection.
     *
     * @return <tt>true</tt> if this collection changed as a result of the call
     *
     * @see #add(Object)
     */
   @Override
    public boolean addAll(Collection<? extends SimpleFeature> collection) {
    	//TODO check inheritance with FeatureType here!!!
        boolean changed = false;
        
        Iterator<?> iterator = collection.iterator();
        try {
            while (iterator.hasNext()) {
                SimpleFeature f = (SimpleFeature) iterator.next();
                boolean added = add(f,false);
                changed |= added;
            }    
            return changed;
        }
        finally {
            if( iterator instanceof FeatureIterator ){
                ((FeatureIterator<?>)iterator).close();
            }
        }
    }

