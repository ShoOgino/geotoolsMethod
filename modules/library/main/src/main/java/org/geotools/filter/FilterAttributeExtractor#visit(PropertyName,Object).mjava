    public Object visit(PropertyName expression, Object data) {
        if (data != null && data != attributeNames) {
            attributeNames = (Set<String>) data;
        }
        propertyNames.add(expression);

        if (featureType != null) {
            // evaluate against the feature type instead of using straight name
            // since the path from the property name may be an XPath or a
            // namespace prefixed string
            AttributeDescriptor type = (AttributeDescriptor) expression.evaluate(featureType);
            if (type != null) {
                attributeNames.add(type.getLocalName());
            } else {
                attributeNames.add(expression.getPropertyName());
            }
        } else {
            attributeNames.add(expression.getPropertyName());
        }

        return attributeNames;
    }

