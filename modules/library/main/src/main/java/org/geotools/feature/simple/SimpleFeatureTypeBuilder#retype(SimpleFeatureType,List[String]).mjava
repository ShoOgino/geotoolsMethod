    public static SimpleFeatureType retype(SimpleFeatureType original, List<String> types) {
        SimpleFeatureTypeBuilder b = new SimpleFeatureTypeBuilder();

        // initialize the builder
        b.init(original);

        // clear the attributes
        b.attributes().clear();

        // add attributes in order
        for (String type : types) {
            b.add(original.getDescriptor(type));
        }

        // handle default geometry
        GeometryDescriptor defaultGeometry = original.getGeometryDescriptor();
        if (defaultGeometry != null && types.contains(defaultGeometry.getLocalName())) {
            b.setDefaultGeometry(defaultGeometry.getLocalName());
        } else {
            b.setDefaultGeometry(null);
        }

        return b.buildFeatureType();
    }

