    @Override
    public Set toSet() {
        Object value = getValue();

        if (value == null) {
            return null;
        }

        if (value instanceof Set) {
            Set set = (Set) value;

            return set;
        }

        if (value.getClass().isArray()) {
            @SuppressWarnings("unchecked")
            Object[] cast = (Object[]) value;
            Set set = new HashSet<>(Arrays.asList(cast));

            return set;
        }

        if (value instanceof Collection) {
            @SuppressWarnings("unchecked")
            Collection<Object> cast = (Collection<Object>) value;
            Set set = new HashSet<>(cast);

            return set;
        }

        return null;
    }

