    @Override
    public GeometryAttribute getDefaultGeometryProperty() {
        if (defaultGeometry != null) {
            return defaultGeometry;
        }

        synchronized (this) {
            if (defaultGeometry == null) {
                // look it up from the type
                if (getType().getGeometryDescriptor() == null) {
                    return null;
                }

                GeometryType geometryType = getType().getGeometryDescriptor().getType();

                if (geometryType != null) {
                    for (Property property : getValue()) {
                        if (property instanceof GeometryAttribute) {
                            if (property.getType().equals(geometryType)) {
                                defaultGeometry = (GeometryAttribute) property;
                                break;
                            }
                        }
                    }
                }
            }
        }

        return defaultGeometry;
    }

