    /**
     * Load the index file from the given channel.
     *
     * @param channel The channel to read from.
     * @param hints
     * @throws IOException If an error occurs.
     */
    public PrjFileReader(ReadableByteChannel channel, final Hints hints)
            throws IOException, FactoryException {
        try {
            Charset chars = Charset.forName("ISO-8859-1");
            decoder = chars.newDecoder();
            this.channel = channel;

            init();

            // ok, everything is ready...
            decoder.decode(buffer, charBuffer, true);
            buffer.limit(buffer.capacity());
            charBuffer.flip();
            crs =
                    ReferencingFactoryFinder.getCRSFactory(hints)
                            .createFromWKT(charBuffer.toString());
        } finally {
            // we are done reading, so just close this
            close();
        }
    }

