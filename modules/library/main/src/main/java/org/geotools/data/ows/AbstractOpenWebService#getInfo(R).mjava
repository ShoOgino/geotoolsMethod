    public ResourceInfo getInfo(R resource) {
        if (capabilities == null) {
            return null;
        }
        synchronized (capabilities) {
            if (!resourceInfo.containsKey(resource)) {
                resourceInfo.put(resource, createInfo(resource));
            }
        }
        return resourceInfo.get(resource);
    }

