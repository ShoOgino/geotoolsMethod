    @Override
    public ProjectionHandler getHandler(
            ReferencedEnvelope renderingEnvelope,
            CoordinateReferenceSystem sourceCrs,
            boolean wrap,
            int maxWraps)
            throws FactoryException {
        if (renderingEnvelope == null) return null;
        MapProjection mapProjection =
                CRS.getMapProjection(renderingEnvelope.getCoordinateReferenceSystem());
        if (!(mapProjection instanceof TransverseMercator)) return null;

        double centralMeridian =
                mapProjection
                        .getParameterValues()
                        .parameter(AbstractProvider.CENTRAL_MERIDIAN.getName().getCode())
                        .doubleValue();

        ReferencedEnvelope validArea =
                new ReferencedEnvelope(
                        centralMeridian - 45,
                        centralMeridian + 45,
                        -85,
                        85,
                        DefaultGeographicCRS.WGS84);

        ProjectionHandler ph = new ProjectionHandler(sourceCrs, validArea, renderingEnvelope);
        if ((validArea.getMinX() < 180 && validArea.getMaxX() > 180)
                || (validArea.getMinX() < -180 && validArea.getMaxX() > -180)) {
            ph.computeDatelineX();
        }

        return ph;
    }

