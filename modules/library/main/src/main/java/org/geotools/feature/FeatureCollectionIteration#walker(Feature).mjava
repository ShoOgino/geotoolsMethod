    /**
     * Perform the visitation of an individual Feature.
     *
     * @param feature The Feature to explore.
     */
    protected void walker(Feature feature) {
        final FeatureType schema = feature.getType();
        //final int cnt = schema.getAttributeCount();

        handler.handleFeature(feature);

        for( Property property : feature.getProperties() ){
            Class<?> binding = property.getType().getBinding();
            // recurse if attribute type is another collection
            if (FeatureCollection.class.isAssignableFrom( binding )) {
                walker((FeatureCollection) property.getValue() );
//            } else if (type instanceof FeatureType) {
            } else if (Feature.class.isAssignableFrom(binding)) {
                // recurse if attribute type is another feature
                walker((Feature) property.getValue() );
            } else {
                // normal handling
                handler.handleAttribute(property.getDescriptor(), property.getValue() );
            }
        }

        handler.endFeature(feature);
    }

