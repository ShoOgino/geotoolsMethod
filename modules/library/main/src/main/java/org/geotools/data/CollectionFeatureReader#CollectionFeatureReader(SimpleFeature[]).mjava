    /**
     * Create a new instance.
     *
     * @param featuresArg an of features. <b>All features must be of the same FeatureType</b>
     */
    public CollectionFeatureReader(SimpleFeature[] featuresArg) {
        assert featuresArg.length > 0;
        Iterator<SimpleFeature> iterator = Arrays.asList(featuresArg).iterator();
        this.features = new DelegateSimpleFeatureIterator(iterator);
        type = featuresArg[0].getFeatureType();
    }

