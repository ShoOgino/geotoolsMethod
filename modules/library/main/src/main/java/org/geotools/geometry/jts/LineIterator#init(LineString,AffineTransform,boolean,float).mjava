    /**
     * @param ls
     * @param at
     * @param generalize
     * @param maxDistance
     */
    public void init(LineString ls, AffineTransform at, boolean generalize, float maxDistance) {
        if (at == null) at = new AffineTransform();
        _init(ls, at, generalize, maxDistance);

        xScale =
                (float)
                        Math.sqrt(
                                (at.getScaleX() * at.getScaleX())
                                        + (at.getShearX() * at.getShearX()));
        yScale =
                (float)
                        Math.sqrt(
                                (at.getScaleY() * at.getScaleY())
                                        + (at.getShearY() * at.getShearY()));
    }

