    /**
     * Builds the HSL representation of a color
     * 
     * @param color
     */
    public HSLColor(Color color) {
        double r = color.getRed() / 255d;
        double g = color.getGreen() / 255d;
        double b = color.getBlue() / 255d;
        alpha = color.getAlpha() / 255d;

        // min and max rgb
        double min = Math.min(r, Math.min(g, b));
        double max = Math.max(r, Math.max(g, b));

        // luminance
        lightness = (max + min) / 2;

        // saturation
        saturation = 0;
        if (max == min) {
            saturation = 0;
        } else if (lightness <= .5f) {
            saturation = (max - min) / (max + min);
        } else {
            saturation = (max - min) / (2 - max - min);
        }

        // hue
        hue = 0;
        if (max == min) {
            hue = 0;
        } else if (max == r) {
            hue = ((60 * (g - b) / (max - min)) + 360) % 360;
        } else if (max == g) {
            hue = (60 * (b - r) / (max - min)) + 120;
        } else if (max == b) {
            hue = (60 * (r - g) / (max - min)) + 240;
        }
    }

