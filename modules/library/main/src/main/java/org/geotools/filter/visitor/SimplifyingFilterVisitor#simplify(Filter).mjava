    /**
     * Tries to simplify the filter if it's not already a simple one.
     * 
     * @param filter
     * @return
     */
    public static Filter simplify(Filter filter) {
        return simplify(filter, null);
    }

