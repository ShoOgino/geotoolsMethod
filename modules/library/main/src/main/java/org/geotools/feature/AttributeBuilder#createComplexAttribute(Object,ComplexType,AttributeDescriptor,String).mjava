    /** Create complex attribute */
    public ComplexAttribute createComplexAttribute(
            Object value, ComplexType type, AttributeDescriptor descriptor, String id) {
        return descriptor != null
                ? attributeFactory.createComplexAttribute(
                        toPropertyCollection(value), descriptor, id)
                : attributeFactory.createComplexAttribute(toPropertyCollection(value), type, id);
    }

