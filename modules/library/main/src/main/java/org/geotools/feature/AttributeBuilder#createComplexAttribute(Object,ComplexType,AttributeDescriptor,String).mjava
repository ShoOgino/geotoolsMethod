    /**
     * Create complex attribute
     *
     * @param value
     * @param type
     * @param descriptor
     * @param id
     * @return
     */
    public ComplexAttribute createComplexAttribute(
            Object value, ComplexType type, AttributeDescriptor descriptor, String id) {
        return descriptor != null
                ? attributeFactory.createComplexAttribute((Collection) value, descriptor, id)
                : attributeFactory.createComplexAttribute((Collection) value, type, id);
    }

