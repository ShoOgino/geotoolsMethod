    /**
     * Find the first child-filter (or the base filter itself) that is of the given type and uses
     * the specified property.
     *
     * @param filter
     * @param filterType - class of the filter to look for
     * @param property - name of the property to look for
     * @return
     */
    public static <T extends Filter> T search(
            Filter filter, Class<T> filterType, String propertyName) {
        List<Filter> allBase = children(filter);
        for (Filter base : allBase) {
            if (filterType.isInstance(base) && uses(base, propertyName)) {
                return filterType.cast(base);
            }
        }
        return null; // not found
    }

