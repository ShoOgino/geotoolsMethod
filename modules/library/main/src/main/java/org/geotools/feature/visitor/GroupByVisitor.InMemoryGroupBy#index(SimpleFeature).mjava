        /**
         * Add a feature to the appropriate group by feature collection.
         *
         * @param feature the feature to be indexed
         */
        void index(SimpleFeature feature) {
            // list of group by attributes values
            List<Object> groupByValues = groupByAttributes.stream()
                    .map(expression -> expression.evaluate(feature)).collect(Collectors.toList());
            // check if a feature collection already for the group by values
            DefaultFeatureCollection featureCollection = groupByIndexes.get(groupByValues);
            if (featureCollection == null) {
                // we create a feature collection for the group by values
                featureCollection = new DefaultFeatureCollection();
                groupByIndexes.put(groupByValues, featureCollection);
            }
            featureCollection.add(feature);
        }

