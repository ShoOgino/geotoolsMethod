    /**
     * This method computes reprojected bounds the hard way, but computing them feature by feature.
     * This method could be faster if computed the reprojected bounds by reprojecting the original
     * feature bounds a Shape object, thus getting the true shape of the reprojected envelope, and
     * then computing the minumum and maximum coordinates of that new shape. The result would not a
     * true representation of the new bounds, but it would be guaranteed to be larger that the true
     * representation.
     *
     * @see org.geotools.data.FeatureResults#getBounds()
     */
    public ReferencedEnvelope getBounds() {
        try (SimpleFeatureIterator r = features()) {
            Envelope newBBox = new Envelope();
            Envelope internal;
            SimpleFeature feature;

            while (r.hasNext()) {
                feature = r.next();
                final Geometry geometry = ((Geometry) feature.getDefaultGeometry());
                if (geometry != null) {
                    internal = geometry.getEnvelopeInternal();
                    newBBox.expandToInclude(internal);
                }
            }
            return ReferencedEnvelope.reference(newBBox);
        } catch (Exception e) {
            throw new RuntimeException("Exception occurred while computing reprojected bounds", e);
        }
    }

