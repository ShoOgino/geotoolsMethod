    /**
     * Initializes and create the new compiler
     *
     * @return CQLCompiler
     */
    public static ICompiler makeCompiler(
            final Language language, final String predicate, final FilterFactory filterFactory)
            throws CQLException {

        FilterFactory ff = filterFactory;

        if (filterFactory == null) {
            ff = CommonFactoryFinder.getFilterFactory((Hints) null);
        }
        ICompiler compiler;
        if (language == Language.ECQL) {
            compiler = new ECQLCompiler(predicate, ff);
        } else {
            compiler = new CQLCompiler(predicate, ff);
        }
        return compiler;
    }

