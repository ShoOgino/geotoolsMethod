    /**
     * Makes an stack with the geometries indeed by the typeGeom
     *
     * @return an Stack with the required geometries
     */
    protected Stack<Coordinate> popCoordinatesOf(int geomNode) throws CQLException {
        Stack<Coordinate> stack = new Stack<>();
        while (!getResultStack().empty()) {

            Result result = getResultStack().peek();

            int node = result.getNodeType();
            if (node != geomNode) {
                break;
            }
            getResultStack().popResult();
            Coordinate coordinate = (Coordinate) result.getBuilt();

            stack.push(coordinate);
        }
        return stack;
    }

