	private Literal asLiteralTemporal(String strDate, String strTime, String timeZoneOffset) 
	        throws ParseException {
            StringBuilder format = new StringBuilder("yyyy-MM-dd");
            if (strTime != null && !"".equals(strTime)) {
                    format.append(" HH:mm:ss");
                    if (strTime.contains(".")) {
                        //includes milliseconds
                        format.append(".SSS");
                    }
                    
            }
            TimeZone tz = null;
            if (timeZoneOffset != null && !"".equals(timeZoneOffset)) {
                    if ("Z".equals(timeZoneOffset)) { // it is Zulu or 0000 zone (old syntax)
                            timeZoneOffset = "GMT+00:00";
                    }
                    else {
                        timeZoneOffset = "GMT"+timeZoneOffset;
                    }
                    tz = TimeZone.getTimeZone(timeZoneOffset);
            } else { // the time zone offset wasn't specified then the time zone is that provided by the host
                    tz = TimeZone.getDefault();
            }
            DateFormat formatter = new SimpleDateFormat(format.toString());
            formatter.setTimeZone(tz);

            Date date;
            if (!"".equals(strTime)) {
                    date = formatter.parse(strDate + " " + strTime);
            } else {
                    date = formatter.parse(strDate);
            }
            Literal literalDate = filterFactory.literal(date);

            return literalDate;
	}

