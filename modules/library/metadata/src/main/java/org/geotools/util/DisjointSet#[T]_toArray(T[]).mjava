    /**
     * Returns an array containing all of the elements in this collection.
     *
     * @param <T> The type of elements in the array.
     * @param  a The array into which the elements of the set are to be
     *           stored, if it is big enough; otherwise, a new array of
     *           the same runtime type is allocated for this purpose.
     * @return an array containing the elements of the set.
     */
    @Override
    public <T> T[] toArray(final T[] a) {
        synchronized (map) {
            return super.toArray(a);
        }
    }

