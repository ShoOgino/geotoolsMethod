    /**
     * Returns the specified collection, or a new one if {@code c} is null. This is a convenience
     * method for implementation of {@code getFoo()} methods.
     *
     * @param  <E> The type of elements in the collection.
     * @param c The collection to checks.
     * @param elementType The element type (used only if {@code c} is null).
     * @return {@code c}, or a new collection if {@code c} is null.
     */
    protected final <E> Collection<E> nonNullCollection(
            final Collection<E> c, final Class<E> elementType) {
        if (c != null) {
            return c;
        }
        if (isModifiable()) {
            return new MutableSet<E>(elementType);
        }
        return Collections.emptySet();
    }

