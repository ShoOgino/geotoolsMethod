    /**
     * Returns a hash code for the specified metadata. The hash code is defined as the sum of hash
     * code values of all non-null properties. This is the same contract than {@link
     * java.util.Set#hashCode} and ensure that the hash code value is insensitive to the ordering of
     * properties.
     */
    public int hashCode(final Object metadata) {
        assert type.isInstance(metadata) : metadata;
        int code = 0;
        for (Method getter : getters) {
            final Object value = get(getter, metadata);
            if (!isEmpty(value)) {
                code += value.hashCode();
            }
        }
        return code;
    }

