    /**
     * Sets the maximal {@linkplain #size size} allowed for this map. If the given size is smaller
     * than the previous one, eldest entries will be immediately removed.
     *
     * @param max The new maximal size.
     * @throws IllegalArgumentException if the given size is negative.
     * @since 2.5
     */
    public void setMaximumSize(final int max) {
        checkMaximumSize(max);
        maximumSize = max;
        removeExtraEntries();
    }

