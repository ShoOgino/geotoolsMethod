    /**
     * Copies all of the mappings from the specified map to this map.
     *
     * @throws UnsupportedOperationException if this collection is unmodifiable.
     */
    @Override
    public void putAll(Map<? extends K, ? extends V> m) throws UnsupportedOperationException {
        for (final Map.Entry<? extends K, ? extends V> entry : m.entrySet()) {
            ensureValidType(entry.getKey(), keyType);
            ensureValidType(entry.getValue(), valueType);
        }
        synchronized (getLock()) {
            checkWritePermission();
            super.putAll(m);
        }
    }

