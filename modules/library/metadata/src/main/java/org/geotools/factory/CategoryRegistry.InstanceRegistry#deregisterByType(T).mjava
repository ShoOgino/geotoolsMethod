        /** @return {true} if an instance of the same type was previously registered */
        private boolean deregisterByType(final T instance) {
            T removed = instancesByType.remove(instance.getClass());
            boolean instanceWasRemoved = removed != null;

            if (instanceWasRemoved) {
                orderedInstances.remove(removed);
                notifyDeregistered(removed);
            }

            return instanceWasRemoved;
        }

