		// documentation hint: returns true if an instance of the same type was previously registered
		private boolean deregisterByType(final T instance) {
			T removed = instancesByType.remove(instance.getClass());
			instances.remove(instance);
			// TODO: if `removed != null`, call onDeregistration with `removed`
			return removed != null;
		}

