    /**
     * Gets a print writer for the specified print stream.
     *
     * @param out The print stream to wrap.
     * @return A {@link PrintWriter} wrapping the specified print stream.
     */
    public static PrintWriter getPrintWriter(final PrintStream out) {
        if (out == System.out || out == System.err) {
            final PrintWriter candidate = Java6.consoleWriter();
            if (candidate != null) {
                return candidate;
            }
        }
        return new PrintWriter(out, true);
    }

