    /**
     * Returns the last element in this set.
     *
     * <ul>
     *   <li>For sets created with the default order, this is the most frequently added element. If
     *       more than one element were added with the same frequency, this is the last one that has
     *       been {@linkplain #added} to this set at this frequency.
     *   <li>For sets created with the reverse order, this is the less frequently added element. If
     *       more than one element were added with the same frequency, this is the last one that has
     *       been {@linkplain #added} to this set at this frequency.
     * </ul>
     *
     * @throws NoSuchElementException if this set is empty.
     */
    @Override
    public E last() throws NoSuchElementException {
        ensureSorted();
        final int length = sorted.length;
        if (length != 0) {
            return sorted[length - 1];
        } else {
            throw new NoSuchElementException();
        }
    }

