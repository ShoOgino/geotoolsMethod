    /** Ensures that the given range use the same element class than this range. */
    @SuppressWarnings("unchecked")
    private Range<? extends T> ensureCompatible(final Range<?> range)
            throws IllegalArgumentException {
        ensureNonNull("range", range);
        ensureCompatible(range.elementClass);
        return (Range<? extends T>) range;
    }

