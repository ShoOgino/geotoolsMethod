    /**
     * Returns the element type in collection for the specified method.
     */
    private Class getElementType(final String className, final Method method) {
        final String key = className+'.'+method.getName();
        final String typeName = collectionTypes.getProperty(key);
        Exception cause = null;
        if (typeName != null) try {
            return Class.forName(typeName);
        } catch (ClassNotFoundException exception) {
            cause = exception;
        }
        // TODO: localize.
        final MetadataException e = new MetadataException("Unknow element type for "+key);
        if (cause != null) {
            e.initCause(cause);
        }
        throw e;
    }

