    /**
     * Adds to the specified logger a {@link Handler} using a {@code MonolineFormatter}
     * set at the specified level. The formatter is returned for convenience.
     */
    private static MonolineFormatter addHandler(final Logger logger, final Level level) {
        final MonolineFormatter monoline = new MonolineFormatter();
        try {
            final Handler handler = new ConsoleHandler();
            handler.setFormatter(monoline);
            if (level != null) {
                handler.setLevel(level);
            }
            logger.addHandler(handler);
        } catch (SecurityException exception) {
            unexpectedException(exception);
            /*
             * Returns without any change to the J2SE configuration. Note that the returned
             * MonolineFormatter is really a dummy one, since we failed to register it.  It
             * will not prevent to program to work; just produces different logging outputs.
             */
        }
        return monoline;
    }

