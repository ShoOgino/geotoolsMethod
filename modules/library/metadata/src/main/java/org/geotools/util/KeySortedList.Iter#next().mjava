        /** Returns the next element in the list. */
        @Override
        public V next() {
            while (!valuesIter.hasNext()) {
                if (entriesIter.hasNext()) {
                    final Map.Entry<K, List<V>> entry = entriesIter.next();
                    base += values.size(); // Must be before 'values' new assignement.
                    key = entry.getKey();
                    values = entry.getValue();
                    valuesIter = values.listIterator();
                } else {
                    key = null;
                    values = Collections.emptyList();
                    valuesIter = values.listIterator();
                    break;
                }
            }
            return valuesIter.next();
        }

