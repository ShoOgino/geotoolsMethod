    // TODO: document
    public <T> boolean deregisterServiceProvider(final T provider, final Class<T> category) {
        if (provider == null) {
            // TODO: do something fancy like in getServiceProvider(Class, Filter, Hints, Hints.Key) ?
            throw new IllegalArgumentException("The provider must not be null.");
        }
        if (category == null) {
            // TODO: do something fancy like in getServiceProvider(Class, Filter, Hints, Hints.Key) ?
            throw new IllegalArgumentException("The category must not be null.");
        }
        if (!category.isAssignableFrom(provider.getClass())) {
            // TODO: do something fancy like in getServiceProvider(Class, Filter, Hints, Hints.Key) ?
            throw new ClassCastException();
        }
        return registry.deregisterInstance(provider, category);
    }

