    /**
     * Invokes {@link GeoTools#scanSystemProperties} when first needed. The caller is responsible
     * for invoking {@link GeoTools#fireConfigurationChanged} if this method returns {@code true}.
     *
     * @return {@code true} if at least one hint changed as a result of this scan, or {@code false}
     *     otherwise.
     */
    private static boolean ensureSystemDefaultLoaded() {
        if (needScan.get()) {
            Map<RenderingHints.Key, Object> newGlobal =
                    new ConcurrentHashMap<RenderingHints.Key, Object>(GLOBAL);
            boolean modified = GeoTools.scanForSystemHints(newGlobal);
            GLOBAL = newGlobal;
            needScan.set(false);
            return modified;
        } else {
            return false;
        }
    }

