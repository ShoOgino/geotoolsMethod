    /**
     * Utility method used to produce an ObjectCache.
     *
     * @param policy One of "weak", "all", "none", "soft"
     * @param size Used to indicate requested size, exact use depends on policy
     * @return A new ObjectCache
     * @see Hints.BUFFER_POLICY
     */
    public static <K, V> ObjectCache<K, V> create(String policy, int size) {
        if ("weak".equalsIgnoreCase(policy)) {
            return new WeakObjectCache<>(0);
        } else if ("all".equalsIgnoreCase(policy)) {
            return new DefaultObjectCache<>(size);
        } else if ("none".equalsIgnoreCase(policy)) {
            @SuppressWarnings("unchecked")
            ObjectCache<K, V> cast = (ObjectCache<K, V>) NullObjectCache.INSTANCE;
            return cast;
        } else if ("fixed".equalsIgnoreCase(policy)) {
            return new FixedSizeObjectCache<>(size);
        } else if ("soft".equals(policy)) {
            return new SoftObjectCache<>(size);
        } else {
            return new DefaultObjectCache<>(size);
        }
    }

