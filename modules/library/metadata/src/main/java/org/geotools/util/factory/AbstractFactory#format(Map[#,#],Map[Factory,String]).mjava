    /**
     * Formats the specified hints. This method is just the starting point for {@link
     * #format(Writer, Map, String, Map)} below.
     */
    private static String format(final Map<?, ?> hints, final Map<Factory, String> done) {
        final Writer table;
        try {
            table = new TableWriter(null, " ");
            format(table, hints, "  ", done);
        } catch (IOException e) {
            // Should never happen, since we are writing in a buffer.
            throw new AssertionError(e);
        }
        return table.toString();
    }

