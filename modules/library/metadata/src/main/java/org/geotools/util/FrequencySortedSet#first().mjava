    /**
     * Returns the first element in this set.
     *
     * <ul>
     *   <li>For sets created with the default order, this is the less frequently added element. If
     *       more than one element were added with the same frequency, this is the first one that
     *       has been {@linkplain #added} to this set at this frequency.
     *   <li>For sets created with the reverse order, this is the most frequently added element. If
     *       more than one element were added with the same frequency, this is the first one that
     *       has been {@linkplain #added} to this set at this frequency.
     * </ul>
     *
     * @throws NoSuchElementException if this set is empty.
     */
    @Override
    public E first() throws NoSuchElementException {
        ensureSorted();
        if (sorted.length != 0) {
            return sorted[0];
        } else {
            throw new NoSuchElementException();
        }
    }

