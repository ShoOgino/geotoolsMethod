    // TODO: document
    public <T> boolean deregisterFactory(final T factory, final Class<T> category) {
        if (factory == null) {
            // TODO: do something fancy like in getFactory(Class, Predicate, Hints, Hints.Key) ?
            throw new IllegalArgumentException("The factory must not be null.");
        }
        if (category == null) {
            // TODO: do something fancy like in getFactory(Class, Predicate, Hints, Hints.Key) ?
            throw new IllegalArgumentException("The category must not be null.");
        }
        if (!category.isAssignableFrom(factory.getClass())) {
            // TODO: do something fancy like in getFactory(Class, Predicate, Hints, Hints.Key) ?
            throw new ClassCastException();
        }
        return registry.deregisterInstance(factory, category);
    }

