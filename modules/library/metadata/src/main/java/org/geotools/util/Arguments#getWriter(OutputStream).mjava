    /**
     * Gets a writer for the specified output stream.
     *
     * @param out The output stream to wrap.
     * @return A {@link Writer} wrapping the specified output stream.
     */
    public static Writer getWriter(final OutputStream out) {
        if (out == System.out || out == System.err) {
            final PrintWriter candidate = Java6.consoleWriter();
            if (candidate != null) {
                return candidate;
            }
        }
        return new OutputStreamWriter(out);
    }

