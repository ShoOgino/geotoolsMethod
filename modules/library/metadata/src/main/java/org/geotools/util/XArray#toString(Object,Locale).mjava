    /**
     * Returns a string representation of an array of numbers. Current implementation supports only
     * primitive or subclasses of {@link Number}.
     *
     * @param array The array to format.
     * @param locale The locale for formatting.
     * @return The formatted array.
     * @todo The separator should be local-dependent.
     * @todo Should we implements this functionality in {@link org.geotools.util.LineFormat}
     *     instead?
     */
    public static String toString(final Object array, final Locale locale) {
        final StringBuffer buffer = new StringBuffer();
        final NumberFormat format = NumberFormat.getNumberInstance(locale);
        final FieldPosition dummy = new FieldPosition(0);
        final int length = Array.getLength(array);
        for (int i = 0; i < length; i++) {
            if (i != 0) {
                buffer.append(", "); // TODO: the separator should be local-dependent.
            }
            format.format(Array.get(array, i), buffer, dummy);
        }
        return buffer.toString();
    }

