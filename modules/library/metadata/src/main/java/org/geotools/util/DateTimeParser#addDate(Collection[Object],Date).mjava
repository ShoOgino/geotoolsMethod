    private static boolean addDate(Collection<Object> result, Date newDate) {
        for (final Object element : result) {
            if (element instanceof Date) {
                if (newDate.equals(element)) return false;
            } else if (((DateRange) element).contains(newDate)) {
                return false;
            }
        }
        return result.add(newDate);
    }

