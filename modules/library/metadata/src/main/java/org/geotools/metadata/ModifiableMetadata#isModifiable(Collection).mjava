    /**
     * Tests if the specified collection is modifiable. This method should be used for assertions
     * only since it destroy the collection content in case of assertion failure.
     */
    private static boolean isModifiable(final Collection collection) {
        if (!collection.isEmpty())
            try {
                collection.clear();
                return true;
            } catch (UnsupportedOperationException e) {
                // This is the expected exception.
            }
        return false;
    }

