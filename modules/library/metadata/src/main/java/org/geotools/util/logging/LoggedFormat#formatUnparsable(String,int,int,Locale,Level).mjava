    /**
     * Formats a log record for an unparsable string. This method is invoked by the {@link #parse
     * parse} method for formatting the log record to be given to the {@link #logWarning} method. It
     * is made public as a convenience for implementors who wish to manage loggings outside this
     * {@code LoggedFormat} class.
     *
     * @param text The unparsable string.
     * @param index The parse position. This is usually {@link ParsePosition#getIndex}.
     * @param errorIndex The index where the error occured. This is usually {@link
     *     ParsePosition#getErrorIndex}.
     * @param locale The locale for the log message, or {@code null} for the default one.
     * @param level The log record level.
     * @return A formatted log record.
     * @since 2.5
     */
    public static LogRecord formatUnparsable(
            final String text,
            final int index,
            final int errorIndex,
            final Locale locale,
            Level level) {
        if (level == null) {
            // It is necessary to ensure that the level argument is non-null,
            // otherwise we would get a ClassCastException in the code below.
            level = Level.WARNING;
        }
        return (LogRecord) doFormatUnparsable(text, index, errorIndex, locale, level);
    }

