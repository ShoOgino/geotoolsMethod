    /**
     * Run the resource compiler.
     *
     * @param args The command-line arguments.
     * @param sourceDirectory The base directory for {@code "java"} {@code "resources"}
     *     sub-directories. The directory structure must be consistent with Maven conventions.
     * @param resourcesToProcess The resource bundle base classes (e.g. <code>
     *     {@linkplain org.geotools.metadata.i18n.Vocabulary}.class}</code>).
     */
    public static void main(
            String[] args,
            final File sourceDirectory,
            final Class<? extends IndexedResourceBundle>[] resourcesToProcess) {
        final Arguments arguments = new Arguments(args);
        final boolean renumber = arguments.getFlag("-renumber");
        final PrintWriter out = arguments.out;
        args = arguments.getRemainingArguments(0);
        if (!sourceDirectory.isDirectory()) {
            out.print(sourceDirectory);
            out.println(" not found or is not a directory.");
            return;
        }
        for (int i = 0; i < resourcesToProcess.length; i++) {
            try {
                scanForResources(sourceDirectory, resourcesToProcess[i], renumber, out);
            } catch (IOException exception) {
                out.println(exception.getLocalizedMessage());
            }
        }
        out.flush();
    }

