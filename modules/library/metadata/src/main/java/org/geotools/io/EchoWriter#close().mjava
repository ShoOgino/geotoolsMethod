    /**
     * Closes the main stream and the echo stream. In the particular case of writers created with
     * the {@linkplain #EchoWriter(Writer) one argument constructor}, the echo stream will not be
     * closed since it maps to the {@linkplain System#out standard output}.
     *
     * @throws IOException If an I/O error occurs.
     */
    @Override
    public void close() throws IOException {
        synchronized (lock) {
            out.close();
            echo.close(); // Overridden with an uncloseable version for System.out.
        }
    }

