    /**
     * Scans the given category for plugins only if needed. After this method has been
     * invoked once for a given category, it will no longer scan for that category.
     */
    private void scanForPluginsIfNeeded(final Class<?> category) {
        if (needScanForPlugins.remove(category)) {
            scanForPlugins(getClassLoaders(), category);
        }
    }

