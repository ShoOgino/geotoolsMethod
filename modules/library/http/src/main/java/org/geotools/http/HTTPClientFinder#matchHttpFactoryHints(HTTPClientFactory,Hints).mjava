    /** If HTTP_CLIENT_FACTORY is set we must match */
    private static boolean matchHttpFactoryHints(HTTPClientFactory fact, Hints hints) {
        if (!hints.containsKey(Hints.HTTP_CLIENT_FACTORY)) {
            return true;
        }
        Object val = hints.get(Hints.HTTP_CLIENT_FACTORY);
        return (val instanceof String
                ? fact.getClass().getName().equalsIgnoreCase((String) val)
                : fact.getClass() == (Class<?>) val);
    }

