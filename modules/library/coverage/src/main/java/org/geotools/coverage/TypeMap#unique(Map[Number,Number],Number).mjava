    /** Returns a single instance of the specified number. */
    private static Number unique(final Map<Number, Number> pool, final Number n) {
        final Number candidate = pool.put(n, n);
        if (candidate == null) {
            return n;
        }
        pool.put(candidate, candidate);
        return candidate;
    }

