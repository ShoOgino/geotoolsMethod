    private String getPath(SimpleFeature feature) throws IOException {
        String path = null;
        if (feature == null) {
            // The reference represents the data file itself
            path = reference.getAbsolutePath();
        } else {
            Object value = feature.getAttribute(FOOTPRINT_LOCATION_ATTRIBUTE);
            if (value instanceof String && !((String) value).matches("^(?i)https?://.*$")) {
                String strValue = (String) value;
                path = getFullPath(strValue);
            } else {
                if (LOGGER.isLoggable(Level.FINE)) {
                    LOGGER.fine(
                            "Could not use the location attribute value to search for "
                                    + "a sidecar file, the value was: "
                                    + value);
                }
            }
        }
        return path;
    }

