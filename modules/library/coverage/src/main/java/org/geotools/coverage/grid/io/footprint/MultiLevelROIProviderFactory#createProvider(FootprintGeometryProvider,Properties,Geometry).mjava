    /**
     * Create the {@link MultiLevelROIProvider} given a {@link FootprintGeometryProvider}, 
     * footprint config properties (if any) and, optionally a Default GranuleBounds geometry
     * 
     * @param provider the {@link FootprintGeometryProvider} instance to be used to provide ROIs.
     * @param properties an optional {@link Properties} instance containing footprints configuration.
     * @param imposedGranuleBounds an optional default granuleBounds geometry
     * @return
     */
    protected static MultiLevelROIProvider createProvider(FootprintGeometryProvider provider,
            Properties properties, Geometry imposedGranuleBounds) {
        // handle inset if necessary
        double inset = FootprintInsetPolicy.getInset(properties);
        FootprintInsetPolicy insetPolicy = FootprintInsetPolicy.getInsetPolicy(properties);
        return new MultiLevelROIGeometryProvider(provider, inset, insetPolicy, imposedGranuleBounds);
    }

