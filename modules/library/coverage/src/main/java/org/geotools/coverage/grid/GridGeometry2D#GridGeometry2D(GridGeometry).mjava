    /**
     * Creates a new grid geometry with the same values than the given grid geometry. This is a copy
     * constructor useful when the instance must be a {@code GridGeometry2D}.
     *
     * @param other The other grid geometry to copy.
     * @see #wrap
     * @since 2.5
     */
    public GridGeometry2D(final GridGeometry other) {
        super(other);
        if (other instanceof GridGeometry2D) {
            final GridGeometry2D gg = (GridGeometry2D) other;
            gridToCRS2D = gg.gridToCRS2D;
            gridFromCRS2D = gg.gridFromCRS2D;
            gridDimensionX = gg.gridDimensionX;
            gridDimensionY = gg.gridDimensionY;
            axisDimensionX = gg.axisDimensionX;
            axisDimensionY = gg.axisDimensionY;
            crs2D = gg.crs2D;
            cornerToCRS2D = gg.cornerToCRS2D;
        } else {
            final int[] dimensions = new int[4];
            gridToCRS2D = getMathTransform2D(gridToCRS, gridRange, dimensions, null);
            gridFromCRS2D = inverse(gridToCRS2D);
            gridDimensionX = dimensions[0];
            gridDimensionY = dimensions[1];
            axisDimensionX = dimensions[2];
            axisDimensionY = dimensions[3];
            crs2D = createCRS2D();
        }
        assert isValid() : this;
    }

