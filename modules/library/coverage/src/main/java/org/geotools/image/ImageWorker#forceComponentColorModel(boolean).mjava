    /**
     * Reformats the {@linkplain ColorModel color model} to a {@linkplain ComponentColorModel
     * component color model} preserving transparency. This is used especially in order to go from
     * {@link PackedColorModel} to {@link ComponentColorModel}, which seems to be well accepted from
     * {@code PNGEncoder} and {@code TIFFEncoder}.
     *
     * <p>This code is adapted from jai-interests mailing list archive.
     *
     * @param checkTransparent tells this method to not consider fully transparent pixels when
     *     optimizing grayscale palettes.
     * @return this {@link ImageWorker}.
     * @see FormatDescriptor
     */
    public final ImageWorker forceComponentColorModel(boolean checkTransparent) {
        return forceComponentColorModel(checkTransparent, true);
    }

