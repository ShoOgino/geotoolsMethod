    /**
     * Constructs a new coverage stack with all the supplied elements. Each element can specify
     * its <var>z</var> range either in the last dimension of its {@linkplain Element#getEnvelope
     * envelope}, or as a separated {@linkplain Element#getZRange range}.
     * <p>
     * If {@code crs} is {@code null}, this constructor will try to infer the CRS from the
     * {@linkplain Element#getEnvelope element envelope} but at least one of those must be
     * associated with a full CRS (including the <var>z</var> dimension).
     *
     * @param  name     The name for this coverage.
     * @param  crs      The coordinate reference system for this coverage, or {@code null}.
     * @param  elements All coverage {@link Element Element}s for this stack.
     * @throws IOException if an I/O operation was required and failed.
     */
    public CoverageStack(final CharSequence name,
                         final CoordinateReferenceSystem crs,
                         final Collection<? extends Element> elements) throws IOException
    {
        this(name, crs, elements.toArray(new Element[elements.size()]));
    }

