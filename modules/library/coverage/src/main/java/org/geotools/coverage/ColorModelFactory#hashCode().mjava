    /** Returns a hash code. */
    @Override
    public int hashCode() {
        final int categoryCount = categories.length;
        int code = 962745549 + ((numBands * 37 + visibleBand) * 37 + type) * 37 + categoryCount;
        for (Category category : categories) {
            code += category.hashCode();
            // Better be independant of categories order.
        }
        return code;
    }

