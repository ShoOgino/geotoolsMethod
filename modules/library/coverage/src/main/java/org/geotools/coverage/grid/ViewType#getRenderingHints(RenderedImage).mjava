    /**
     * Returns suggested rendering hints for a JAI operation on the given image.
     * <p>
     * <ul>
     *   <li>{@link JAI#KEY_INTERPOLATION} is sets to "<cite>nearest neighbor</cite>" if
     *       {@link #isInterpolationAllowed} returns {@code false}, and left unchanged otherwise.</li>
     *   <li>{@link JAI#KEY_REPLACE_INDEX_COLOR_MODEL} is sets to the value returned by
     *       {@link #isReplaceIndexColorModelAllowed}.</li>
     *   <li>{@link JAI#KEY_TRANSFORM_ON_COLORMAP} is sets to the value returned by
     *       {@link #isTransformOnColormapAllowed}.</li>
     * </ul>
     *
     * @since 2.5
     */
    public RenderingHints getRenderingHints(final RenderedImage image) {
        RenderingHints hints = ImageUtilities.getRenderingHints(image);
        if (hints == null) {
            hints = new RenderingHints(null);
        }
        if (!isInterpolationAllowed()) {
            hints.put(JAI.KEY_INTERPOLATION, Interpolation.getInstance(Interpolation.INTERP_NEAREST));
        }
        hints.put(JAI.KEY_REPLACE_INDEX_COLOR_MODEL, Boolean.valueOf(isReplaceIndexColorModelAllowed()));
        hints.put(JAI.KEY_TRANSFORM_ON_COLORMAP,     Boolean.valueOf(isTransformOnColormapAllowed()));
        return hints;
    }

