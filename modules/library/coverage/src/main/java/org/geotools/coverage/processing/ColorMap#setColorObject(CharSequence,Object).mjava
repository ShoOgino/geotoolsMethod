    /**
     * Applies colors to the given category.
     *
     * @param category The {@linkplain Category#getName name of the category}
     *        for which to set the colors.
     * @param colors Colors to apply to the specified category, or {@code null}.
     */
    private void setColorObject(final CharSequence category, final Object colors) {
        final String name = unlocalized(category);
        if (colors != null) {
            if (colorMap == null) {
                colorMap = new HashMap<String,Object>();
            }
            colorMap.put(name, colors);
        } else if (colorMap != null) {
            colorMap.remove(name);
            if (colorMap.isEmpty()) {
                colorMap = null; // For more accurate 'equals' implementation.
            }
        }
    }

