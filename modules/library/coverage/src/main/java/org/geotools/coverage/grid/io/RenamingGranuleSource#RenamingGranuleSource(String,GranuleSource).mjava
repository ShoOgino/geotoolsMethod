    /**
     * Builds a {@link RenamingGranuleSource}
     *
     * @param name The new type name
     * @param delegate The delegate to be wrapped
     */
    public RenamingGranuleSource(String name, GranuleSource delegate) {
        this.name = name;
        this.delegate = delegate;
        SimpleFeatureType schema = null;
        try {
            schema = delegate.getSchema();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        this.delegateTypeName = schema.getTypeName();
        SimpleFeatureTypeBuilder builder = new SimpleFeatureTypeBuilder();
        builder.init(schema);
        builder.setName(name);
        this.schema = builder.buildFeatureType();
    }

