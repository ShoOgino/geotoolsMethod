    /** Forces the image to start in the origin and have a rgb/rbga/gray/gray+alpha structure */
    private RenderedImage normalizeImage(RenderedImage image1) {
        image1 =
                new ImageWorker(image1)
                        .forceColorSpaceRGB()
                        .forceComponentColorModel()
                        .getRenderedImage();
        if (image1.getMinX() != 0 || image1.getMinY() != 0) {
            image1 = PlanarImage.wrapRenderedImage(image1).getAsBufferedImage();
        }
        return image1;
    }

