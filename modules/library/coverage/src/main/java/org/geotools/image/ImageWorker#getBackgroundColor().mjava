    /**
     * Returns the background colors as a value, if at all possible (3 or 4 values in the right
     * range)
     *
     * @return
     */
    private Color getBackgroundColor() {
        if (background == null || background.length < 3 || background.length > 4) {
            return null;
        }

        for (int i = 0; i < background.length; i++) {
            double component = background[i];
            if (component < 0 || component > 255) {
                return null;
            }
        }

        if (background.length == 3) {
            return new Color((int) background[0], (int) background[1], (int) background[2]);
        } else {
            // as per initial exit condition, here we can only have background.length == 4
            return new Color(
                    (int) background[0],
                    (int) background[1],
                    (int) background[2],
                    (int) background[3]);
        }
    }

