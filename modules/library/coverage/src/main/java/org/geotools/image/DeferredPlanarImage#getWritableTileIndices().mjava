    /**
     * Returns an array of {@link Point} objects indicating which tiles are
     * checked out for writing. Returns null if none are checked out.
     */
    public synchronized Point[] getWritableTileIndices() {
        Point[] indices = null;
        if (pendings != null) {
            int count = 0;
            final int minX = getMinTileX();
            final int minY = getMinTileY();
            final int numX = getNumXTiles();
            final int length = pendings.length;
            for (int i=0; i<length; i++) {
                if (pendings[i] != null) {
                    if (indices == null) {
                        indices = new Point[length - i];
                    }
                    final int x = i % numX + minX;
                    final int y = i / numX + minY;
                    assert getTileIndice(x,y) == i : i;
                    indices[count++] = new Point(x,y);
                }
            }
            if (indices != null) {
                indices = (Point[]) XArray.resize(indices, count);
            }
        }
        return indices;
    }

