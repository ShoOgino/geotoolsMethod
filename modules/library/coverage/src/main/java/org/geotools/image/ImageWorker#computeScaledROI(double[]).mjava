    /**
     * Apply scaling parameter to the ROI to return the scaled version 
     */
    private ROI computeScaledROI(double[] scalingParams) throws NoninvertibleTransformException {
        ROI newRoi = null;
        if (roi != null) {
            AffineTransform sTx = AffineTransform.getScaleInstance(scalingParams[0], scalingParams[1]);
            sTx.concatenate(AffineTransform.getTranslateInstance(scalingParams[2], scalingParams[3]));
            newRoi = roi.transform(sTx.createInverse());
        }
        return newRoi;
    }

