    /** Wraps an arbitrary envelope to an object that can be stored in {@link #envelope}. */
    private static GeneralEnvelope wrap(final Envelope envelope) {
        return (envelope == null || envelope instanceof GeneralEnvelope)
                ? (GeneralEnvelope) envelope
                : new GeneralEnvelope(envelope);
    }

