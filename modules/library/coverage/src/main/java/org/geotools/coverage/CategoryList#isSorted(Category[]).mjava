    /**
     * Returns {@code true} if the specified categories are sorted. This method ignores {@code NaN}
     * values. This method is used for assertions only.
     */
    static boolean isSorted(final Category[] categories) {
        for (int i = 1; i < categories.length; i++) {
            Category c;
            assert !((c = categories[i - 0]).minimum > c.maximum) : c;
            assert !((c = categories[i - 1]).minimum > c.maximum) : c;
            if (compare(categories[i - 1].maximum, categories[i].minimum) > 0) {
                return false;
            }
        }
        return true;
    }

