    private void assertHistogram(
            RenderedImage image,
            int xPeriod,
            int yPeriod,
            int expectedCountBin1,
            int expectedCountBin2,
            int expectedCountBin3) {
        ImageWorker iw = new ImageWorker(image).setXPeriod(xPeriod).setYPeriod(yPeriod);
        double[] minimums = iw.getMinimums();
        double[] maximums = iw.getMaximums();
        Histogram histogram = iw.getHistogram(new int[] {3}, minimums, maximums);
        assertThat(
                histogram.getBins(0),
                CoreMatchers.equalTo(
                        new int[] {expectedCountBin1, expectedCountBin2, expectedCountBin3}));
    }

