    @Test
    public void testEvaluateFeature() throws Exception {
        Filter isCoverage = FF.equals(FF.function("isCoverage"), FF.literal("true"));
        Filter isNotCoverage = FF.equals(FF.function("isCoverage"), FF.literal("false"));

        // a coverage
        CoordinateReferenceSystem crs = DefaultGeographicCRS.WGS84;
        GridCoverage2D coverage = getRandomCoverage(crs);
        SimpleFeatureCollection featureCollection = FeatureUtilities.wrapGridCoverage(coverage);
        SimpleFeature feature = featureCollection.features().next();
        assertTrue(isCoverage.evaluate(feature));
        assertFalse(isNotCoverage.evaluate(feature));
        
        // not a coverage
        SimpleFeatureType type = DataUtilities.createType("ns", "name:string,geom:Geometry");
        SimpleFeatureBuilder build = new SimpleFeatureBuilder(type);
        build.add("testName");
        build.add(null);
        feature = build.buildFeature(null);
        assertEquals(false, isCoverage.evaluate(feature));
        assertEquals(true, isNotCoverage.evaluate(feature));        
    }

