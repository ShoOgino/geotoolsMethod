    @Test
    public void testPNGTransparency() throws Exception {
        try (InputStream is = ImageWorker.class.getResourceAsStream("test-data/rgb_trns.png")) {
            RenderedImage image = ImageIOExt.read(is);

            // color model check
            ColorModel colorModel = image.getColorModel();
            assertThat(colorModel, instanceOf(ComponentColorModel.class));
            assertEquals(4, colorModel.getNumComponents());
            assertEquals(ColorModel.TRANSLUCENT, colorModel.getTransparency());

            // transparency check, the pixel is green but transparent
            int[] pixel = new int[4];
            image.getData().getPixel(32, 32, pixel);
            assertEquals(0, pixel[0]);
            assertEquals(255, pixel[1]);
            assertEquals(52, pixel[2]);
            assertEquals(0, pixel[3]);
        }
    }

