    /**
     * Projects the specified coverage to the specified CRS using the specified hints. The result
     * will be displayed in a window if {@link #SHOW} is set to {@code true}.
     *
     * @param coverage The coverage to project.
     * @param targetCRS The target CRS, or {@code null} if the same.
     * @param geometry The target geometry, or {@code null} if the same.
     * @param hints An optional set of hints, or {@code null} if none.
     * @return The operation name which was applied on the image, or {@code null} if none.
     */
    protected static String showProjected(
            GridCoverage2D coverage,
            final CoordinateReferenceSystem targetCRS,
            final GridGeometry2D geometry,
            final Hints hints) {
        coverage = project(coverage, targetCRS, geometry, hints);
        final RenderedImage image = coverage.getRenderedImage();
        String operation = null;
        if (image instanceof RenderedOp) {
            operation = ((RenderedOp) image).getOperationName();
            CoverageProcessor.LOGGER.fine("Applied \"" + operation + "\" JAI operation.");
        }
        if (SHOW) {
            /*
             * Note: In current Resample implementation, simple affine transforms like
             *       translations will not be visible with the simple viewer used here.
             *       It would be visible however with more elaborated viewers.
             */
            Viewer.show(coverage, operation);
        } else {
            // Forces computation in order to check if an exception is thrown.
            assertNotNull(coverage.getRenderedImage().getData());
        }
        return operation;
    }

