    @Test
    public void testWarpAffinePreserveBackgorund() throws Exception {
        // pick a RGB image, do warp and then affine
        double[] background = {1, 2, 3};
        GridCoverage2D warped =
                project(
                        EXAMPLES.get(0),
                        CRS.parseWKT(GOOGLE_MERCATOR_WKT),
                        null,
                        "nearest",
                        background,
                        null);

        ImageWorker iwa = new ImageWorker(warped.getRenderedImage());
        iwa.affine(
                AffineTransform.getScaleInstance(0.5, 0.5),
                Interpolation.getInstance(Interpolation.INTERP_NEAREST),
                null);
        RenderedOp reduced = (RenderedOp) iwa.getRenderedImage();
        assertEquals("Warp", reduced.getOperationName());
        assertEquals(background, reduced.getParameterBlock().getObjectParameter(2));
    }

