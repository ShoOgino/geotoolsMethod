    /**
     * Checks if a {@link Comparable} is a number identical to the supplied float value.
     */
    private static void assertValueEquals(String message, Comparable<?> number, double expected, double EPS) {
        assertTrue("Double.class", number instanceof Double);
        final double actual = ((Number) number).doubleValue();
        if (Double.isNaN(expected)) {
            assertEquals(message, toHexString(expected), toHexString(actual));
        } else {
            assertEquals(message, expected, actual, EPS);
        }
    }

