    @Test
    public void testExtremaSubsample() {
        // increase the subsampling factor, it should lead to progressive deterioration of
        // the extracted stats values. Images and workers are re-created over and over, since
        // the worker attaches the stats to the image as a property (so a new one is needed to
        // force re-calculation
        assertMinMax(getSynthetic(1000), 1, 1, 1, 1000);
        assertMinMax(getSynthetic(1000), 4, 4, 1, 1000);
        assertMinMax(getSynthetic(1000), 8, 8, 4, 985);
        assertMinMax(getSynthetic(1000), 16, 16, 9, 985);
        assertMinMax(getSynthetic(1000), 32, 32, 11, 931);
    }

