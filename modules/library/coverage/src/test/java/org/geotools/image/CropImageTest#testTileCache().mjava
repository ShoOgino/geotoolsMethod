    @Test
    public void testTileCache() {
        TileCache tc = new SunTileCache();
        RenderingHints hints = new RenderingHints(JAI.KEY_TILE_CACHE, tc);
        
        BufferedImage source = buildSource();
        ParameterBlock pb = buildParameterBlock(source);
        
        RenderedOp gtCropped = JAI.create("GTCrop", pb, hints);
        gtCropped.getColorModel(); // force to compute the image
        assertSame(tc,  gtCropped.getRenderingHint(JAI.KEY_TILE_CACHE));
    }

