    /**
     * Subclass method for returning a native writer from the datastore.
     *
     * <p>It is important to note that if the native writer intends to handle any of the following
     * natively:
     *
     * <ul>
     *   <li>reprojection
     *   <li>filtering
     *   <li>events
     *   <li>max feature limiting
     *   <li>sorting
     *   <li>locking
     * </ul>
     *
     * Then it <b>*must*</b> set the corresponding flags to <code>true</code>:
     *
     * <ul>
     *   <li>{@link #canReproject()}
     *   <li>{@link #canFilter()}
     *   <li>{@link #canEvent()}
     *   <li>{@link #canLimit()}
     *   <li>{@link #canSort()}
     *   <li>{@link #canLock()}
     * </ul>
     *
     * @param query Query
     * @param flags See {@link #WRITER_ADD} and {@link #WRITER_UPDATE}
     */
    protected abstract FeatureWriter<SimpleFeatureType, SimpleFeature> getWriterInternal(
            Query query, int flags) throws IOException;

