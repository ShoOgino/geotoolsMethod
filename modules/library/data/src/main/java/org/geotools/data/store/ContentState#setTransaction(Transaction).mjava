    /**
     * Sets the transaction associated with the state.
     */
    public void setTransaction(Transaction tx) {
        this.tx = tx;
        if( tx != Transaction.AUTO_COMMIT ){
            tx.putState( this.entry, callback );
        }
    }

