    /**
     * This method changes the query object so that all propertyName references are resolved
     * to simple attribute names against the schema of the feature source.
     * <p>
     * For example, this method ensures that propertyName's such as "gml:name" are rewritten as
     * simply "name".
     *</p>
     */
    protected Query resolvePropertyNames( Query query ) {
//        Filter resolved = resolvePropertyNames( query.getFilter() );
//        if ( resolved == query.getFilter() ) {
//            return query;
//        }
//        
//        Query newQuery = new Query(query);
//        newQuery.setFilter( resolved );
//        return newQuery;
        return DataUtilities.resolvePropertyNames(query, getSchema() );
    }

