    /**
     * Checks if the parsed object is of the expected type. This is also a way to check the
     * consistency of the {@link #TYPES} map.
     */
    private static boolean isValid(final Object parsed, final String keyword) {
        if (parsed == null) {
            // Required in order to avoid AssertionError in place of ParseException.
            return true;
        }
        final Class type = getClassOf(keyword);
        return type != null && type.isInstance(parsed);
    }

