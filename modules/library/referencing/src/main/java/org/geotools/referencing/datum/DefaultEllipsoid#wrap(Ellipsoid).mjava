    /**
     * Wraps an arbitrary ellipsoid into a Geotools implementation. This method is usefull if {@link
     * #orthodromicDistance orthodromic distance computation} (for example) are desired. If the
     * supplied ellipsoid is already an instance of {@code DefaultEllipsoid} or is {@code null},
     * then it is returned unchanged.
     *
     * @param ellipsoid The ellipsoid to wrap.
     * @return The given ellipsoid as a {@code DefaultEllipsoid} instance.
     */
    public static DefaultEllipsoid wrap(final Ellipsoid ellipsoid) {
        if (ellipsoid == null || ellipsoid instanceof DefaultEllipsoid) {
            return (DefaultEllipsoid) ellipsoid;
        }
        if (ellipsoid.isIvfDefinitive()) {
            return createFlattenedSphere(
                    getProperties(ellipsoid),
                    ellipsoid.getSemiMajorAxis(),
                    ellipsoid.getInverseFlattening(),
                    ellipsoid.getAxisUnit());
        } else {
            return createEllipsoid(
                    getProperties(ellipsoid),
                    ellipsoid.getSemiMajorAxis(),
                    ellipsoid.getSemiMinorAxis(),
                    ellipsoid.getAxisUnit());
        }
    }

