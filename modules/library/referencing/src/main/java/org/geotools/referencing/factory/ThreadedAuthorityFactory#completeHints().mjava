    /**
     * Completes the set of hints according the value currently set in this object. This method is
     * invoked by {@code BufferedAuthorityFactory} or by {@code DeferredAuthorityFactory} at backing
     * store creation time.
     *
     * <p>The backing store is of course an important dependency. This method gives a chance to
     * {@link org.geotools.util.factory.FactoryRegistry} to compare the user-requested hints
     * (especially {@link Hints#FORCE_LONGITUDE_FIRST_AXIS_ORDER}) against the backing store hints,
     * by following the dependency declared there.
     *
     * <p>DON'T FORGET to set those hints to {@code null} when {@link DeferredAuthorityFactory}
     * dispose the backing store.
     */
    final void completeHints() {
        if (backingStore instanceof DatumAuthorityFactory) {
            hints.put(Hints.DATUM_AUTHORITY_FACTORY, backingStore);
        }
        if (backingStore instanceof CSAuthorityFactory) {
            hints.put(Hints.CS_AUTHORITY_FACTORY, backingStore);
        }
        if (backingStore instanceof CRSAuthorityFactory) {
            hints.put(Hints.CRS_AUTHORITY_FACTORY, backingStore);
        }
        if (backingStore instanceof CoordinateOperationAuthorityFactory) {
            hints.put(Hints.COORDINATE_OPERATION_AUTHORITY_FACTORY, backingStore);
        }
    }

