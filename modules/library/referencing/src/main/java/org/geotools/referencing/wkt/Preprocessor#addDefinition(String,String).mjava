    /**
     * Adds a predefined Well Know Text (WKT). The {@code value} argument given to this method can
     * contains itself other definitions specified in some previous calls to this method.
     *
     * @param name The name for the definition to be added.
     * @param value The Well Know Text (WKT) represented by the name.
     * @throws IllegalArgumentException if the name is invalid.
     * @throws ParseException if the WKT can't be parsed.
     */
    public void addDefinition(final String name, String value) throws ParseException {
        if (value == null || value.trim().length() == 0) {
            throw new IllegalArgumentException(Errors.format(ErrorKeys.MISSING_WKT_DEFINITION));
        }
        if (!isIdentifier(name)) {
            throw new IllegalArgumentException(
                    Errors.format(ErrorKeys.ILLEGAL_IDENTIFIER_$1, name));
        }
        value = substitute(value);
        final Definition newDef = new Definition(value, forwardParse(value));
        final Definition oldDef = (Definition) definitions.put(name, newDef);
    }

