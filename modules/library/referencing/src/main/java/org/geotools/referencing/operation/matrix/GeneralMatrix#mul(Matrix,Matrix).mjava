    /**
     * In-place update from matrix1 * matrix2.
     * @param matrix1
     * @param matrix2
     */
    public void mul(Matrix matrix1, Matrix matrix2) {
        DenseMatrix64F a = internal(matrix1);
        DenseMatrix64F b = internal(matrix2);
        if( a == mat || b == mat ){
            mat = new DenseMatrix64F(a.numRows, b.numCols );
        }
        else {
            mat.reshape(a.numRows, b.numCols, false);
        }
        CommonOps.mult(a, b, mat);
    }

