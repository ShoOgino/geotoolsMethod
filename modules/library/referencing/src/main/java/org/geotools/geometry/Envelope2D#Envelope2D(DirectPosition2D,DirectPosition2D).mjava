    /**
     * Constructs two-dimensional envelope defined by the specified coordinates. Despite their name,
     * the (<var>x</var>,<var>y</var>) coordinates don't need to be oriented toward ({@linkplain
     * AxisDirection#EAST East}, {@linkplain AxisDirection#NORTH North}). Those parameter names
     * simply match the {@linkplain #x x} and {@linkplain #y y} fields. The actual axis orientations
     * are determined by the specified CRS. See the {@linkplain Envelope2D class javadoc} for
     * details.
     *
     * <p>The {@code minDP} and {@code maxDP} arguments usually contains the minimal and maximal
     * ordinate values respectively, but this is not mandatory. The ordinates will be rearanged as
     * needed.
     *
     * @param minDP The fist position.
     * @param maxDP The second position.
     * @throws MismatchedReferenceSystemException if the two positions don't use the same CRS.
     * @since 2.4
     */
    public Envelope2D(final DirectPosition2D minDP, final DirectPosition2D maxDP)
            throws MismatchedReferenceSystemException {
        //  Uncomment next lines if Sun fixes RFE #4093999
        //      ensureNonNull("minDP", minDP);
        //      ensureNonNull("maxDP", maxDP);
        super(
                Math.min(minDP.x, maxDP.x),
                Math.min(minDP.y, maxDP.y),
                Math.abs(maxDP.x - minDP.x),
                Math.abs(maxDP.y - minDP.y));
        setCoordinateReferenceSystem(AbstractEnvelope.getCoordinateReferenceSystem(minDP, maxDP));
    }

