    /**
     * Checks an argument value. The argument must be greater than 0 and finite, otherwise an
     * exception is thrown.
     *
     * @param name The argument name.
     * @param value The argument value.
     * @param max The maximal legal argument value.
     */
    private static void checkArgument(final String name, final double value, final double max)
            throws IllegalArgumentException {
        if (!(value >= 0 && value <= max)) {
            // Use '!' in order to trap NaN
            throw new IllegalArgumentException(
                    Errors.format(ErrorKeys.ILLEGAL_ARGUMENT_$2, name, value));
        }
    }

