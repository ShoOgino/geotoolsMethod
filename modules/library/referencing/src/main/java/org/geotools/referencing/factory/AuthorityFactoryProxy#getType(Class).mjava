    /**
     * Returns the main GeoAPI interface implemented by an object of the specified type. The {@code
     * type} argument is often some implementation class like {@link
     * org.geotools.referencing.crs.DefaultProjectedCRS}. This method returns the most specific
     * GeoAPI interface implemented by {@code type}, providing that a corresponding {@code create}
     * method exists in some {@linkplain AuthorityFactory authority factory}. For example this
     * method may returns {@link ProjectedCRS} or {@link DerivedCRS} class, but not {@link
     * GeneralDerivedCRS}.
     *
     * @param type The implementation class.
     * @return The most specific GeoAPI interface implemented by {@code type}.
     * @throws IllegalArgumentException if the type doesn't implement a valid interface.
     */
    public static Class /*<? extends IdentifiedObject>*/ getType(
            final Class /*<? extends IdentifiedObject>*/ type) throws IllegalArgumentException {
        for (int i = 0; i < TYPES.length; i++) {
            final Class /*<? extends IdentifiedObject>*/ candidate = TYPES[i];
            if (candidate.isAssignableFrom(type)) {
                return candidate;
            }
        }
        throw new IllegalArgumentException(
                Errors.format(ErrorKeys.ILLEGAL_CLASS_$2, type, IdentifiedObject.class));
    }

