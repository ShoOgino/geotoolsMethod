    /**
     * Returns the {@link MapProjection} driving the specified crs, or {@code null} if none could
     * be found.
     * @param crs The coordinate reference system, or {@code null}.
     * @return The {@link MapProjection}, or {@code null} if none.
     */
    public static MapProjection getMapProjection(final CoordinateReferenceSystem crs) {
        ProjectedCRS projectedCRS = CRS.getProjectedCRS(crs);
        if(projectedCRS == null)
            return null;
        
        Projection conversion = projectedCRS.getConversionFromBase();
        MathTransform mt = conversion.getMathTransform();
        if(mt instanceof MapProjection) {
            return (MapProjection) mt;
        } else if(mt instanceof ConcatenatedTransform) {
            ConcatenatedTransform ct = (ConcatenatedTransform) mt;
            MathTransform mt1 = ct.transform1;
            MathTransform mt2 = ct.transform2;
            if(mt2 instanceof MapProjection && mt1 instanceof AffineTransform2D) {
                return (MapProjection) mt2;
            }
        }
        
        return null;
    }

