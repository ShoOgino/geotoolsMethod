    /**
     * Remove the exception factory method from the stack trace. The factory is not the place where
     * the failure occurs; the error occurs in the factory's caller.
     *
     * @param factory The name of the factory method.
     * @param exception The exception to trim.
     * @return {@code exception} for convenience.
     */
    private static ParseException trim(final String factory, final ParseException exception) {
        StackTraceElement[] trace = exception.getStackTrace();
        if (trace != null && trace.length != 0) {
            if (factory.equals(trace[0].getMethodName())) {
                trace = XArray.remove(trace, 0, 1);
                exception.setStackTrace(trace);
            }
        }
        return exception;
    }

