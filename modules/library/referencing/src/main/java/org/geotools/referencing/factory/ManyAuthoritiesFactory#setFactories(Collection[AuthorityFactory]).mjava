    /**
     * Sets the factories. This method is invoked by the {@link AllAuthoritiesFactory} subclass
     * only. No one else should invoke this method, since factories should be immutable.
     */
    final void setFactories(final Collection<AuthorityFactory> factories) {
        assert Thread.holdsLock(this);
        this.factories = createFallbacks(factories);
    }

