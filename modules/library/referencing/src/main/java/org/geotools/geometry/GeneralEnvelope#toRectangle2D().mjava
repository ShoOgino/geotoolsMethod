    /**
     * Returns a {@link Rectangle2D} with the same bounds as this {@code Envelope}. This is a
     * convenience method for interoperability with Java2D.
     *
     * @return This envelope as a twp-dimensional rectangle.
     * @throws IllegalStateException if this envelope is not two-dimensional.
     */
    public Rectangle2D toRectangle2D() throws IllegalStateException {
        if (ordinates.length == 4) {
            return XRectangle2D.createFromExtremums(
                    ordinates[0], ordinates[1], ordinates[2], ordinates[3]);
        } else {
            throw new IllegalStateException(
                    Errors.format(ErrorKeys.NOT_TWO_DIMENSIONAL_$1, getDimension()));
        }
    }

