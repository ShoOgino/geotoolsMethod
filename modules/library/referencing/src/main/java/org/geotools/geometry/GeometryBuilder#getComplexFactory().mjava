    public ComplexFactory getComplexFactory() {
        if (complexFactory == null) {
            if (hints.containsKey(Hints.COMPLEX_FACTORY)) {
                // check the hints for something explicit
                Object factory = hints.get(Hints.COMPLEX_FACTORY);
                if (factory instanceof ComplexFactory) {
                    complexFactory = (ComplexFactory) factory;
                    return complexFactory;
                }
            }
            complexFactory = GeometryFactoryFinder.getComplexFactory(hints);
        }
        return complexFactory;
    }

