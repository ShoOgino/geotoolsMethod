    /**
     * Formats the exception to be throw when the user asked for a code from an unknown authority.
     *
     * @param code The code with an unknown authority.
     * @param authority The authority, or {@code null} if none.
     * @param cause The cause for the exception to be formatted, or {@code null} if none.
     * @return The formatted exception to be throw.
     */
    private NoSuchAuthorityCodeException noSuchAuthority(
            final String code, String authority, final FactoryRegistryException cause) {
        final String message;
        if (authority == null) {
            authority = Vocabulary.format(VocabularyKeys.UNKNOWN);
            message = Errors.format(ErrorKeys.MISSING_AUTHORITY_$1, code);
        } else {
            message = Errors.format(ErrorKeys.UNKNOW_AUTHORITY_$1, authority);
        }
        final NoSuchAuthorityCodeException exception =
                new NoSuchAuthorityCodeException(message, authority, code);
        exception.initCause(cause);
        return exception;
    }

