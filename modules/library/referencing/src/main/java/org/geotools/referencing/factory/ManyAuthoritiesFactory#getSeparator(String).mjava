    /**
     * Returns the character separator for the specified code. The default implementation returns
     * the {@linkplain GenericName#DEFAULT_SEPARATOR default name separator} {@code ':'}, except if
     * the code looks like a URL (e.g. {@code "http://www.opengis.net/"}), in which case this method
     * returns {@code '/'}.
     *
     * <p>In the current implementation, "looks like a URL" means that the first non-{@linkplain
     * Character#isLetterOrDigit(char) aplhanumeric} characters are {@code "://"}. But this
     * heuristic rule may change in future implementations.
     */
    protected char getSeparator(String code) {
        code = code.trim();
        final int length = code.length();
        for (int i = 0; i < length; i++) {
            if (!Character.isLetterOrDigit(code.charAt(i))) {
                if (code.regionMatches(i, "://", 0, 3)) {
                    return '/';
                }
                break;
            }
        }
        return GenericName.DEFAULT_SEPARATOR;
    }

