    /**
     * Convenience method for checking coordinate reference system validity.
     *
     * @param crs The coordinate reference system to check.
     * @param expected the dimension expected.
     * @throws MismatchedDimensionException if the CRS dimension is not valid.
     */
    static void checkCoordinateReferenceSystemDimension(
            final CoordinateReferenceSystem crs, final int expected)
            throws MismatchedDimensionException {
        if (crs != null) {
            final int dimension = crs.getCoordinateSystem().getDimension();
            if (dimension != expected) {
                throw new MismatchedDimensionException(
                        Errors.format(
                                ErrorKeys.MISMATCHED_DIMENSION_$3,
                                crs.getName().getCode(),
                                dimension,
                                expected));
            }
        }
    }

