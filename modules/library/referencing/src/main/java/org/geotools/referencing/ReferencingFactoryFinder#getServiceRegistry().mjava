    /**
     * Returns the service registry. The registry will be created the first time this method is
     * invoked.
     */
    private static FactoryRegistry getServiceRegistry() {
        assert Thread.holdsLock(ReferencingFactoryFinder.class);
        if (registry == null) {
            registry =
                    new FactoryCreator(
                            new Class<?>[] {
                                DatumFactory.class,
                                CSFactory.class,
                                CRSFactory.class,
                                DatumAuthorityFactory.class,
                                CSAuthorityFactory.class,
                                CRSAuthorityFactory.class,
                                MathTransformFactory.class,
                                CoordinateOperationFactory.class,
                                CoordinateOperationAuthorityFactory.class,
                                GridShiftLocator.class
                            });
        }
        return registry;
    }

