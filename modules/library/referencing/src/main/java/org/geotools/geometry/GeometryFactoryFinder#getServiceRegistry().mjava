    /**
     * Returns the service registry. The registry will be created the first time this method is
     * invoked.
     */
    private static FactoryRegistry getServiceRegistry() {
        assert Thread.holdsLock(GeometryFactoryFinder.class);
        if (registry == null) {
            registry =
                    new FactoryCreator(
                            Arrays.asList(
                                    new Class<?>[] {
                                        Precision.class,
                                        PositionFactory.class,
                                        GeometryFactory.class,
                                        ComplexFactory.class,
                                        AggregateFactory.class,
                                        PrimitiveFactory.class
                                    }));
        }
        return registry;
    }

