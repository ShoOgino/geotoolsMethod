    /**
     * Returns the parameter value for the specified operation parameter. Values are automatically
     * converted into the standard units specified by the supplied {@code param} argument. This
     * convenience method is used by subclasses for initializing {@linkplain MathTransform math
     * transform} from a set of parameters.
     *
     * @param param The parameter to look for.
     * @param group The parameter value group to search into.
     * @return The requested parameter value, or {@code NaN} if {@code param} is {@linkplain
     *     #createOptionalDescriptor optional} and the user didn't provided any value.
     * @throws ParameterNotFoundException if the parameter is not found.
     * @todo Move to the {@link org.geotools.parameter.Parameters} class.
     */
    protected static double doubleValue(
            final ParameterDescriptor<?> param, final ParameterValueGroup group)
            throws ParameterNotFoundException {
        final Unit<?> unit = param.getUnit();
        final ParameterValue<?> value = getParameter(param, group);
        return (value == null)
                ? Double.NaN
                : (unit != null) ? value.doubleValue(unit) : value.doubleValue();
    }

