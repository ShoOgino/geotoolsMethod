    /**
     * Constructs a concatenated operation from a set of properties and a {@linkplain
     * MathTransformFactory math transform factory}. The properties given in argument follow the
     * same rules than for the {@link AbstractCoordinateOperation} constructor.
     *
     * @param properties Set of properties. Should contains at least {@code "name"}.
     * @param operations The sequence of operations.
     * @param factory The math transform factory to use for math transforms concatenation.
     * @throws FactoryException if the factory can't concatenate the math transforms.
     */
    public DefaultConcatenatedOperation(
            final Map<String, ?> properties,
            final CoordinateOperation[] operations,
            final MathTransformFactory factory)
            throws FactoryException {
        this(
                properties,
                new ArrayList<SingleOperation>(operations != null ? operations.length : 4),
                operations,
                factory);
    }

