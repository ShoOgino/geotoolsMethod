    /**
     * Test affine tranformation for the whole grid by comparing the expected "real world" to the
     * approximated coordinates. Since the affine transform is fitted using least-squares method,
     * the transformation is approximative.
     */
    @Test
    public void testAffineTransform() {
        final double[] array = getGridCoordinates(false);
        grid.getAffineTransform().transform(array, 0, array, 0, array.length / 2);
        compare(array, true, FIT_TOLERANCE);
    }

