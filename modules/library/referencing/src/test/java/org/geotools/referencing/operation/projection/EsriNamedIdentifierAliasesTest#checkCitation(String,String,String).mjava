    /**
     * Constructs a CRS by parsing the provided WKT, then checks to format the CRS back to WKT using
     * ESRI and EPSG citations, to ensure the right projection names are used.
     */
    protected void checkCitation(String sourceWkt, String esriProj, String epsgProj)
            throws Exception {
        CoordinateReferenceSystem crs = CRS.parseWKT(sourceWkt);

        Formatter esriFormatter = new Formatter(Symbols.DEFAULT, 0);
        esriFormatter.setAuthority(Citations.ESRI);
        esriFormatter.append(crs);

        String wkt = esriFormatter.toString();
        Assert.assertTrue(wkt.contains(esriProj));

        Formatter epsgFormatter = new Formatter(Symbols.DEFAULT, 0);
        epsgFormatter.setAuthority(Citations.EPSG);
        epsgFormatter.append(crs);
        wkt = epsgFormatter.toString();
        Assert.assertTrue(wkt.contains(epsgProj));
    }

