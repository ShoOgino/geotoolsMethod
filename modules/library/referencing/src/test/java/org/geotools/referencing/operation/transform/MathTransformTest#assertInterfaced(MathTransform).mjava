    /**
     * Verify that the specified transform implements {@link MathTransform1D} or {@link
     * MathTransform2D} as needed.
     *
     * @param transform The transform to test.
     */
    private static void assertInterfaced(final MathTransform transform) {
        if (transform instanceof LinearTransform) {
            final Matrix matrix = ((LinearTransform) transform).getMatrix();
            if (!((XMatrix) matrix).isAffine()) {
                // Special case: Non-affine transforms not yet declared as a 1D or 2D transform.
                return;
            }
        }
        int dim = transform.getSourceDimensions();
        if (transform.getTargetDimensions() != dim) {
            dim = 0;
        }
        assertEquals("MathTransform1D", (dim == 1), (transform instanceof MathTransform1D));
        assertEquals("MathTransform2D", (dim == 2), (transform instanceof MathTransform2D));
    }

