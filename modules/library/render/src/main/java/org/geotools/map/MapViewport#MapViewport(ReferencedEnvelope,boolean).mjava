    /**
     * Creates a new view port  with the specified display area in world coordinates.
     * The input envelope is copied so subsequent changes to it will not affect the
     * viewport.
     * <p>
     * The initial screen area will be empty and aspect ratio correction will be enabled
     * or disabled according to {@code correctAspectRatio}.
     * 
     * @param bounds display area in world coordinates (may be {@code null})
     * @param correctAspectRatio whether to enable aspect ratio correction
     */
    public MapViewport(ReferencedEnvelope bounds, boolean correctAspectRatio) {
        this.screenArea = new Rectangle();
        this.correctAspectRatio = correctAspectRatio;
        
        if (bounds == null || bounds.isEmpty()) { 
            setEmptyBounds();
            
        } else {
            // At this point we just store the bounds, copying them defensively.
            
            this.bounds = new ReferencedEnvelope(bounds);
        }
    }

