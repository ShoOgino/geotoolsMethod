        /**
         * Removes any layers from this list that are not contained in the
         * input collection.
         * 
         * @param layers the layers which should not be removed
         * @return {@code true} if any layers were removed; {@code false} otherwise
         */
        @Override
        public boolean retainAll(Collection<?> layers) {
            for (Layer element : this) {
                if (!layers.contains(element)) {
                    if (layerListener != null) {
                        element.removeMapLayerListener(layerListener);
                    }
                    element.dispose();
                }
            }
            boolean removed = super.retainAll(layers);
            if (removed) {
                fireLayerRemoved(null, 0, size() - 1);
            }
            return removed;
        }

