    /**
     * Finds the geometric attribute requested by the symbolizer
     * 
     * @param drawMe
     *            The feature
     * @param s
     * 
     * /** Finds the geometric attribute requested by the symbolizer
     * 
     * @param drawMe
     *            The feature
     * @param s
     *            The symbolizer
     * @return The geometry requested in the symbolizer, or the default geometry
     *         if none is specified
     */
    private com.vividsolutions.jts.geom.Geometry findGeometry(Object drawMe,
            Symbolizer s) {
        Expression geomExpr = s.getGeometry();

        // get the geometry
        Geometry geom;
        if(geomExpr == null) {
            if(drawMe instanceof SimpleFeature) {
                geom = (Geometry) ((SimpleFeature) drawMe).getDefaultGeometry();
            } else if (drawMe instanceof Feature) {
                geom = (Geometry) ((Feature) drawMe).getDefaultGeometryProperty().getValue();
            } else {
                geom = (Geometry) defaultGeometryPropertyName.evaluate(drawMe, Geometry.class);
            }
        } else {
            geom = (Geometry) geomExpr.evaluate(drawMe, Geometry.class);
        }

        return geom;    
    }

