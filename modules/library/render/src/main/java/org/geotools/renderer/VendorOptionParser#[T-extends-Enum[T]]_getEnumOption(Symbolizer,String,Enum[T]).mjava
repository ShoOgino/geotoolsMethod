    /**
     * Extracts a enumeration from the vendor options map, returns it if found, returns the default
     * value if not
     */
    public <T extends Enum<T>> Enum<T> getEnumOption(
            Symbolizer symbolizer, String optionName, Enum<T> defaultValue) {
        String value = getOption(symbolizer, optionName);

        if (value == null) return defaultValue;
        try {
            Enum<T> enumValue = Enum.valueOf(defaultValue.getDeclaringClass(), value.toUpperCase());
            return enumValue;
        } catch (Exception e) {
            return defaultValue;
        }
    }

