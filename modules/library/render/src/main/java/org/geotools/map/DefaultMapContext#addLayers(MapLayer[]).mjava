    /**
     * Add an array of new layers to this context and trigger a {@link MapLayerListEvent}.
     * 
     * @param layers
     *            the new layers that are to be added.
     * 
     * @return the number of new layers actually added (will be less than the length of the layers
     *         array if some layers were already present)
     */
    @SuppressWarnings("deprecation")
    public int addLayers(MapLayer[] array) {
        if ((array == null) || (array.length == 0)) {
            return 0;
        }
        List<Layer> layersToAdd = toLayerList(array);
        int count = layers().addAllAbsent(layersToAdd);
        return count;
    }

