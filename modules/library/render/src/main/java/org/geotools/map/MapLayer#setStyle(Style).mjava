    /**
     * Sets the style for this layer. If a style has not been defined a default one is used.
     *
     * @param style The new style
     */
    public void setStyle(Style style) {
        if (style == null) {
            throw new NullPointerException("Style required");
        } else if (internal instanceof StyleLayer) {
            StyleLayer layer = (StyleLayer) internal;
            layer.setStyle(style);
        }
        //        else if (internal instanceof GridCoverageLayer) {
        //            GridCoverageLayer layer = (GridCoverageLayer) internal;
        //            layer.setStyle(style);
        //        }
        //        else if (internal instanceof GridReaderLayer) {
        //            GridReaderLayer layer = (GridReaderLayer) internal;
        //            layer.setStyle(style);
        //        }
        else {
            throw new IllegalStateException("Style not supported by " + internal);
        }
    }

