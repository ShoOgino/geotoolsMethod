    /**
     * Draws a line under the text with the same color of the text and with the same width
     * using the provided thickness and offset.
     */
    private void drawStraightLabelUnderlineIfNeeded(java.awt.Shape outline, LineMetrics metrics, boolean drawingHalo) {
        Rectangle2D bounds = outline.getBounds2D().getBounds();
        double minX = bounds.getMinX();
        double maxX = bounds.getMaxX();
        drawStraightLabelUnderlineIfNeeded(minX, maxX, metrics, drawingHalo);
    }

