    protected void fillBackground(Graphics2D graphics, Rectangle paintArea, Style style) {
        // get the paint, could be a repeated image too (TexturePaint)
        Paint background = styleFactory.getPaint(style.getBackground(), null, null);
        graphics.setPaint(background);
        // the opacity we need only if the paint is solid, otherwise the graphic fill
        // machinery has already given us the right composite for it
        if (background instanceof Color) {
            Composite composite = styleFactory.getComposite(style.getBackground(), null);
            graphics.setComposite(composite);
        }
        // and fill it
        graphics.fill(paintArea);
    }

