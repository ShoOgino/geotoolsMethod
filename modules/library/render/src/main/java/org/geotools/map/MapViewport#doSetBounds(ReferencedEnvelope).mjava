    /**
     * Calculates the affine transforms used to convert between screen
     * and world coordinates. If aspect ratio matching is enabled, the
     * transforms will be calculated to centre the requested bounds in the
     * screen area, after which the bounds will be adjusted if necessary to have
     * the same aspect ratio as the screen area. If aspect ratio matching is not
     * enabled, no such centering and adjustment happen, and the resulting world 
     * bounds will be equal to the requested bounds.
     * 
     * @param requestedBounds requested display area in world coordinates
     */
    private void doSetBounds(ReferencedEnvelope requestedBounds) {
        if (matchingAspectRatio && !screenArea.isEmpty()) {
            calculateCenteringTransforms(requestedBounds);
            bounds = calculateActualBounds();
            
        } else {
            calculateSimpleTransforms(requestedBounds);
            bounds = new ReferencedEnvelope(requestedBounds);
        }
    }

