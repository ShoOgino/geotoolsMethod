    /**
     * Creates a new instance of BoundsEvent.
     *
     * <p>Example:
     *
     * <pre>
     * new MapBoundsEvent(map, EnumSet.of(Type.BOUNDS), null, bounds)
     * </pre>
     *
     * @param source map viewport reporting the change
     * @param type EnumSet flagging one or both of the following {@linkplain #AREA_OF_INTEREST_MASK}
     *     and {@linkplain #COORDINATE_SYSTEM_MASK}
     * @param oldBounds the context's previous area of interest
     * @param newBounds the context's new area of interest
     * @throws IllegalArgumentException if type is invalid
     */
    public MapBoundsEvent(
            MapViewport source,
            EnumSet<Type> type,
            ReferencedEnvelope oldBounds,
            ReferencedEnvelope newBounds) {
        super(source);
        this.type = type;
        this.oldAreaOfInterest = oldBounds;
        this.newAreaOfInterest = newBounds;
    }

