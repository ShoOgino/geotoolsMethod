        public GridBasedPositionGenerator(Random random, ReservedAreaCache rac, int targetSymbolCount, Rectangle targetArea, boolean randomRotation) {
            this.targetSymbolCount = targetSymbolCount;
            this.random = random;
            this.targetArea = targetArea;
            // first attempt at computing rows and cols
            this.rows = (int) Math.sqrt(targetSymbolCount);
            this.cols = targetSymbolCount / rows;
            // compute deltas, taking into account the symbol size
            this.deltaX = 1d * targetArea.width / cols; 
            this.deltaY = 1d * targetArea.height / rows;
            // adapt rows and cols to the deltas just computed
            this.rows = (int) Math.max(Math.round(targetArea.width / deltaX), 1);
            this.cols = (int) Math.max(Math.round(targetArea.height / deltaY), 1);
            this.randomRotation = randomRotation;
        }

