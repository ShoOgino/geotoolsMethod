    @Override
    public void setColor(int x, int r, int g, int b, int a) {
        final int base = x * pixelSize;
        pixels[base] = (byte) (r & 0xFF);
        pixels[base + 1] = (byte) (g & 0xFF);
        pixels[base + 2] = (byte) (b & 0xFF);
        if (hasAlpha) {
            pixels[base + 3] = (byte) (a & 0xFF);
        }
    }

