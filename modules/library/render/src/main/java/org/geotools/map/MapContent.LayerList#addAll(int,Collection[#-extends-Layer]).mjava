        /**
         * Adds all layers from the input collection that are not already present in this list, with
         * the first added layer taking position {@code index}.
         *
         * @param index position of the first added layer in this list
         * @param layers candidate layers to add
         * @return {@code true} if any layers were added; {@code false} otherwise
         */
        @Override
        public boolean addAll(int index, Collection<? extends Layer> layers) {
            boolean added = false;
            int pos = index;

            for (Layer layer : layers) {
                if (!contains(layer)) {
                    add(pos, layer);
                    if (layerListener != null) {
                        layer.addMapLayerListener(layerListener);
                    }
                    added = true;
                    pos++;
                }
            }

            if (added) {
                checkViewportCRS();
                fireLayerAdded(null, index, size() - 1);
            }

            return added;
        }

