    /**
     * Return a Piecewise transform doing clamping outside the central range
     *
     * @param minimum minimum valid value of the central range
     * @param maximum maximum valid value of the central range
     * @param minValue minValue to be returned from values outside (below) the central range
     * @param maxValue maxValue to be returned from values outside (above) the central range
     * @return
     */
    private static PiecewiseTransform1D<DefaultPiecewiseTransform1DElement>
            generateClampingPiecewise(
                    double minimum, double maximum, double minValue, double maxValue) {
        final DefaultPiecewiseTransform1DElement zeroElement =
                DefaultPiecewiseTransform1DElement.create(
                        "clamp-to-min", RangeFactory.create(0, true, minimum, false), minValue);
        final DefaultPiecewiseTransform1DElement mainElement =
                DefaultPiecewiseTransform1DElement.create(
                        "passthrough", RangeFactory.create(minimum, maximum));
        final DefaultPiecewiseTransform1DElement maxElement =
                DefaultPiecewiseTransform1DElement.create(
                        "clamp-to-max",
                        RangeFactory.create(maximum, false, Double.POSITIVE_INFINITY, true),
                        maxValue);

        return new DefaultPiecewiseTransform1D<DefaultPiecewiseTransform1DElement>(
                new DefaultPiecewiseTransform1DElement[] {zeroElement, mainElement, maxElement}, 0);
    }

