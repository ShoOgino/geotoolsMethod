    /**
     * Create a LookupTable for passthrough mapping except for values outside [min,max] range which
     * should be mapped to newMin, newMax respectively.
     *
     * @param min
     * @param max
     * @param newMin
     * @param newMax
     * @return
     */
    private static byte[] createClampingLookupTableByte(
            double min, double max, byte newMin, byte newMax) {
        final byte[] lut = new byte[256];
        for (int i = 1; i < lut.length; i++) {
            lut[i] = i < min ? (byte) newMin : (i > max ? (byte) newMax : (byte) i);
        }
        return lut;
    }

