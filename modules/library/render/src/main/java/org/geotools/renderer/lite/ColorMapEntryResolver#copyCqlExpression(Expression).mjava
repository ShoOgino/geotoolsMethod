    protected Expression copyCqlExpression(Expression expression) {
        if (expression == null) return null;
        if (expression instanceof Literal) {
            String value = expression.evaluate(null, String.class);
            if (value != null && value.startsWith("${")) {
                expression = ExpressionExtractor.extractCqlExpressions(value);
            }
        }
        Expression simplified = (Expression) expression.accept(simplifier, ff);
        return simplified;
    }

