    /**
     * Vertical centering is not trivial, because visually we want centering on characters such as
     * a,m,e, and not centering on d,g whose center is affected by the full ascent or the full
     * descent. This method tries to computes the y anchor taking into account those.
     */
    public double getLinePlacementYAnchor() {
        TextStyle2D textStyle = getLabel().getTextStyle();
        LineMetrics lm =
                textStyle
                        .getFont()
                        .getLineMetrics(textStyle.getLabel(), graphics.getFontRenderContext());

        // gracefully handle font size = 0
        if (lm.getHeight() > 0) {
            return (Math.abs(lm.getStrikethroughOffset()) + lm.getDescent() + lm.getLeading())
                    / lm.getHeight();
        } else {
            return 0;
        }
    }

