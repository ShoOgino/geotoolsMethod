    /**
     * Add a new layer if not already present and trigger a {@linkplain MapLayerListEvent}. If a
     * coordinate reference system has not been set for the context an attempt is made to retrieve
     * one from the new layer and use that as the context's CRS.
     *
     * @param index the position at which to insert the layer in the list of layers held by this
     *     context
     * @param mapLayer the map layer to add
     * @return true if the layer was added; false otherwise (layer was already present)
     */
    @SuppressWarnings("deprecation")
    public boolean addLayer(int index, MapLayer mapLayer) {
        // checkCRS(mapLayer);
        Layer layer = mapLayer.toLayer();
        layers().add(index, layer);
        return true;
    }

