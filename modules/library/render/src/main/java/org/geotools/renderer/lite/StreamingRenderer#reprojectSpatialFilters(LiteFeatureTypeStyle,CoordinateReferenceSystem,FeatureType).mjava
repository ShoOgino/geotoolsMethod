    /**
     * Reprojects spatial filters so that they match the feature source native CRS, and assuming all
     * literal geometries are specified in the specified declaredCRS
     */
    void reprojectSpatialFilters(
            LiteFeatureTypeStyle fts, CoordinateReferenceSystem declaredCRS, FeatureType schema) {
        for (int i = 0; i < fts.ruleList.length; i++) {
            fts.ruleList[i] = reprojectSpatialFilters(fts.ruleList[i], declaredCRS, schema);
        }
        if (fts.elseRules != null) {
            for (int i = 0; i < fts.elseRules.length; i++) {
                fts.elseRules[i] = reprojectSpatialFilters(fts.elseRules[i], declaredCRS, schema);
            }
        }
    }

