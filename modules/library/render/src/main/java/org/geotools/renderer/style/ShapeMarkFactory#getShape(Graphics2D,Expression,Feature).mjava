    @Override
    public Shape getShape(Graphics2D graphics, Expression symbolUrl, Feature feature)
            throws Exception {
        // cannot handle a null url
        if (symbolUrl == null) return null;

        // see if it's a shape://
        String wellKnownName = symbolUrl.evaluate(feature, String.class);
        if (!wellKnownName.startsWith(SHAPE_PREFIX)) return null;

        String name = wellKnownName.substring(SHAPE_PREFIX.length());
        return shapes.get(name);
    }

