    @Override
    public PathIterator getPathIterator(AffineTransform at, double flatness) {
        // we need to work against a flattened iterator, the dashed iterator
        // cannot handle curved segments
        if (flatness < 1) {
            flatness = 1;
        }
        return new DashedIterator(shape.getPathIterator(at, flatness), dashArray, dashPhase);
    }

