    private GeneralParameterValue[] applyBandsSelectionParameter(
            GridCoverageReader reader,
            GeneralParameterValue[] readParams,
            RasterSymbolizer symbolizer) {
        int[] bandIndices =
                ChannelSelectionUpdateStyleVisitor.getBandIndicesFromSelectionChannels(symbolizer);
        Parameter<int[]> bandIndicesParam =
                (Parameter<int[]>) AbstractGridFormat.BANDS.createValue();
        bandIndicesParam.setValue(bandIndices);
        List<GeneralParameterValue> paramList = new ArrayList<>();
        if (readParams != null) {
            paramList.addAll(Arrays.asList(readParams));
        }
        paramList.add(bandIndicesParam);
        return paramList.toArray(new GeneralParameterValue[paramList.size()]);
    }

