    //
    // Support for feature based rendering systems
    //
    // Rather than ask feature based rendering systems such as KML to do a lot of instanceof checks
    // and casts the following methods are provided returning NullObjects.
    //
    /**
     * Get the style for this layer. If style has not been set, then null is returned.
     *
     * <p>This is an optional method that is used to support feature based rendering systems such as
     * as KML.
     *
     * <p>Please note that feature based renders can be very flexible; as an example raster content
     * is asked to return the outline of each raster - in the event that the user has supplied a
     * style drawing the raster as a Polygon outlines.
     *
     * @return The style (SLD).
     */
    public synchronized Style getStyle() {
        // using user data to cache this placeholder so we don't have to create it each time
        Style style = (Style) getUserData().get("style");
        if (style == null) {
            StyleFactory sf = CommonFactoryFinder.getStyleFactory(null);

            // create a style that does nothing
            List<FeatureTypeStyle> featureTypeStyles = new ArrayList<FeatureTypeStyle>();
            style = sf.style(title, null, false, featureTypeStyles, null);

            getUserData().put("style", style);
        }
        return style;
    }

