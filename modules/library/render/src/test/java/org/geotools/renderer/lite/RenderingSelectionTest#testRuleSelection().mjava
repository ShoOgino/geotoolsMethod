    @Test
    public void testRuleSelection() throws Exception {
        // test <VendorOption name=renderingMap>false</VendorOption> defined for rules.
        // only two light blue points should be painted (second rule)
        // the other are disabled
        Style pStyle = RendererBaseTest.loadStyle(this, "pointRenderingSelectionRule.sld");

        MapContent mc = new MapContent();
        mc.addLayer(new FeatureLayer(pointFS, pStyle));

        StreamingRenderer renderer = new StreamingRenderer();
        renderer.setMapContent(mc);

        BufferedImage image =
                RendererBaseTest.showRender(
                        "Rule rendering selection",
                        renderer,
                        3000,
                        new ReferencedEnvelope(0, 10, 0, 10, CRS.decode("EPSG:4326")));
        ImageAssert.assertEquals(file("mapRenderingSelectionRule"), image, 150);
    }

