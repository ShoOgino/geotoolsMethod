    public void testRepeatedLabels(String styleName) throws Exception {
        Style style = RendererBaseTest.loadStyle(this, styleName + ".sld");

        MapContent mc = new MapContent();
        mc.addLayer(new FeatureLayer(fs_line, style));
        mc.getViewport().setBounds(bounds);

        StreamingRenderer renderer = new StreamingRenderer();
        renderer.setMapContent(mc);
        renderer.setJava2DHints(new RenderingHints(KEY_ANTIALIASING, VALUE_ANTIALIAS_ON));
        renderer.setMapContent(mc);

        BufferedImage image = RendererBaseTest.renderImage(renderer, bounds, null, 500, 500);
        File expected = new File("src/test/resources/org/geotools/renderer/lite/test-data/" + styleName + ".png");
        int tolerance = 300;
        ImageAssert.assertEquals(expected, image, tolerance);
    }

