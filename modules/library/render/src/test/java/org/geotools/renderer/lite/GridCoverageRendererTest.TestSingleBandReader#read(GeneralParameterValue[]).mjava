        @Override
        public GridCoverage2D read(GeneralParameterValue[] parameters)
                throws IllegalArgumentException, IOException {
            assertTrue(
                    Arrays.stream(parameters)
                            .anyMatch(
                                    p ->
                                            "Bands".equals(p.getDescriptor().getName().toString())
                                                    && Arrays.equals(
                                                            expectedBands,
                                                            (int[])
                                                                    ((ParameterValue) p)
                                                                            .getValue())));

            // Create a solid color single band coverage
            BufferedImage bi = new BufferedImage(100, 100, BufferedImage.TYPE_BYTE_GRAY);
            Graphics2D graphics = bi.createGraphics();
            graphics.setColor(Color.WHITE);
            graphics.fillRect(0, 0, bi.getWidth(), bi.getHeight());
            graphics.dispose();

            GridCoverage2D coverage =
                    CoverageFactoryFinder.getGridCoverageFactory(null)
                            .create("test", bi, getOriginalEnvelope());

            return coverage;
        }

