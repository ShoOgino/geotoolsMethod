    /**
     * Test transparency is preserved when applying a ChannelSelect style to an imageMosaic 
     * with Transparent Footprint setting.
     */
    @Test
    public void testTransparentFootprintWithChannelSelectRGB()
            throws IOException, NoSuchAuthorityCodeException, FactoryException {
        File mosaicDirectory = prepareDirectory ("footprintCS");
        GridCoverage2D gc = readCoverage(mosaicDirectory, FootprintBehavior.Transparent, null);
        GridCoverage2D output = (GridCoverage2D) symbolizeRaster(gc, "channelselect.sld");
        RenderedImage ri = output.getRenderedImage();
        
        // Assert the alpha band has been preserved, even with a ChannelSelect SLD in place
        assertHasAlpha(ri);
        disposeCoverage((GridCoverage2D) output);
    }

