    @Test
    public void reproject() throws Exception {

        // ///////////////////////////////////////////////////////////////////
        //
        // CREATING A GRID COVERAGE
        //
        //
        // // /////////////////////////////////////////////////////////////////
        final GridCoverage2D coverage = getGC();
        //
        // ///////////////////////////////////////////////////////////////////
        //
        // MAP CONTEXT
        // We want to show the context in a different CRS
        //
        //
        // /////////////////////////////////////////////////////////////////
        final MapContext context = new DefaultMapContext(DefaultGeographicCRS.WGS84);
        final Style style = getStyle();
        context.addLayer(coverage, style);

        // transform to a new crs
        final CoordinateReferenceSystem destCRS = getProjectedCRS(coverage);

        // ///////////////////////////////////////////////////////////////////
        //
        // Streaming renderer
        //
        // /////////////////////////////////////////////////////////////////
        final StreamingRenderer renderer = new StreamingRenderer();
        renderer.setContext(context);

        ReferencedEnvelope env = context.getLayerBounds();
        env =
                new ReferencedEnvelope(
                        env.getMinX(),
                        env.getMaxX(),
                        env.getMinY(),
                        env.getMaxY(),
                        DefaultGeographicCRS.WGS84);
        final ReferencedEnvelope newbounds = env.transform(destCRS, true);

        RendererBaseTest.showRender("testGridCoverageReprojection", renderer, 1000, newbounds);
    }

