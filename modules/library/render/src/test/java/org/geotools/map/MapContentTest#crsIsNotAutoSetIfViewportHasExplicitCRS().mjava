    @Test
    public void crsIsNotAutoSetIfViewportHasExplicitCRS() {
        MapViewport viewport = new MapViewport();
        
        // Explicitly set the CRS. Even though it is the default viewport CRS
        // it will be treated as an explicit (user-set) value
        viewport.setCoordinateReferenceSystem(MapViewport.DEFAULT_CRS);

        mapContent.setViewport(viewport);
        
        Layer layerWithCRS = new MockLayer(WORLD);
        mapContent.addLayer(layerWithCRS);

        assertTrue(viewport.isEditable());
        
        assertEquals(MapViewport.DEFAULT_CRS, mapContent.getCoordinateReferenceSystem());

        assertFalse(WORLD.getCoordinateReferenceSystem().equals(
                mapContent.getCoordinateReferenceSystem()));
    }

