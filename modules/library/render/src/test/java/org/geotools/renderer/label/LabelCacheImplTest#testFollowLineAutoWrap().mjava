    @Test
    public void testFollowLineAutoWrap() throws Exception {
        // these two right now are not compatible
        Font font = sb.createFont("Bitstream Vera Sans", 12);
        TextSymbolizer ts = sb.createTextSymbolizer(Color.BLACK, font, "name");
        ts.getOptions().put(TextSymbolizer.AUTO_WRAP_KEY, "10");
        ts.getOptions().put(TextSymbolizer.FOLLOW_LINE_KEY, "true");

        // put in cache
        SimpleFeature f1 = createFeature("label1", L4);
        cache.put(
                LAYER_ID,
                ts,
                f1,
                new LiteShape2((Geometry) f1.getDefaultGeometry(), null, null, false),
                ALL_SCALES);

        // check autowrap got disabled
        List<LabelCacheItem> items = cache.getActiveLabels();
        LabelCacheItem item = items.get(0);
        assertTrue(item.isFollowLineEnabled());
        assertEquals(0, item.getAutoWrap());
    }

