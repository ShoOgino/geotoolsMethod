    protected Style loadParametricStyle(Object loader, String sldFilename, String... parameters) throws IOException {
        StyleFactory factory = CommonFactoryFinder.getStyleFactory(null);

        java.net.URL url = TestData.getResource(loader, sldFilename);
        String styleTemplate = IOUtils.toString(url);
        for (int i = 0; i < parameters.length; i+=2) {
            String key = parameters[i];
            String value = parameters[i + 1];
            styleTemplate = styleTemplate.replace("%" + key + "%", value);
        }
        
        SLDParser stylereader = new SLDParser(factory, new StringReader(styleTemplate));

        Style style = stylereader.readXML()[0];
        return style;
    }

