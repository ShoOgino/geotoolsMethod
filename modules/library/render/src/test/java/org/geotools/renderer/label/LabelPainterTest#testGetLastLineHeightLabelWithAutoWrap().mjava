    @Test
    public void testGetLastLineHeightLabelWithAutoWrap() {
        LabelPainter painter = new LabelPainter(graphics, LabelRenderingMode.STRING);
        LabelCacheItem labelItem =
                new LabelCacheItem("LAYERID", style, shape, "line1\n\nline2", symbolizer);
        labelItem.setAutoWrap(100);
        painter.setLabel(labelItem);
        // should not default to 0
        assertTrue(painter.getLineHeightForAnchorY(0) > 0.0);

        // should get line height of first line
        assertEquals(painter.lines.get(0).getLineHeight(), painter.getLineHeightForAnchorY(1), 0.0);

        // should get line height of last line
        assertEquals(
                painter.lines.get(painter.getLineCount() - 1).getLineHeight(),
                painter.getLineHeightForAnchorY(1),
                0.0);
    }

