    @Test
    public void testInFunctionOptimizerNotUsedOtherFilter() throws Exception {
        String name = "name";
        PropertyName property = ff.property(name);
        SimpleFeatureType subtype1 = SimpleFeatureTypeBuilder.retype(roadType, name);
        Filter nameR1 = ff.equal(property, ff.literal("r1"), true);
        Filter nameR2 = ff.notEqual(property, ff.literal("r2"), true);
        Filter nameR3 = ff.equal(property, ff.literal("r3"), true);
        List<Filter> filters = Arrays.asList(nameR1, nameR2, nameR3);
        Or or = ff.or(filters);
        MemoryFilterOptimizer optimizer =
                new MemoryFilterOptimizer(subtype1, Collections.singleton(name));
        Object object = or.accept(optimizer, null);
        assertTrue(object instanceof Or);
    }

