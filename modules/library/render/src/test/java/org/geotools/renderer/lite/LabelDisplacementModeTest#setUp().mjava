    @Before
    public void setUp() throws Exception {
        RendererBaseTest.setupVeraFonts();

        bounds = new ReferencedEnvelope(0, 10, 0, 10, null);

        // System.setProperty("org.geotools.test.interactive", "true");

        SimpleFeatureTypeBuilder builder = new SimpleFeatureTypeBuilder();
        builder.add("geom", Point.class);
        builder.add("label", String.class);
        builder.setName("labelDisplacement");
        SimpleFeatureType type = builder.buildFeatureType();

        GeometryFactory gf = new GeometryFactory();
        SimpleFeature f1 =
                SimpleFeatureBuilder.build(
                        type,
                        new Object[] {gf.createPoint(new Coordinate(5, 8.2)), "labelA"},
                        null);
        SimpleFeature f2 =
                SimpleFeatureBuilder.build(
                        type,
                        new Object[] {gf.createPoint(new Coordinate(5, 8.0)), "labelA1"},
                        null);
        SimpleFeature f3 =
                SimpleFeatureBuilder.build(
                        type, new Object[] {gf.createPoint(new Coordinate(5, 2)), "labelB"}, null);
        SimpleFeature f4 =
                SimpleFeatureBuilder.build(
                        type, new Object[] {gf.createPoint(new Coordinate(5, 3)), "labelB1"}, null);

        MemoryDataStore data = new MemoryDataStore();
        data.addFeature(f4);
        data.addFeature(f3);
        data.addFeature(f2);
        data.addFeature(f1);
        fs = data.getFeatureSource("labelDisplacement");

        SimpleFeatureTypeBuilder builder2 = new SimpleFeatureTypeBuilder();
        builder2.add("geom", Polygon.class);
        builder2.add("label", String.class);
        builder2.setName("labelPolyDisplacement");
        SimpleFeatureType type2 = builder2.buildFeatureType();

        SimpleFeature f11 =
                SimpleFeatureBuilder.build(
                        type2,
                        new Object[] {
                            gf.createPolygon(
                                    new Coordinate[] {
                                        new Coordinate(4, 7),
                                        new Coordinate(4, 9),
                                        new Coordinate(6, 9),
                                        new Coordinate(6, 7),
                                        new Coordinate(4, 7)
                                    }),
                            "labelPolyA"
                        },
                        null);
        /*
        SimpleFeature f22 = SimpleFeatureBuilder
                .build(type, new Object[] { gf.createPoint(new Coordinate(5, 8.2)),
                        "label1.1" }, null);
        SimpleFeature f33 = SimpleFeatureBuilder.build(type,
                new Object[] { gf.createPoint(new Coordinate(5, 2)),
                        "label2" }, null);
        SimpleFeature f44 = SimpleFeatureBuilder.build(type,
                new Object[] { gf.createPoint(new Coordinate(5, 3)),
                        "label2.1" }, null);
        */
        MemoryDataStore data2 = new MemoryDataStore();
        data2.addFeature(f11);
        // data.addFeature(f2);
        // data.addFeature(f3);
        // data.addFeature(f4);
        fs2 = data2.getFeatureSource("labelPolyDisplacement");
    }

