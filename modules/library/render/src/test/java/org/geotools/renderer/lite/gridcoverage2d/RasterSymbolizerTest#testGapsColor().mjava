	/**
	 * Found out that we were creating a classification transform that was incorrect
	 * since the gaps index was set to the max index + 1 in the colormap, which 
	 * resulted in {@link IndexOutOfBoundsException}.
	 * 
	 * @throws IOException
	 */
	@Test
	public void testGapsColor() throws IOException{
            java.net.URL surl = TestData.url(this, "Topsoil-Organic-Carbon.sld");
            SLDParser stylereader = new SLDParser(sf, surl);
            StyledLayerDescriptor sld = stylereader.parseSLD();
    
            final GridSampleDimension[] gsd = { new GridSampleDimension("test1BandByte_SLD1")};
            // get a coverage
            GeneralEnvelope envelope = new GeneralEnvelope(new double[] { -180,-90 },new double[] { 180,90 });
            envelope.setCoordinateReferenceSystem(DefaultGeographicCRS.WGS84);              
            final GridCoverage2D gc = CoverageFactoryFinder.getGridCoverageFactory(null).create("name",
                    JAI.create("ImageRead", TestData.file(this, "toc.tif")),
                    envelope, gsd,
                    null, null);
    
            // build the RasterSymbolizer
            final SubchainStyleVisitorCoverageProcessingAdapter rsh = new RasterSymbolizerHelper(gc,
                    null);
            final RasterSymbolizer rs = extractRasterSymbolizer(sld);
    
            // visit the RasterSymbolizer
            rsh.visit(rs);
    
            testRasterSymbolizerHelper(rsh);
	}

