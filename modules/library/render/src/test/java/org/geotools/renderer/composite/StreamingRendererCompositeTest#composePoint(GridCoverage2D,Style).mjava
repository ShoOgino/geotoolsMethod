    private BufferedImage composePoint(GridCoverage2D first, Style pointStyle)
            throws SchemaException, IOException {
        // build the map content
        MapContent mc = new MapContent();
        StyleBuilder sb = new StyleBuilder();
        // first layer is the usual coverage
        Style baseStyle = sb.createStyle(sb.createRasterSymbolizer());
        mc.addLayer(new GridCoverageLayer(first, baseStyle));

        // second layer is a point in the middle of the map
        RenderedImage referenceImage = first.getRenderedImage();
        Point midPoint =
                new Point(
                        new LiteCoordinateSequence(
                                referenceImage.getWidth() / 2d, referenceImage.getHeight() / 2d),
                        GEOMETRY_FACTORY);
        SimpleFeatureType ft = DataUtilities.createType("test", "geom:Point:srid=4326");
        SimpleFeatureBuilder fb = new SimpleFeatureBuilder(ft);
        fb.add(midPoint);
        SimpleFeature pointFeature = fb.buildFeature(null);
        SimpleFeatureCollection collection = DataUtilities.collection(pointFeature);

        // load the point style
        mc.addLayer(new FeatureLayer(collection, pointStyle));

        // prepare the graphics for the streaming renderer and paint
        BufferedImage blended =
                new BufferedImage(
                        referenceImage.getWidth(),
                        referenceImage.getWidth(),
                        BufferedImage.TYPE_4BYTE_ABGR);
        Graphics2D graphics = blended.createGraphics();
        StreamingRenderer sr = new StreamingRenderer();
        sr.setMapContent(mc);
        sr.paint(
                graphics,
                new Rectangle(0, 0, referenceImage.getWidth(), referenceImage.getHeight()),
                ReferencedEnvelope.reference(first.getEnvelope()));
        graphics.dispose();
        mc.dispose();
        return blended;
    }

