    /**
     * The following test is from the tile module where the behavior of RenderUtilities changed
     * between 2.2. and 2.4.
     */
    public void testCenterTile() throws Exception {
        ReferencedEnvelope envelope =
                new ReferencedEnvelope(0, 36, -18, 18, DefaultGeographicCRS.WGS84);
        double scale = RendererUtilities.calculateScale(envelope, 512, 512, 72.0);
        double groundDistance = Math.hypot(36, 36) * (1852 * 60);
        double pixelDistance = Math.hypot(512, 512) * (0.0254 / 72);
        double expected = groundDistance / pixelDistance;
        assertEquals(expected, scale, expected * 0.05); // no projection deformation here!
    }

