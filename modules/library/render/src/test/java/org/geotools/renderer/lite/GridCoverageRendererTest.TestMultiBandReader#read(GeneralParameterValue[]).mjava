        @Override
        public GridCoverage2D read(GeneralParameterValue[] parameters)
                throws IllegalArgumentException, IOException {
            for (GeneralParameterValue parameter : parameters) {
                if ("Bands".equals(parameter.getDescriptor().getName().toString())) {
                    assertArrayEquals(
                            expectedBands, (int[]) ((ParameterValue) parameter).getValue());
                }
            }

            BufferedImage bi = image;
            GridCoverage2D coverage =
                    CoverageFactoryFinder.getGridCoverageFactory(null)
                            .create("test", bi, getOriginalEnvelope());

            return coverage;
        }

