        @Override
        public GridCoverage2D read(GeneralParameterValue[] parameters)
                throws IllegalArgumentException, IOException {
            assertTrue(Arrays.stream(parameters)
                    .anyMatch(
                            p -> "Bands".equals(p.getDescriptor().getName().toString())
                                    && Arrays.equals(expectedBands,
                                            (int[]) ((ParameterValue) p).getValue())));

            // Create a striped image
            final int width = 255;
            final int height = 255;
            BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);
            WritableRaster raster = bi.getRaster();
            for (int i = 0; i < width; i++) {
                for (int j = 0; j < height; j++) {
                    for (int b = 0; b < 3; b++) {
                        raster.setSample(i, j, b, i);
                    }
                }
            }

            GridCoverage2D coverage = CoverageFactoryFinder.getGridCoverageFactory(null).create(
                    "test", bi, getOriginalEnvelope());

            return coverage;
        }

