    /**
     * Tests that a fetched icon is added to the cache, and that the {@link CachingExternalGraphicFactory#clearCache()} method correctly clears the
     * cache.
     */
    public void testClearCache() {
        URL u = this.getClass().getResource("test-data/test.png");
        Icon icon = image.getIcon(null, ff.literal(u), "image/png", -1);

        assertTrue(image.imageCache.containsKey(u));
        assertNotNull(image.imageCache.get(u));

        ((CachingExternalGraphicFactory) image).clearCache();

        assertTrue(image.imageCache.isEmpty());
    }

