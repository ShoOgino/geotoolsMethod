    /**
     * Tests that a fetched icon is added to the cache, and that the {@link
     * GraphicCache#clearCache()} method correctly clears the cache.
     */
    @Test
    public void testClearCache() {
        URL u = this.getClass().getResource("test-data/test.png");
        Icon icon = image.getIcon(null, ff.literal(u), "image/png", -1);

        Assert.assertTrue(image.imageCache.containsKey(u));
        Assert.assertNotNull(image.imageCache.get(u));

        ((GraphicCache) image).clearCache();

        Assert.assertTrue(image.imageCache.isEmpty());
    }

