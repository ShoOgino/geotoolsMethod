    @Test
    public void boundsChangeWithScreenArea() {
        MapViewport vp = new MapViewport(true);
        vp.setScreenArea(SCREEN_1_1);
        vp.setBounds(WORLD_1_1);

        vp.setScreenArea(SCREEN_2_1);

        ReferencedEnvelope expectedBounds =
                new ReferencedEnvelope(
                        WORLD_1_1.getMinX(),
                        WORLD_1_1.getMaxX() + WORLD_1_1.getWidth(),
                        WORLD_1_1.getMinY(),
                        WORLD_1_1.getMaxY(),
                        WORLD_1_1.getCoordinateReferenceSystem());

        assertTrue(expectedBounds.boundsEquals2D(vp.getBounds(), TOL));
        // Now check with Fixed bounds set - bounding box will change but will include the old bbox
        vp.setFixedBoundsOnResize(true);
        vp.setScreenArea(SCREEN_1_1);
        vp.setBounds(WORLD_1_1);

        vp.setScreenArea(SCREEN_2_1);

        expectedBounds =
                new ReferencedEnvelope(
                        WORLD_1_1.getMinX() - WORLD_1_1.getWidth() / 2,
                        WORLD_1_1.getMaxX() + WORLD_1_1.getWidth() / 2,
                        WORLD_1_1.getMinY(),
                        WORLD_1_1.getMaxY(),
                        WORLD_1_1.getCoordinateReferenceSystem());
        assertTrue(expectedBounds.boundsEquals2D(vp.getBounds(), TOL));
        // double size of screen - no change in BBOX
        vp.setScreenArea(SCREEN_1_1);
        vp.setBounds(WORLD_1_1);
        vp.setScreenArea(SCREEN_2_2);
        assertTrue(WORLD_1_1.boundsEquals2D(vp.getBounds(), TOL));
        // and back to small
        vp.setScreenArea(SCREEN_1_1);
        assertTrue(WORLD_1_1.boundsEquals2D(vp.getBounds(), TOL));
    }

