    /**
     * GeoTools Quickstart demo application. Prompts the user for a shapefile and displays its
     * contents on the screen in a map frame
     */
    public static void main(String[] args) throws Exception {
        // display a data store file chooser dialog for shapefiles
        String service = JOptionPane.showInputDialog("WFS Capabilities URL", "http://localhost:8080/geoserver/ows?service=WFS&request=GetCapabilities");
        if( service == null ){
            return;
        }
        URL url = new URL( service );

        Map connectionParameters = new HashMap();
        connectionParameters.put(WFSDataStoreFactory.URL.key, url);

        DataStore store = DataStoreFinder.getDataStore(connectionParameters);
        if( store == null ){
            System.out.println("Could not connect to "+url);
            return; // could not connect
        }
        Object[] selectionValues = store.getTypeNames();
            
        String typeName = (String) JOptionPane.showInputDialog(null,"Choose FeatureTypes", "WFS Quickstart", JOptionPane.QUESTION_MESSAGE, null, selectionValues, selectionValues[0]);
        if( typeName == null ){
            return; // user canceled
        }
        FeatureSource featureSource = store.getFeatureSource(typeName);

        // Create a map context and add our shapefile to it
        MapContext map = new DefaultMapContext();
        map.addLayer(featureSource, null);

        // Now display the map
        JMapFrame.showMap(map);
    }

