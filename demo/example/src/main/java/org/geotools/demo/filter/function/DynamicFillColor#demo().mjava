    /**
     *
     * @throws java.lang.Exception
     */
    private void demo() throws Exception {
        URL url = DynamicFillColor.class.getResource("/data/shapefiles/countries.shp");
        ShapefileDataStore shapefile = new ShapefileDataStore(url);

        /*
         * Get the feature source and coordinate reference system
         * from the shapefile
         */
        String typeName = shapefile.getTypeNames()[0];
        FeatureSource featureSource = shapefile.getFeatureSource(typeName);
        FeatureType schema = featureSource.getSchema();
        CoordinateReferenceSystem crs = schema.getCoordinateReferenceSystem();

        Style style = null;

        /*
         * Create the dynamic fill Style using the POP_CNTRY attribute
         * and specifying that we want to use log values (5 and 22 are
         * approximate limits of the population data on the log scale)
         */
        style = createColorRampStyle("POP_CNTRY", 5, 22, true);

        /*
         * Alternatively, comment out the line above and uncomment the line
         * below to read the style from a SLD file associated with the countries
         * shapefile (see the SLD doc for how the function is used)
         */
        // style = createFromSLD(url);


        /*
         * Create our map and dispaly it
         */
        MapContext map = new DefaultMapContext(crs);
        map.addLayer(featureSource, style);

        JMapFrame.showMap(map);
    }

