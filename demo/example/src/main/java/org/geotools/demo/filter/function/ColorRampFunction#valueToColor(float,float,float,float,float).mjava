    /**
     * Calculate a color based on a float value by range-coding the
     * input value and then using this as the hue in an HSB color ramp.
     *
     * @param value input value
     * @return a new {@code Color} object or null if the input value
     *         was outside the range minValue:maxValue
     */
    private Color valueToColor(float value, float minValue, float maxValue, float saturation, float brightness) {
        float hue = (value - minValue) / (maxValue - minValue);
        if (hue < 0.0f || hue > 1.0f) {
            return null;
        }

        int rgb = Color.HSBtoRGB(adjustHue(hue), saturation, brightness);
        return new Color(rgb);
    }

