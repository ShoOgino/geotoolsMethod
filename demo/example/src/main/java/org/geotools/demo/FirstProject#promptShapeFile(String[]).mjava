    /**
     * This method takes the command line argument from the main method which will either be empty
     * or the name of a shapefile to open (only the first argument is examined). If empty, a dialog
     * is displayed to prompt the user for the shapefile.
     * <p>
     * 
     * @return The shapefile as a new {@code File} object
     */
    private static File promptShapeFile(String[] args) {
        File file = null;

        // check if the filename was provided on the command line
        if (args.length > 0) {
            file = new File(args[0]);
            if (file.exists()) {
                return file;
            }

            // file didn't exist - see if the user wants to continue
            int rtnVal = JOptionPane.showConfirmDialog(null,
                    "Can't find " + file.getName() + ". Choose another ?",
                    "Input shapefile", JOptionPane.YES_NO_OPTION);
            if (rtnVal != JOptionPane.YES_OPTION) {
                return null;
            }
        }

        // display a data store file chooser dialog for shapefiles
        return JFileDataStoreChooser.showOpenFile("shp", null);
    }

