    public static void main(String[] args) throws Exception {
        URL url = ReprojectedGridExample.class.getResource("/data/shapefiles/oz.shp");
        FileDataStore store = FileDataStoreFinder.getDataStore(url);
        SimpleFeatureSource ozMapSource = store.getFeatureSource();

        // create a grid of squares 10 degrees across
        double gridSize = 10.0;

        // vertex spacing for 'densified' grid polygons
        double vertexSpacing = gridSize / 20;

        // create a bounding envelope that is aligned with our grid size
        ReferencedEnvelope gridBounds = Envelopes.expandToInclude(ozMapSource.getBounds(), gridSize);
        SimpleFeatureSource grid = Grids.createSquareGrid(gridBounds, gridSize, vertexSpacing);

        MapContext map = new DefaultMapContext();
        map.setTitle("Vector grid");
        map.setCoordinateReferenceSystem(CRS.decode("EPSG:4462", true));
        map.addLayer(ozMapSource, SLD.createPolygonStyle(Color.BLUE, Color.CYAN, 1.0f));
        map.addLayer(grid, SLD.createPolygonStyle(Color.LIGHT_GRAY, null, 1.0f));

        JMapFrame.showMap(map);
    }

