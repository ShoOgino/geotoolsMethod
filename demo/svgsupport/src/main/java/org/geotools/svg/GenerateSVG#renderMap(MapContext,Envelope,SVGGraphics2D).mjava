    /**
     * DOCUMENT ME!
     *
     * @param map
     * @param env
     * @param g2d
     */
    private void renderMap(final MapContext map, final Envelope env, final SVGGraphics2D g2d) throws IOException {
        StreamingRenderer renderer = new StreamingRenderer();        
        renderer.setContext(map);
        
        Rectangle outputArea = new Rectangle(g2d.getSVGCanvasSize());
        Envelope dataArea = map.getLayerBounds();
                
        LOGGER.finest("rendering map");
        renderer.paint(g2d, outputArea, dataArea );
    }

